var sT=Object.defineProperty;var aT=(r,t,n)=>t in r?sT(r,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[t]=n;var _t=(r,t,n)=>aT(r,typeof t!="symbol"?t+"":t,n);function oT(r,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in r)){const u=Object.getOwnPropertyDescriptor(s,o);u&&Object.defineProperty(r,o,u.get?u:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Qc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ap(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var tm={exports:{}},Xl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ev;function lT(){if(Ev)return Xl;Ev=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Xl.Fragment=t,Xl.jsx=n,Xl.jsxs=n,Xl}var Tv;function uT(){return Tv||(Tv=1,tm.exports=lT()),tm.exports}var L=uT(),em={exports:{}},zt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sv;function cT(){if(Sv)return zt;Sv=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),A=Symbol.iterator;function E(P){return P===null||typeof P!="object"?null:(P=A&&P[A]||P["@@iterator"],typeof P=="function"?P:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,k={};function N(P,rt,mt){this.props=P,this.context=rt,this.refs=k,this.updater=mt||R}N.prototype.isReactComponent={},N.prototype.setState=function(P,rt){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,rt,"setState")},N.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function X(){}X.prototype=N.prototype;function $(P,rt,mt){this.props=P,this.context=rt,this.refs=k,this.updater=mt||R}var et=$.prototype=new X;et.constructor=$,B(et,N.prototype),et.isPureReactComponent=!0;var ot=Array.isArray,st={H:null,A:null,T:null,S:null,V:null},ht=Object.prototype.hasOwnProperty;function I(P,rt,mt,lt,gt,yt){return mt=yt.ref,{$$typeof:r,type:P,key:rt,ref:mt!==void 0?mt:null,props:yt}}function S(P,rt){return I(P.type,rt,void 0,void 0,void 0,P.props)}function V(P){return typeof P=="object"&&P!==null&&P.$$typeof===r}function D(P){var rt={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(mt){return rt[mt]})}var j=/\/+/g;function U(P,rt){return typeof P=="object"&&P!==null&&P.key!=null?D(""+P.key):rt.toString(36)}function C(){}function Ot(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(C,C):(P.status="pending",P.then(function(rt){P.status==="pending"&&(P.status="fulfilled",P.value=rt)},function(rt){P.status==="pending"&&(P.status="rejected",P.reason=rt)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function Et(P,rt,mt,lt,gt){var yt=typeof P;(yt==="undefined"||yt==="boolean")&&(P=null);var Vt=!1;if(P===null)Vt=!0;else switch(yt){case"bigint":case"string":case"number":Vt=!0;break;case"object":switch(P.$$typeof){case r:case t:Vt=!0;break;case y:return Vt=P._init,Et(Vt(P._payload),rt,mt,lt,gt)}}if(Vt)return gt=gt(P),Vt=lt===""?"."+U(P,0):lt,ot(gt)?(mt="",Vt!=null&&(mt=Vt.replace(j,"$&/")+"/"),Et(gt,rt,mt,"",function(Ut){return Ut})):gt!=null&&(V(gt)&&(gt=S(gt,mt+(gt.key==null||P&&P.key===gt.key?"":(""+gt.key).replace(j,"$&/")+"/")+Vt)),rt.push(gt)),1;Vt=0;var kt=lt===""?".":lt+":";if(ot(P))for(var dt=0;dt<P.length;dt++)lt=P[dt],yt=kt+U(lt,dt),Vt+=Et(lt,rt,mt,yt,gt);else if(dt=E(P),typeof dt=="function")for(P=dt.call(P),dt=0;!(lt=P.next()).done;)lt=lt.value,yt=kt+U(lt,dt++),Vt+=Et(lt,rt,mt,yt,gt);else if(yt==="object"){if(typeof P.then=="function")return Et(Ot(P),rt,mt,lt,gt);throw rt=String(P),Error("Objects are not valid as a React child (found: "+(rt==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":rt)+"). If you meant to render a collection of children, use an array instead.")}return Vt}function q(P,rt,mt){if(P==null)return P;var lt=[],gt=0;return Et(P,lt,"","",function(yt){return rt.call(mt,yt,gt++)}),lt}function at(P){if(P._status===-1){var rt=P._result;rt=rt(),rt.then(function(mt){(P._status===0||P._status===-1)&&(P._status=1,P._result=mt)},function(mt){(P._status===0||P._status===-1)&&(P._status=2,P._result=mt)}),P._status===-1&&(P._status=0,P._result=rt)}if(P._status===1)return P._result.default;throw P._result}var Z=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var rt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(rt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function Rt(){}return zt.Children={map:q,forEach:function(P,rt,mt){q(P,function(){rt.apply(this,arguments)},mt)},count:function(P){var rt=0;return q(P,function(){rt++}),rt},toArray:function(P){return q(P,function(rt){return rt})||[]},only:function(P){if(!V(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},zt.Component=N,zt.Fragment=n,zt.Profiler=o,zt.PureComponent=$,zt.StrictMode=s,zt.Suspense=m,zt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=st,zt.__COMPILER_RUNTIME={__proto__:null,c:function(P){return st.H.useMemoCache(P)}},zt.cache=function(P){return function(){return P.apply(null,arguments)}},zt.cloneElement=function(P,rt,mt){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var lt=B({},P.props),gt=P.key,yt=void 0;if(rt!=null)for(Vt in rt.ref!==void 0&&(yt=void 0),rt.key!==void 0&&(gt=""+rt.key),rt)!ht.call(rt,Vt)||Vt==="key"||Vt==="__self"||Vt==="__source"||Vt==="ref"&&rt.ref===void 0||(lt[Vt]=rt[Vt]);var Vt=arguments.length-2;if(Vt===1)lt.children=mt;else if(1<Vt){for(var kt=Array(Vt),dt=0;dt<Vt;dt++)kt[dt]=arguments[dt+2];lt.children=kt}return I(P.type,gt,void 0,void 0,yt,lt)},zt.createContext=function(P){return P={$$typeof:f,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:u,_context:P},P},zt.createElement=function(P,rt,mt){var lt,gt={},yt=null;if(rt!=null)for(lt in rt.key!==void 0&&(yt=""+rt.key),rt)ht.call(rt,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(gt[lt]=rt[lt]);var Vt=arguments.length-2;if(Vt===1)gt.children=mt;else if(1<Vt){for(var kt=Array(Vt),dt=0;dt<Vt;dt++)kt[dt]=arguments[dt+2];gt.children=kt}if(P&&P.defaultProps)for(lt in Vt=P.defaultProps,Vt)gt[lt]===void 0&&(gt[lt]=Vt[lt]);return I(P,yt,void 0,void 0,null,gt)},zt.createRef=function(){return{current:null}},zt.forwardRef=function(P){return{$$typeof:d,render:P}},zt.isValidElement=V,zt.lazy=function(P){return{$$typeof:y,_payload:{_status:-1,_result:P},_init:at}},zt.memo=function(P,rt){return{$$typeof:g,type:P,compare:rt===void 0?null:rt}},zt.startTransition=function(P){var rt=st.T,mt={};st.T=mt;try{var lt=P(),gt=st.S;gt!==null&&gt(mt,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(Rt,Z)}catch(yt){Z(yt)}finally{st.T=rt}},zt.unstable_useCacheRefresh=function(){return st.H.useCacheRefresh()},zt.use=function(P){return st.H.use(P)},zt.useActionState=function(P,rt,mt){return st.H.useActionState(P,rt,mt)},zt.useCallback=function(P,rt){return st.H.useCallback(P,rt)},zt.useContext=function(P){return st.H.useContext(P)},zt.useDebugValue=function(){},zt.useDeferredValue=function(P,rt){return st.H.useDeferredValue(P,rt)},zt.useEffect=function(P,rt,mt){var lt=st.H;if(typeof mt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return lt.useEffect(P,rt)},zt.useId=function(){return st.H.useId()},zt.useImperativeHandle=function(P,rt,mt){return st.H.useImperativeHandle(P,rt,mt)},zt.useInsertionEffect=function(P,rt){return st.H.useInsertionEffect(P,rt)},zt.useLayoutEffect=function(P,rt){return st.H.useLayoutEffect(P,rt)},zt.useMemo=function(P,rt){return st.H.useMemo(P,rt)},zt.useOptimistic=function(P,rt){return st.H.useOptimistic(P,rt)},zt.useReducer=function(P,rt,mt){return st.H.useReducer(P,rt,mt)},zt.useRef=function(P){return st.H.useRef(P)},zt.useState=function(P){return st.H.useState(P)},zt.useSyncExternalStore=function(P,rt,mt){return st.H.useSyncExternalStore(P,rt,mt)},zt.useTransition=function(){return st.H.useTransition()},zt.version="19.1.0",zt}var wv;function op(){return wv||(wv=1,em.exports=cT()),em.exports}var M=op();const Ne=ap(M),g_=oT({__proto__:null,default:Ne},[M]);var nm={exports:{}},Kl={},rm={exports:{}},im={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rv;function fT(){return Rv||(Rv=1,function(r){function t(q,at){var Z=q.length;q.push(at);t:for(;0<Z;){var Rt=Z-1>>>1,P=q[Rt];if(0<o(P,at))q[Rt]=at,q[Z]=P,Z=Rt;else break t}}function n(q){return q.length===0?null:q[0]}function s(q){if(q.length===0)return null;var at=q[0],Z=q.pop();if(Z!==at){q[0]=Z;t:for(var Rt=0,P=q.length,rt=P>>>1;Rt<rt;){var mt=2*(Rt+1)-1,lt=q[mt],gt=mt+1,yt=q[gt];if(0>o(lt,Z))gt<P&&0>o(yt,lt)?(q[Rt]=yt,q[gt]=Z,Rt=gt):(q[Rt]=lt,q[mt]=Z,Rt=mt);else if(gt<P&&0>o(yt,Z))q[Rt]=yt,q[gt]=Z,Rt=gt;else break t}}return at}function o(q,at){var Z=q.sortIndex-at.sortIndex;return Z!==0?Z:q.id-at.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,d=f.now();r.unstable_now=function(){return f.now()-d}}var m=[],g=[],y=1,A=null,E=3,R=!1,B=!1,k=!1,N=!1,X=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,et=typeof setImmediate<"u"?setImmediate:null;function ot(q){for(var at=n(g);at!==null;){if(at.callback===null)s(g);else if(at.startTime<=q)s(g),at.sortIndex=at.expirationTime,t(m,at);else break;at=n(g)}}function st(q){if(k=!1,ot(q),!B)if(n(m)!==null)B=!0,ht||(ht=!0,U());else{var at=n(g);at!==null&&Et(st,at.startTime-q)}}var ht=!1,I=-1,S=5,V=-1;function D(){return N?!0:!(r.unstable_now()-V<S)}function j(){if(N=!1,ht){var q=r.unstable_now();V=q;var at=!0;try{t:{B=!1,k&&(k=!1,$(I),I=-1),R=!0;var Z=E;try{e:{for(ot(q),A=n(m);A!==null&&!(A.expirationTime>q&&D());){var Rt=A.callback;if(typeof Rt=="function"){A.callback=null,E=A.priorityLevel;var P=Rt(A.expirationTime<=q);if(q=r.unstable_now(),typeof P=="function"){A.callback=P,ot(q),at=!0;break e}A===n(m)&&s(m),ot(q)}else s(m);A=n(m)}if(A!==null)at=!0;else{var rt=n(g);rt!==null&&Et(st,rt.startTime-q),at=!1}}break t}finally{A=null,E=Z,R=!1}at=void 0}}finally{at?U():ht=!1}}}var U;if(typeof et=="function")U=function(){et(j)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Ot=C.port2;C.port1.onmessage=j,U=function(){Ot.postMessage(null)}}else U=function(){X(j,0)};function Et(q,at){I=X(function(){q(r.unstable_now())},at)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(q){q.callback=null},r.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<q?Math.floor(1e3/q):5},r.unstable_getCurrentPriorityLevel=function(){return E},r.unstable_next=function(q){switch(E){case 1:case 2:case 3:var at=3;break;default:at=E}var Z=E;E=at;try{return q()}finally{E=Z}},r.unstable_requestPaint=function(){N=!0},r.unstable_runWithPriority=function(q,at){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var Z=E;E=q;try{return at()}finally{E=Z}},r.unstable_scheduleCallback=function(q,at,Z){var Rt=r.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?Rt+Z:Rt):Z=Rt,q){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=Z+P,q={id:y++,callback:at,priorityLevel:q,startTime:Z,expirationTime:P,sortIndex:-1},Z>Rt?(q.sortIndex=Z,t(g,q),n(m)===null&&q===n(g)&&(k?($(I),I=-1):k=!0,Et(st,Z-Rt))):(q.sortIndex=P,t(m,q),B||R||(B=!0,ht||(ht=!0,U()))),q},r.unstable_shouldYield=D,r.unstable_wrapCallback=function(q){var at=E;return function(){var Z=E;E=at;try{return q.apply(this,arguments)}finally{E=Z}}}}(im)),im}var Mv;function hT(){return Mv||(Mv=1,rm.exports=fT()),rm.exports}var sm={exports:{}},Vn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xv;function dT(){if(xv)return Vn;xv=1;var r=op();function t(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,g,y){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:m,containerInfo:g,implementation:y}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Vn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Vn.createPortal=function(m,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(m,g,null,y)},Vn.flushSync=function(m){var g=f.T,y=s.p;try{if(f.T=null,s.p=2,m)return m()}finally{f.T=g,s.p=y,s.d.f()}},Vn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},Vn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},Vn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var y=g.as,A=d(y,g.crossOrigin),E=typeof g.integrity=="string"?g.integrity:void 0,R=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:A,integrity:E,fetchPriority:R}):y==="script"&&s.d.X(m,{crossOrigin:A,integrity:E,fetchPriority:R,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Vn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=d(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},Vn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,A=d(y,g.crossOrigin);s.d.L(m,y,{crossOrigin:A,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Vn.preloadModule=function(m,g){if(typeof m=="string")if(g){var y=d(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},Vn.requestFormReset=function(m){s.d.r(m)},Vn.unstable_batchedUpdates=function(m,g){return m(g)},Vn.useFormState=function(m,g,y){return f.H.useFormState(m,g,y)},Vn.useFormStatus=function(){return f.H.useHostTransitionStatus()},Vn.version="19.1.0",Vn}var Vv;function y_(){if(Vv)return sm.exports;Vv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),sm.exports=dT(),sm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cv;function mT(){if(Cv)return Kl;Cv=1;var r=hT(),t=op(),n=y_();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function d(e){if(u(e)!==e)throw Error(s(188))}function m(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var p=h.alternate;if(p===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===a)return d(h),e;if(p===l)return d(h),i;p=p.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=p;else{for(var b=!1,T=h.child;T;){if(T===a){b=!0,a=h,l=p;break}if(T===l){b=!0,l=h,a=p;break}T=T.sibling}if(!b){for(T=p.child;T;){if(T===a){b=!0,a=p,l=h;break}if(T===l){b=!0,l=p,a=h;break}T=T.sibling}if(!b)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function g(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=g(e),i!==null)return i;e=e.sibling}return null}var y=Object.assign,A=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),X=Symbol.for("react.provider"),$=Symbol.for("react.consumer"),et=Symbol.for("react.context"),ot=Symbol.for("react.forward_ref"),st=Symbol.for("react.suspense"),ht=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=j&&e[j]||e["@@iterator"],typeof e=="function"?e:null)}var C=Symbol.for("react.client.reference");function Ot(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===C?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case B:return"Fragment";case N:return"Profiler";case k:return"StrictMode";case st:return"Suspense";case ht:return"SuspenseList";case V:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case R:return"Portal";case et:return(e.displayName||"Context")+".Provider";case $:return(e._context.displayName||"Context")+".Consumer";case ot:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return i=e.displayName||null,i!==null?i:Ot(e.type)||"Memo";case S:i=e._payload,e=e._init;try{return Ot(e(i))}catch{}}return null}var Et=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},Rt=[],P=-1;function rt(e){return{current:e}}function mt(e){0>P||(e.current=Rt[P],Rt[P]=null,P--)}function lt(e,i){P++,Rt[P]=e.current,e.current=i}var gt=rt(null),yt=rt(null),Vt=rt(null),kt=rt(null);function dt(e,i){switch(lt(Vt,i),lt(yt,e),lt(gt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?K0(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=K0(i),e=W0(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}mt(gt),lt(gt,e)}function Ut(){mt(gt),mt(yt),mt(Vt)}function me(e){e.memoizedState!==null&&lt(kt,e);var i=gt.current,a=W0(i,e.type);i!==a&&(lt(yt,e),lt(gt,a))}function Se(e){yt.current===e&&(mt(gt),mt(yt)),kt.current===e&&(mt(kt),ql._currentValue=Z)}var pe=Object.prototype.hasOwnProperty,bn=r.unstable_scheduleCallback,Jn=r.unstable_cancelCallback,Mi=r.unstable_shouldYield,as=r.unstable_requestPaint,En=r.unstable_now,ia=r.unstable_getCurrentPriorityLevel,pr=r.unstable_ImmediatePriority,os=r.unstable_UserBlockingPriority,xi=r.unstable_NormalPriority,nl=r.unstable_LowPriority,ls=r.unstable_IdlePriority,sa=r.log,za=r.unstable_setDisableYieldValue,Ee=null,Xt=null;function ln(e){if(typeof sa=="function"&&za(e),Xt&&typeof Xt.setStrictMode=="function")try{Xt.setStrictMode(Ee,e)}catch{}}var Ge=Math.clz32?Math.clz32:Xr,Pn=Math.log,Fa=Math.LN2;function Xr(e){return e>>>=0,e===0?32:31-(Pn(e)/Fa|0)|0}var Vi=256,Kr=4194304;function Tn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ci(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,p=e.suspendedLanes,b=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~p,l!==0?h=Tn(l):(b&=T,b!==0?h=Tn(b):a||(a=T&~e,a!==0&&(h=Tn(a))))):(T=l&~p,T!==0?h=Tn(T):b!==0?h=Tn(b):a||(a=l&~e,a!==0&&(h=Tn(a)))),h===0?0:i!==0&&i!==h&&(i&p)===0&&(p=h&-h,a=i&-i,p>=a||p===32&&(a&4194048)!==0)?i:h}function Wr(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function aa(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tr(){var e=Vi;return Vi<<=1,(Vi&4194048)===0&&(Vi=256),e}function us(){var e=Kr;return Kr<<=1,(Kr&62914560)===0&&(Kr=4194304),e}function Nr(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function Pr(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ii(e,i,a,l,h,p){var b=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,O=e.expirationTimes,Y=e.hiddenUpdates;for(a=b&~a;0<a;){var nt=31-Ge(a),ut=1<<nt;T[nt]=0,O[nt]=-1;var K=Y[nt];if(K!==null)for(Y[nt]=null,nt=0;nt<K.length;nt++){var W=K[nt];W!==null&&(W.lane&=-536870913)}a&=~ut}l!==0&&Sn(e,l,0),p!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=p&~(b&~i))}function Sn(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-Ge(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function Li(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-Ge(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function gr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Zr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function zn(){var e=at.p;return e!==0?e:(e=window.event,e===void 0?32:gv(e.type))}function Ha(e,i){var a=at.p;try{return at.p=e,i()}finally{at.p=a}}var ye=Math.random().toString(36).slice(2),Pe="__reactFiber$"+ye,Ve="__reactProps$"+ye,Fn="__reactContainer$"+ye,cs="__reactEvents$"+ye,oa="__reactListeners$"+ye,wn="__reactHandles$"+ye,qa="__reactResources$"+ye,Ni="__reactMarker$"+ye;function Jr(e){delete e[Pe],delete e[Ve],delete e[cs],delete e[oa],delete e[wn]}function Or(e){var i=e[Pe];if(i)return i;for(var a=e.parentNode;a;){if(i=a[Fn]||a[Pe]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=ev(e);e!==null;){if(a=e[Pe])return a;e=ev(e)}return i}e=a,a=e.parentNode}return null}function yr(e){if(e=e[Pe]||e[Fn]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function ke(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function un(e){var i=e[qa];return i||(i=e[qa]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function we(e){e[Ni]=!0}var la=new Set,fs={};function er(e,i){cn(e,i),cn(e+"Capture",i)}function cn(e,i){for(fs[e]=i,e=0;e<i.length;e++)la.add(i[e])}var Ga=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$a={},Pi={};function Qa(e){return pe.call(Pi,e)?!0:pe.call($a,e)?!1:Ga.test(e)?Pi[e]=!0:($a[e]=!0,!1)}function ti(e,i,a){if(Qa(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function On(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function $e(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}var Oi,nr;function Dr(e){if(Oi===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Oi=i&&i[1]||"",nr=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Oi+e+nr}var hs=!1;function ds(e,i){if(!e||hs)return"";hs=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ut=function(){throw Error()};if(Object.defineProperty(ut.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ut,[])}catch(W){var K=W}Reflect.construct(e,[],ut)}else{try{ut.call()}catch(W){K=W}e.call(ut.prototype)}}else{try{throw Error()}catch(W){K=W}(ut=e())&&typeof ut.catch=="function"&&ut.catch(function(){})}}catch(W){if(W&&K&&typeof W.stack=="string")return[W.stack,K.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=l.DetermineComponentFrameRoot(),b=p[0],T=p[1];if(b&&T){var O=b.split(`
`),Y=T.split(`
`);for(h=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;h<Y.length&&!Y[h].includes("DetermineComponentFrameRoot");)h++;if(l===O.length||h===Y.length)for(l=O.length-1,h=Y.length-1;1<=l&&0<=h&&O[l]!==Y[h];)h--;for(;1<=l&&0<=h;l--,h--)if(O[l]!==Y[h]){if(l!==1||h!==1)do if(l--,h--,0>h||O[l]!==Y[h]){var nt=`
`+O[l].replace(" at new "," at ");return e.displayName&&nt.includes("<anonymous>")&&(nt=nt.replace("<anonymous>",e.displayName)),nt}while(1<=l&&0<=h);break}}}finally{hs=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Dr(a):""}function ua(e){switch(e.tag){case 26:case 27:case 5:return Dr(e.type);case 16:return Dr("Lazy");case 13:return Dr("Suspense");case 19:return Dr("SuspenseList");case 0:case 15:return ds(e.type,!1);case 11:return ds(e.type.render,!1);case 1:return ds(e.type,!0);case 31:return Dr("Activity");default:return""}}function ms(e){try{var i="";do i+=ua(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function fn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ei(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function rl(e){var i=ei(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),l=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,p=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(b){l=""+b,p.call(this,b)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function vr(e){e._valueTracker||(e._valueTracker=rl(e))}function ps(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=ei(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function ni(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var il=/[\n"\\]/g;function Ce(e){return e.replace(il,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Dn(e,i,a,l,h,p,b,T){e.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.type=b:e.removeAttribute("type"),i!=null?b==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+fn(i)):e.value!==""+fn(i)&&(e.value=""+fn(i)):b!=="submit"&&b!=="reset"||e.removeAttribute("value"),i!=null?Br(e,b,fn(i)):a!=null?Br(e,b,fn(a)):l!=null&&e.removeAttribute("value"),h==null&&p!=null&&(e.defaultChecked=!!p),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+fn(T):e.removeAttribute("name")}function Di(e,i,a,l,h,p,b,T){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.type=p),i!=null||a!=null){if(!(p!=="submit"&&p!=="reset"||i!=null))return;a=a!=null?""+fn(a):"",i=i!=null?""+fn(i):a,T||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(e.name=b)}function Br(e,i,a){i==="number"&&ni(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function kr(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+fn(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function se(e,i,a){if(i!=null&&(i=""+fn(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+fn(a):""}function ri(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Et(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=fn(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function hn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var Hn=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ya(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||Hn.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function ca(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Ya(e,h,l)}else for(var p in i)i.hasOwnProperty(p)&&Ya(e,p,i[p])}function qn(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),al=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function gs(e){return al.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var jr=null;function Gn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var dn=null,_r=null;function fa(e){var i=yr(e);if(i&&(e=i.stateNode)){var a=e[Ve]||null;t:switch(e=i.stateNode,i.type){case"input":if(Dn(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ce(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[Ve]||null;if(!h)throw Error(s(90));Dn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&ps(l)}break t;case"textarea":se(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&kr(e,!!a.multiple,i,!1)}}}var Bn=!1;function Xa(e,i,a){if(Bn)return e(i,a);Bn=!0;try{var l=e(i);return l}finally{if(Bn=!1,(dn!==null||_r!==null)&&(Rc(),dn&&(i=dn,e=_r,_r=dn=null,fa(i),e)))for(i=0;i<e.length;i++)fa(e[i])}}function Ur(e,i){var a=e.stateNode;if(a===null)return null;var l=a[Ve]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var rr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kn=!1;if(rr)try{var ii={};Object.defineProperty(ii,"passive",{get:function(){kn=!0}}),window.addEventListener("test",ii,ii),window.removeEventListener("test",ii,ii)}catch{kn=!1}var ir=null,$n=null,Ar=null;function ha(){if(Ar)return Ar;var e,i=$n,a=i.length,l,h="value"in ir?ir.value:ir.textContent,p=h.length;for(e=0;e<a&&i[e]===h[e];e++);var b=a-e;for(l=1;l<=b&&i[a-l]===h[p-l];l++);return Ar=h.slice(e,1<l?1-l:void 0)}function br(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Er(){return!0}function x(){return!1}function F(e){function i(a,l,h,p,b){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=p,this.target=b,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(p):p[T]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Er:x,this.isPropagationStopped=x,this}return y(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Er)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Er)},persist:function(){},isPersistent:Er}),i}var tt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vt=F(tt),ee=y({},tt,{view:0,detail:0}),Dt=F(ee),oe,Ae,ce,re=y({},ee,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ma,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ce&&(ce&&e.type==="mousemove"?(oe=e.screenX-ce.screenX,Ae=e.screenY-ce.screenY):Ae=oe=0,ce=e),oe)},movementY:function(e){return"movementY"in e?e.movementY:Ae}}),ve=F(re),Rn=y({},re,{dataTransfer:0}),je=F(Rn),Ue=y({},ee,{relatedTarget:0}),Qe=F(Ue),Qn=y({},tt,{animationName:0,elapsedTime:0,pseudoElement:0}),Mn=F(Qn),Tr=y({},tt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Bi=F(Tr),ys=y({},tt,{data:0}),si=F(ys),da={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ku={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ol(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=ku[e])?!!i[e]:!1}function ma(){return ol}var ju=y({},ee,{key:function(e){if(e.key){var i=da[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=br(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Bu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ma,charCode:function(e){return e.type==="keypress"?br(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?br(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ka=F(ju),Uu=y({},re,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ll=F(Uu),ki=y({},ee,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ma}),zu=F(ki),Fu=y({},tt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hu=F(Fu),qu=y({},re,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Wa=F(qu),jn=y({},tt,{newState:0,oldState:0}),Gu=F(jn),$u=[9,13,27,32],ai=rr&&"CompositionEvent"in window,c=null;rr&&"documentMode"in document&&(c=document.documentMode);var v=rr&&"TextEvent"in window&&!c,_=rr&&(!ai||c&&8<c&&11>=c),w=" ",G=!1;function J(e,i){switch(e){case"keyup":return $u.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pt(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Kt=!1;function Ye(e,i){switch(e){case"compositionend":return pt(i);case"keypress":return i.which!==32?null:(G=!0,w);case"textInput":return e=i.data,e===w&&G?null:e;default:return null}}function Wt(e,i){if(Kt)return e==="compositionend"||!ai&&J(e,i)?(e=ha(),Ar=$n=ir=null,Kt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var nn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xe(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!nn[e.type]:i==="textarea"}function ji(e,i,a,l){dn?_r?_r.push(l):_r=[l]:dn=l,i=Lc(i,"onChange"),0<i.length&&(a=new vt("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var mn=null,oi=null;function ul(e){G0(e,0)}function Qu(e){var i=ke(e);if(ps(i))return e}function hg(e,i){if(e==="change")return i}var dg=!1;if(rr){var ch;if(rr){var fh="oninput"in document;if(!fh){var mg=document.createElement("div");mg.setAttribute("oninput","return;"),fh=typeof mg.oninput=="function"}ch=fh}else ch=!1;dg=ch&&(!document.documentMode||9<document.documentMode)}function pg(){mn&&(mn.detachEvent("onpropertychange",gg),oi=mn=null)}function gg(e){if(e.propertyName==="value"&&Qu(oi)){var i=[];ji(i,oi,e,Gn(e)),Xa(ul,i)}}function OE(e,i,a){e==="focusin"?(pg(),mn=i,oi=a,mn.attachEvent("onpropertychange",gg)):e==="focusout"&&pg()}function DE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Qu(oi)}function BE(e,i){if(e==="click")return Qu(i)}function kE(e,i){if(e==="input"||e==="change")return Qu(i)}function jE(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var sr=typeof Object.is=="function"?Object.is:jE;function cl(e,i){if(sr(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!pe.call(i,h)||!sr(e[h],i[h]))return!1}return!0}function yg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vg(e,i){var a=yg(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=yg(a)}}function _g(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?_g(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Ag(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=ni(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=ni(e.document)}return i}function hh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var UE=rr&&"documentMode"in document&&11>=document.documentMode,Za=null,dh=null,fl=null,mh=!1;function bg(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;mh||Za==null||Za!==ni(l)||(l=Za,"selectionStart"in l&&hh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),fl&&cl(fl,l)||(fl=l,l=Lc(dh,"onSelect"),0<l.length&&(i=new vt("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=Za)))}function pa(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var Ja={animationend:pa("Animation","AnimationEnd"),animationiteration:pa("Animation","AnimationIteration"),animationstart:pa("Animation","AnimationStart"),transitionrun:pa("Transition","TransitionRun"),transitionstart:pa("Transition","TransitionStart"),transitioncancel:pa("Transition","TransitionCancel"),transitionend:pa("Transition","TransitionEnd")},ph={},Eg={};rr&&(Eg=document.createElement("div").style,"AnimationEvent"in window||(delete Ja.animationend.animation,delete Ja.animationiteration.animation,delete Ja.animationstart.animation),"TransitionEvent"in window||delete Ja.transitionend.transition);function ga(e){if(ph[e])return ph[e];if(!Ja[e])return e;var i=Ja[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in Eg)return ph[e]=i[a];return e}var Tg=ga("animationend"),Sg=ga("animationiteration"),wg=ga("animationstart"),zE=ga("transitionrun"),FE=ga("transitionstart"),HE=ga("transitioncancel"),Rg=ga("transitionend"),Mg=new Map,gh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gh.push("scrollEnd");function zr(e,i){Mg.set(e,i),er(i,[e])}var xg=new WeakMap;function Sr(e,i){if(typeof e=="object"&&e!==null){var a=xg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:ms(i)},xg.set(e,i),i)}return{value:e,source:i,stack:ms(i)}}var wr=[],to=0,yh=0;function Yu(){for(var e=to,i=yh=to=0;i<e;){var a=wr[i];wr[i++]=null;var l=wr[i];wr[i++]=null;var h=wr[i];wr[i++]=null;var p=wr[i];if(wr[i++]=null,l!==null&&h!==null){var b=l.pending;b===null?h.next=h:(h.next=b.next,b.next=h),l.pending=h}p!==0&&Vg(a,h,p)}}function Xu(e,i,a,l){wr[to++]=e,wr[to++]=i,wr[to++]=a,wr[to++]=l,yh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function vh(e,i,a,l){return Xu(e,i,a,l),Ku(e)}function eo(e,i){return Xu(e,null,null,i),Ku(e)}function Vg(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,p=e.return;p!==null;)p.childLanes|=a,l=p.alternate,l!==null&&(l.childLanes|=a),p.tag===22&&(e=p.stateNode,e===null||e._visibility&1||(h=!0)),e=p,p=p.return;return e.tag===3?(p=e.stateNode,h&&i!==null&&(h=31-Ge(a),e=p.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),p):null}function Ku(e){if(50<Dl)throw Dl=0,Sd=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var no={};function qE(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ar(e,i,a,l){return new qE(e,i,a,l)}function _h(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ui(e,i){var a=e.alternate;return a===null?(a=ar(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Cg(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Wu(e,i,a,l,h,p){var b=0;if(l=e,typeof e=="function")_h(e)&&(b=1);else if(typeof e=="string")b=$2(e,a,gt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case V:return e=ar(31,a,i,h),e.elementType=V,e.lanes=p,e;case B:return ya(a.children,h,p,i);case k:b=8,h|=24;break;case N:return e=ar(12,a,i,h|2),e.elementType=N,e.lanes=p,e;case st:return e=ar(13,a,i,h),e.elementType=st,e.lanes=p,e;case ht:return e=ar(19,a,i,h),e.elementType=ht,e.lanes=p,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case X:case et:b=10;break t;case $:b=9;break t;case ot:b=11;break t;case I:b=14;break t;case S:b=16,l=null;break t}b=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=ar(b,a,i,h),i.elementType=e,i.type=l,i.lanes=p,i}function ya(e,i,a,l){return e=ar(7,e,l,i),e.lanes=a,e}function Ah(e,i,a){return e=ar(6,e,null,i),e.lanes=a,e}function bh(e,i,a){return i=ar(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var ro=[],io=0,Zu=null,Ju=0,Rr=[],Mr=0,va=null,zi=1,Fi="";function _a(e,i){ro[io++]=Ju,ro[io++]=Zu,Zu=e,Ju=i}function Ig(e,i,a){Rr[Mr++]=zi,Rr[Mr++]=Fi,Rr[Mr++]=va,va=e;var l=zi;e=Fi;var h=32-Ge(l)-1;l&=~(1<<h),a+=1;var p=32-Ge(i)+h;if(30<p){var b=h-h%5;p=(l&(1<<b)-1).toString(32),l>>=b,h-=b,zi=1<<32-Ge(i)+h|a<<h|l,Fi=p+e}else zi=1<<p|a<<h|l,Fi=e}function Eh(e){e.return!==null&&(_a(e,1),Ig(e,1,0))}function Th(e){for(;e===Zu;)Zu=ro[--io],ro[io]=null,Ju=ro[--io],ro[io]=null;for(;e===va;)va=Rr[--Mr],Rr[Mr]=null,Fi=Rr[--Mr],Rr[Mr]=null,zi=Rr[--Mr],Rr[Mr]=null}var Un=null,Ie=null,ie=!1,Aa=null,li=!1,Sh=Error(s(519));function ba(e){var i=Error(s(418,""));throw ml(Sr(i,e)),Sh}function Lg(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[Pe]=e,i[Ve]=l,a){case"dialog":Qt("cancel",i),Qt("close",i);break;case"iframe":case"object":case"embed":Qt("load",i);break;case"video":case"audio":for(a=0;a<kl.length;a++)Qt(kl[a],i);break;case"source":Qt("error",i);break;case"img":case"image":case"link":Qt("error",i),Qt("load",i);break;case"details":Qt("toggle",i);break;case"input":Qt("invalid",i),Di(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),vr(i);break;case"select":Qt("invalid",i);break;case"textarea":Qt("invalid",i),ri(i,l.value,l.defaultValue,l.children),vr(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||X0(i.textContent,a)?(l.popover!=null&&(Qt("beforetoggle",i),Qt("toggle",i)),l.onScroll!=null&&Qt("scroll",i),l.onScrollEnd!=null&&Qt("scrollend",i),l.onClick!=null&&(i.onclick=Nc),i=!0):i=!1,i||ba(e)}function Ng(e){for(Un=e.return;Un;)switch(Un.tag){case 5:case 13:li=!1;return;case 27:case 3:li=!0;return;default:Un=Un.return}}function hl(e){if(e!==Un)return!1;if(!ie)return Ng(e),ie=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Ud(e.type,e.memoizedProps)),a=!a),a&&Ie&&ba(e),Ng(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){Ie=Hr(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}Ie=null}}else i===27?(i=Ie,Ns(e.type)?(e=qd,qd=null,Ie=e):Ie=i):Ie=Un?Hr(e.stateNode.nextSibling):null;return!0}function dl(){Ie=Un=null,ie=!1}function Pg(){var e=Aa;return e!==null&&(Kn===null?Kn=e:Kn.push.apply(Kn,e),Aa=null),e}function ml(e){Aa===null?Aa=[e]:Aa.push(e)}var wh=rt(null),Ea=null,Hi=null;function vs(e,i,a){lt(wh,i._currentValue),i._currentValue=a}function qi(e){e._currentValue=wh.current,mt(wh)}function Rh(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function Mh(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var p=h.dependencies;if(p!==null){var b=h.child;p=p.firstContext;t:for(;p!==null;){var T=p;p=h;for(var O=0;O<i.length;O++)if(T.context===i[O]){p.lanes|=a,T=p.alternate,T!==null&&(T.lanes|=a),Rh(p.return,a,e),l||(b=null);break t}p=T.next}}else if(h.tag===18){if(b=h.return,b===null)throw Error(s(341));b.lanes|=a,p=b.alternate,p!==null&&(p.lanes|=a),Rh(b,a,e),b=null}else b=h.child;if(b!==null)b.return=h;else for(b=h;b!==null;){if(b===e){b=null;break}if(h=b.sibling,h!==null){h.return=b.return,b=h;break}b=b.return}h=b}}function pl(e,i,a,l){e=null;for(var h=i,p=!1;h!==null;){if(!p){if((h.flags&524288)!==0)p=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var b=h.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var T=h.type;sr(h.pendingProps.value,b.value)||(e!==null?e.push(T):e=[T])}}else if(h===kt.current){if(b=h.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(ql):e=[ql])}h=h.return}e!==null&&Mh(i,e,a,l),i.flags|=262144}function tc(e){for(e=e.firstContext;e!==null;){if(!sr(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ta(e){Ea=e,Hi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function xn(e){return Og(Ea,e)}function ec(e,i){return Ea===null&&Ta(e),Og(e,i)}function Og(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Hi===null){if(e===null)throw Error(s(308));Hi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Hi=Hi.next=i;return a}var GE=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},$E=r.unstable_scheduleCallback,QE=r.unstable_NormalPriority,Ke={$$typeof:et,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xh(){return{controller:new GE,data:new Map,refCount:0}}function gl(e){e.refCount--,e.refCount===0&&$E(QE,function(){e.controller.abort()})}var yl=null,Vh=0,so=0,ao=null;function YE(e,i){if(yl===null){var a=yl=[];Vh=0,so=Id(),ao={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Vh++,i.then(Dg,Dg),i}function Dg(){if(--Vh===0&&yl!==null){ao!==null&&(ao.status="fulfilled");var e=yl;yl=null,so=0,ao=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function XE(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Bg=q.S;q.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&YE(e,i),Bg!==null&&Bg(e,i)};var Sa=rt(null);function Ch(){var e=Sa.current;return e!==null?e:_e.pooledCache}function nc(e,i){i===null?lt(Sa,Sa.current):lt(Sa,i.pool)}function kg(){var e=Ch();return e===null?null:{parent:Ke._currentValue,pool:e}}var vl=Error(s(460)),jg=Error(s(474)),rc=Error(s(542)),Ih={then:function(){}};function Ug(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ic(){}function zg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(ic,ic),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Hg(e),e;default:if(typeof i.status=="string")i.then(ic,ic);else{if(e=_e,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Hg(e),e}throw _l=i,vl}}var _l=null;function Fg(){if(_l===null)throw Error(s(459));var e=_l;return _l=null,e}function Hg(e){if(e===vl||e===rc)throw Error(s(483))}var _s=!1;function Lh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Nh(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function As(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function bs(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(le&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Ku(e),Vg(e,null,a),i}return Xu(e,l,i,a),Ku(e)}function Al(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,Li(e,a)}}function Ph(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var b={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};p===null?h=p=b:p=p.next=b,a=a.next}while(a!==null);p===null?h=p=i:p=p.next=i}else h=p=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Oh=!1;function bl(){if(Oh){var e=ao;if(e!==null)throw e}}function El(e,i,a,l){Oh=!1;var h=e.updateQueue;_s=!1;var p=h.firstBaseUpdate,b=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var O=T,Y=O.next;O.next=null,b===null?p=Y:b.next=Y,b=O;var nt=e.alternate;nt!==null&&(nt=nt.updateQueue,T=nt.lastBaseUpdate,T!==b&&(T===null?nt.firstBaseUpdate=Y:T.next=Y,nt.lastBaseUpdate=O))}if(p!==null){var ut=h.baseState;b=0,nt=Y=O=null,T=p;do{var K=T.lane&-536870913,W=K!==T.lane;if(W?(Zt&K)===K:(l&K)===K){K!==0&&K===so&&(Oh=!0),nt!==null&&(nt=nt.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var Pt=e,It=T;K=i;var de=a;switch(It.tag){case 1:if(Pt=It.payload,typeof Pt=="function"){ut=Pt.call(de,ut,K);break t}ut=Pt;break t;case 3:Pt.flags=Pt.flags&-65537|128;case 0:if(Pt=It.payload,K=typeof Pt=="function"?Pt.call(de,ut,K):Pt,K==null)break t;ut=y({},ut,K);break t;case 2:_s=!0}}K=T.callback,K!==null&&(e.flags|=64,W&&(e.flags|=8192),W=h.callbacks,W===null?h.callbacks=[K]:W.push(K))}else W={lane:K,tag:T.tag,payload:T.payload,callback:T.callback,next:null},nt===null?(Y=nt=W,O=ut):nt=nt.next=W,b|=K;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;W=T,T=W.next,W.next=null,h.lastBaseUpdate=W,h.shared.pending=null}}while(!0);nt===null&&(O=ut),h.baseState=O,h.firstBaseUpdate=Y,h.lastBaseUpdate=nt,p===null&&(h.shared.lanes=0),Vs|=b,e.lanes=b,e.memoizedState=ut}}function qg(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function Gg(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)qg(a[e],i)}var oo=rt(null),sc=rt(0);function $g(e,i){e=Wi,lt(sc,e),lt(oo,i),Wi=e|i.baseLanes}function Dh(){lt(sc,Wi),lt(oo,oo.current)}function Bh(){Wi=sc.current,mt(oo),mt(sc)}var Es=0,Ft=null,fe=null,ze=null,ac=!1,lo=!1,wa=!1,oc=0,Tl=0,uo=null,KE=0;function Oe(){throw Error(s(321))}function kh(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!sr(e[a],i[a]))return!1;return!0}function jh(e,i,a,l,h,p){return Es=p,Ft=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,q.H=e===null||e.memoizedState===null?Vy:Cy,wa=!1,p=a(l,h),wa=!1,lo&&(p=Yg(i,a,l,h)),Qg(e),p}function Qg(e){q.H=dc;var i=fe!==null&&fe.next!==null;if(Es=0,ze=fe=Ft=null,ac=!1,Tl=0,uo=null,i)throw Error(s(300));e===null||rn||(e=e.dependencies,e!==null&&tc(e)&&(rn=!0))}function Yg(e,i,a,l){Ft=e;var h=0;do{if(lo&&(uo=null),Tl=0,lo=!1,25<=h)throw Error(s(301));if(h+=1,ze=fe=null,e.updateQueue!=null){var p=e.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}q.H=r2,p=i(a,l)}while(lo);return p}function WE(){var e=q.H,i=e.useState()[0];return i=typeof i.then=="function"?Sl(i):i,e=e.useState()[0],(fe!==null?fe.memoizedState:null)!==e&&(Ft.flags|=1024),i}function Uh(){var e=oc!==0;return oc=0,e}function zh(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function Fh(e){if(ac){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}ac=!1}Es=0,ze=fe=Ft=null,lo=!1,Tl=oc=0,uo=null}function Yn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ze===null?Ft.memoizedState=ze=e:ze=ze.next=e,ze}function Fe(){if(fe===null){var e=Ft.alternate;e=e!==null?e.memoizedState:null}else e=fe.next;var i=ze===null?Ft.memoizedState:ze.next;if(i!==null)ze=i,fe=e;else{if(e===null)throw Ft.alternate===null?Error(s(467)):Error(s(310));fe=e,e={memoizedState:fe.memoizedState,baseState:fe.baseState,baseQueue:fe.baseQueue,queue:fe.queue,next:null},ze===null?Ft.memoizedState=ze=e:ze=ze.next=e}return ze}function Hh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Sl(e){var i=Tl;return Tl+=1,uo===null&&(uo=[]),e=zg(uo,e,i),i=Ft,(ze===null?i.memoizedState:ze.next)===null&&(i=i.alternate,q.H=i===null||i.memoizedState===null?Vy:Cy),e}function lc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Sl(e);if(e.$$typeof===et)return xn(e)}throw Error(s(438,String(e)))}function qh(e){var i=null,a=Ft.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ft.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Hh(),Ft.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=D;return i.index++,a}function Gi(e,i){return typeof i=="function"?i(e):i}function uc(e){var i=Fe();return Gh(i,fe,e)}function Gh(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,p=l.pending;if(p!==null){if(h!==null){var b=h.next;h.next=p.next,p.next=b}i.baseQueue=h=p,l.pending=null}if(p=e.baseState,h===null)e.memoizedState=p;else{i=h.next;var T=b=null,O=null,Y=i,nt=!1;do{var ut=Y.lane&-536870913;if(ut!==Y.lane?(Zt&ut)===ut:(Es&ut)===ut){var K=Y.revertLane;if(K===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),ut===so&&(nt=!0);else if((Es&K)===K){Y=Y.next,K===so&&(nt=!0);continue}else ut={lane:0,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},O===null?(T=O=ut,b=p):O=O.next=ut,Ft.lanes|=K,Vs|=K;ut=Y.action,wa&&a(p,ut),p=Y.hasEagerState?Y.eagerState:a(p,ut)}else K={lane:ut,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},O===null?(T=O=K,b=p):O=O.next=K,Ft.lanes|=ut,Vs|=ut;Y=Y.next}while(Y!==null&&Y!==i);if(O===null?b=p:O.next=T,!sr(p,e.memoizedState)&&(rn=!0,nt&&(a=ao,a!==null)))throw a;e.memoizedState=p,e.baseState=b,e.baseQueue=O,l.lastRenderedState=p}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function $h(e){var i=Fe(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,p=i.memoizedState;if(h!==null){a.pending=null;var b=h=h.next;do p=e(p,b.action),b=b.next;while(b!==h);sr(p,i.memoizedState)||(rn=!0),i.memoizedState=p,i.baseQueue===null&&(i.baseState=p),a.lastRenderedState=p}return[p,l]}function Xg(e,i,a){var l=Ft,h=Fe(),p=ie;if(p){if(a===void 0)throw Error(s(407));a=a()}else a=i();var b=!sr((fe||h).memoizedState,a);b&&(h.memoizedState=a,rn=!0),h=h.queue;var T=Zg.bind(null,l,h,e);if(wl(2048,8,T,[e]),h.getSnapshot!==i||b||ze!==null&&ze.memoizedState.tag&1){if(l.flags|=2048,co(9,cc(),Wg.bind(null,l,h,a,i),null),_e===null)throw Error(s(349));p||(Es&124)!==0||Kg(l,i,a)}return a}function Kg(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Ft.updateQueue,i===null?(i=Hh(),Ft.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Wg(e,i,a,l){i.value=a,i.getSnapshot=l,Jg(i)&&ty(e)}function Zg(e,i,a){return a(function(){Jg(i)&&ty(e)})}function Jg(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!sr(e,a)}catch{return!0}}function ty(e){var i=eo(e,2);i!==null&&fr(i,e,2)}function Qh(e){var i=Yn();if(typeof e=="function"){var a=e;if(e=a(),wa){ln(!0);try{a()}finally{ln(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:e},i}function ey(e,i,a,l){return e.baseState=a,Gh(e,fe,typeof l=="function"?l:Gi)}function ZE(e,i,a,l,h){if(hc(e))throw Error(s(485));if(e=i.action,e!==null){var p={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){p.listeners.push(b)}};q.T!==null?a(!0):p.isTransition=!1,l(p),a=i.pending,a===null?(p.next=i.pending=p,ny(i,p)):(p.next=a.next,i.pending=a.next=p)}}function ny(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var p=q.T,b={};q.T=b;try{var T=a(h,l),O=q.S;O!==null&&O(b,T),ry(e,i,T)}catch(Y){Yh(e,i,Y)}finally{q.T=p}}else try{p=a(h,l),ry(e,i,p)}catch(Y){Yh(e,i,Y)}}function ry(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){iy(e,i,l)},function(l){return Yh(e,i,l)}):iy(e,i,a)}function iy(e,i,a){i.status="fulfilled",i.value=a,sy(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,ny(e,a)))}function Yh(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,sy(i),i=i.next;while(i!==l)}e.action=null}function sy(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function ay(e,i){return i}function oy(e,i){if(ie){var a=_e.formState;if(a!==null){t:{var l=Ft;if(ie){if(Ie){e:{for(var h=Ie,p=li;h.nodeType!==8;){if(!p){h=null;break e}if(h=Hr(h.nextSibling),h===null){h=null;break e}}p=h.data,h=p==="F!"||p==="F"?h:null}if(h){Ie=Hr(h.nextSibling),l=h.data==="F!";break t}}ba(l)}l=!1}l&&(i=a[0])}}return a=Yn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ay,lastRenderedState:i},a.queue=l,a=Ry.bind(null,Ft,l),l.dispatch=a,l=Qh(!1),p=Jh.bind(null,Ft,!1,l.queue),l=Yn(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=ZE.bind(null,Ft,h,p,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function ly(e){var i=Fe();return uy(i,fe,e)}function uy(e,i,a){if(i=Gh(e,i,ay)[0],e=uc(Gi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Sl(i)}catch(b){throw b===vl?rc:b}else l=i;i=Fe();var h=i.queue,p=h.dispatch;return a!==i.memoizedState&&(Ft.flags|=2048,co(9,cc(),JE.bind(null,h,a),null)),[l,p,e]}function JE(e,i){e.action=i}function cy(e){var i=Fe(),a=fe;if(a!==null)return uy(i,a,e);Fe(),i=i.memoizedState,a=Fe();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function co(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=Ft.updateQueue,i===null&&(i=Hh(),Ft.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function cc(){return{destroy:void 0,resource:void 0}}function fy(){return Fe().memoizedState}function fc(e,i,a,l){var h=Yn();l=l===void 0?null:l,Ft.flags|=e,h.memoizedState=co(1|i,cc(),a,l)}function wl(e,i,a,l){var h=Fe();l=l===void 0?null:l;var p=h.memoizedState.inst;fe!==null&&l!==null&&kh(l,fe.memoizedState.deps)?h.memoizedState=co(i,p,a,l):(Ft.flags|=e,h.memoizedState=co(1|i,p,a,l))}function hy(e,i){fc(8390656,8,e,i)}function dy(e,i){wl(2048,8,e,i)}function my(e,i){return wl(4,2,e,i)}function py(e,i){return wl(4,4,e,i)}function gy(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function yy(e,i,a){a=a!=null?a.concat([e]):null,wl(4,4,gy.bind(null,i,e),a)}function Xh(){}function vy(e,i){var a=Fe();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&kh(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function _y(e,i){var a=Fe();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&kh(i,l[1]))return l[0];if(l=e(),wa){ln(!0);try{e()}finally{ln(!1)}}return a.memoizedState=[l,i],l}function Kh(e,i,a){return a===void 0||(Es&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=E0(),Ft.lanes|=e,Vs|=e,a)}function Ay(e,i,a,l){return sr(a,i)?a:oo.current!==null?(e=Kh(e,a,l),sr(e,i)||(rn=!0),e):(Es&42)===0?(rn=!0,e.memoizedState=a):(e=E0(),Ft.lanes|=e,Vs|=e,i)}function by(e,i,a,l,h){var p=at.p;at.p=p!==0&&8>p?p:8;var b=q.T,T={};q.T=T,Jh(e,!1,i,a);try{var O=h(),Y=q.S;if(Y!==null&&Y(T,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var nt=XE(O,l);Rl(e,i,nt,cr(e))}else Rl(e,i,l,cr(e))}catch(ut){Rl(e,i,{then:function(){},status:"rejected",reason:ut},cr())}finally{at.p=p,q.T=b}}function t2(){}function Wh(e,i,a,l){if(e.tag!==5)throw Error(s(476));var h=Ey(e).queue;by(e,h,i,Z,a===null?t2:function(){return Ty(e),a(l)})}function Ey(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:Z},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Ty(e){var i=Ey(e).next.queue;Rl(e,i,{},cr())}function Zh(){return xn(ql)}function Sy(){return Fe().memoizedState}function wy(){return Fe().memoizedState}function e2(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=cr();e=As(a);var l=bs(i,e,a);l!==null&&(fr(l,i,a),Al(l,i,a)),i={cache:xh()},e.payload=i;return}i=i.return}}function n2(e,i,a){var l=cr();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},hc(e)?My(i,a):(a=vh(e,i,a,l),a!==null&&(fr(a,e,l),xy(a,i,l)))}function Ry(e,i,a){var l=cr();Rl(e,i,a,l)}function Rl(e,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(hc(e))My(i,h);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=i.lastRenderedReducer,p!==null))try{var b=i.lastRenderedState,T=p(b,a);if(h.hasEagerState=!0,h.eagerState=T,sr(T,b))return Xu(e,i,h,0),_e===null&&Yu(),!1}catch{}finally{}if(a=vh(e,i,h,l),a!==null)return fr(a,e,l),xy(a,i,l),!0}return!1}function Jh(e,i,a,l){if(l={lane:2,revertLane:Id(),action:l,hasEagerState:!1,eagerState:null,next:null},hc(e)){if(i)throw Error(s(479))}else i=vh(e,a,l,2),i!==null&&fr(i,e,2)}function hc(e){var i=e.alternate;return e===Ft||i!==null&&i===Ft}function My(e,i){lo=ac=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function xy(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,Li(e,a)}}var dc={readContext:xn,use:lc,useCallback:Oe,useContext:Oe,useEffect:Oe,useImperativeHandle:Oe,useLayoutEffect:Oe,useInsertionEffect:Oe,useMemo:Oe,useReducer:Oe,useRef:Oe,useState:Oe,useDebugValue:Oe,useDeferredValue:Oe,useTransition:Oe,useSyncExternalStore:Oe,useId:Oe,useHostTransitionStatus:Oe,useFormState:Oe,useActionState:Oe,useOptimistic:Oe,useMemoCache:Oe,useCacheRefresh:Oe},Vy={readContext:xn,use:lc,useCallback:function(e,i){return Yn().memoizedState=[e,i===void 0?null:i],e},useContext:xn,useEffect:hy,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,fc(4194308,4,gy.bind(null,i,e),a)},useLayoutEffect:function(e,i){return fc(4194308,4,e,i)},useInsertionEffect:function(e,i){fc(4,2,e,i)},useMemo:function(e,i){var a=Yn();i=i===void 0?null:i;var l=e();if(wa){ln(!0);try{e()}finally{ln(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=Yn();if(a!==void 0){var h=a(i);if(wa){ln(!0);try{a(i)}finally{ln(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=n2.bind(null,Ft,e),[l.memoizedState,e]},useRef:function(e){var i=Yn();return e={current:e},i.memoizedState=e},useState:function(e){e=Qh(e);var i=e.queue,a=Ry.bind(null,Ft,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Xh,useDeferredValue:function(e,i){var a=Yn();return Kh(a,e,i)},useTransition:function(){var e=Qh(!1);return e=by.bind(null,Ft,e.queue,!0,!1),Yn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=Ft,h=Yn();if(ie){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),_e===null)throw Error(s(349));(Zt&124)!==0||Kg(l,i,a)}h.memoizedState=a;var p={value:a,getSnapshot:i};return h.queue=p,hy(Zg.bind(null,l,p,e),[e]),l.flags|=2048,co(9,cc(),Wg.bind(null,l,p,a,i),null),a},useId:function(){var e=Yn(),i=_e.identifierPrefix;if(ie){var a=Fi,l=zi;a=(l&~(1<<32-Ge(l)-1)).toString(32)+a,i="«"+i+"R"+a,a=oc++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=KE++,i="«"+i+"r"+a.toString(32)+"»";return e.memoizedState=i},useHostTransitionStatus:Zh,useFormState:oy,useActionState:oy,useOptimistic:function(e){var i=Yn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Jh.bind(null,Ft,!0,a),a.dispatch=i,[e,i]},useMemoCache:qh,useCacheRefresh:function(){return Yn().memoizedState=e2.bind(null,Ft)}},Cy={readContext:xn,use:lc,useCallback:vy,useContext:xn,useEffect:dy,useImperativeHandle:yy,useInsertionEffect:my,useLayoutEffect:py,useMemo:_y,useReducer:uc,useRef:fy,useState:function(){return uc(Gi)},useDebugValue:Xh,useDeferredValue:function(e,i){var a=Fe();return Ay(a,fe.memoizedState,e,i)},useTransition:function(){var e=uc(Gi)[0],i=Fe().memoizedState;return[typeof e=="boolean"?e:Sl(e),i]},useSyncExternalStore:Xg,useId:Sy,useHostTransitionStatus:Zh,useFormState:ly,useActionState:ly,useOptimistic:function(e,i){var a=Fe();return ey(a,fe,e,i)},useMemoCache:qh,useCacheRefresh:wy},r2={readContext:xn,use:lc,useCallback:vy,useContext:xn,useEffect:dy,useImperativeHandle:yy,useInsertionEffect:my,useLayoutEffect:py,useMemo:_y,useReducer:$h,useRef:fy,useState:function(){return $h(Gi)},useDebugValue:Xh,useDeferredValue:function(e,i){var a=Fe();return fe===null?Kh(a,e,i):Ay(a,fe.memoizedState,e,i)},useTransition:function(){var e=$h(Gi)[0],i=Fe().memoizedState;return[typeof e=="boolean"?e:Sl(e),i]},useSyncExternalStore:Xg,useId:Sy,useHostTransitionStatus:Zh,useFormState:cy,useActionState:cy,useOptimistic:function(e,i){var a=Fe();return fe!==null?ey(a,fe,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:qh,useCacheRefresh:wy},fo=null,Ml=0;function mc(e){var i=Ml;return Ml+=1,fo===null&&(fo=[]),zg(fo,e,i)}function xl(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function pc(e,i){throw i.$$typeof===A?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Iy(e){var i=e._init;return i(e._payload)}function Ly(e){function i(H,z){if(e){var Q=H.deletions;Q===null?(H.deletions=[z],H.flags|=16):Q.push(z)}}function a(H,z){if(!e)return null;for(;z!==null;)i(H,z),z=z.sibling;return null}function l(H){for(var z=new Map;H!==null;)H.key!==null?z.set(H.key,H):z.set(H.index,H),H=H.sibling;return z}function h(H,z){return H=Ui(H,z),H.index=0,H.sibling=null,H}function p(H,z,Q){return H.index=Q,e?(Q=H.alternate,Q!==null?(Q=Q.index,Q<z?(H.flags|=67108866,z):Q):(H.flags|=67108866,z)):(H.flags|=1048576,z)}function b(H){return e&&H.alternate===null&&(H.flags|=67108866),H}function T(H,z,Q,it){return z===null||z.tag!==6?(z=Ah(Q,H.mode,it),z.return=H,z):(z=h(z,Q),z.return=H,z)}function O(H,z,Q,it){var Tt=Q.type;return Tt===B?nt(H,z,Q.props.children,it,Q.key):z!==null&&(z.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===S&&Iy(Tt)===z.type)?(z=h(z,Q.props),xl(z,Q),z.return=H,z):(z=Wu(Q.type,Q.key,Q.props,null,H.mode,it),xl(z,Q),z.return=H,z)}function Y(H,z,Q,it){return z===null||z.tag!==4||z.stateNode.containerInfo!==Q.containerInfo||z.stateNode.implementation!==Q.implementation?(z=bh(Q,H.mode,it),z.return=H,z):(z=h(z,Q.children||[]),z.return=H,z)}function nt(H,z,Q,it,Tt){return z===null||z.tag!==7?(z=ya(Q,H.mode,it,Tt),z.return=H,z):(z=h(z,Q),z.return=H,z)}function ut(H,z,Q){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=Ah(""+z,H.mode,Q),z.return=H,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case E:return Q=Wu(z.type,z.key,z.props,null,H.mode,Q),xl(Q,z),Q.return=H,Q;case R:return z=bh(z,H.mode,Q),z.return=H,z;case S:var it=z._init;return z=it(z._payload),ut(H,z,Q)}if(Et(z)||U(z))return z=ya(z,H.mode,Q,null),z.return=H,z;if(typeof z.then=="function")return ut(H,mc(z),Q);if(z.$$typeof===et)return ut(H,ec(H,z),Q);pc(H,z)}return null}function K(H,z,Q,it){var Tt=z!==null?z.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Tt!==null?null:T(H,z,""+Q,it);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case E:return Q.key===Tt?O(H,z,Q,it):null;case R:return Q.key===Tt?Y(H,z,Q,it):null;case S:return Tt=Q._init,Q=Tt(Q._payload),K(H,z,Q,it)}if(Et(Q)||U(Q))return Tt!==null?null:nt(H,z,Q,it,null);if(typeof Q.then=="function")return K(H,z,mc(Q),it);if(Q.$$typeof===et)return K(H,z,ec(H,Q),it);pc(H,Q)}return null}function W(H,z,Q,it,Tt){if(typeof it=="string"&&it!==""||typeof it=="number"||typeof it=="bigint")return H=H.get(Q)||null,T(z,H,""+it,Tt);if(typeof it=="object"&&it!==null){switch(it.$$typeof){case E:return H=H.get(it.key===null?Q:it.key)||null,O(z,H,it,Tt);case R:return H=H.get(it.key===null?Q:it.key)||null,Y(z,H,it,Tt);case S:var Gt=it._init;return it=Gt(it._payload),W(H,z,Q,it,Tt)}if(Et(it)||U(it))return H=H.get(Q)||null,nt(z,H,it,Tt,null);if(typeof it.then=="function")return W(H,z,Q,mc(it),Tt);if(it.$$typeof===et)return W(H,z,Q,ec(z,it),Tt);pc(z,it)}return null}function Pt(H,z,Q,it){for(var Tt=null,Gt=null,Mt=z,Lt=z=0,an=null;Mt!==null&&Lt<Q.length;Lt++){Mt.index>Lt?(an=Mt,Mt=null):an=Mt.sibling;var ne=K(H,Mt,Q[Lt],it);if(ne===null){Mt===null&&(Mt=an);break}e&&Mt&&ne.alternate===null&&i(H,Mt),z=p(ne,z,Lt),Gt===null?Tt=ne:Gt.sibling=ne,Gt=ne,Mt=an}if(Lt===Q.length)return a(H,Mt),ie&&_a(H,Lt),Tt;if(Mt===null){for(;Lt<Q.length;Lt++)Mt=ut(H,Q[Lt],it),Mt!==null&&(z=p(Mt,z,Lt),Gt===null?Tt=Mt:Gt.sibling=Mt,Gt=Mt);return ie&&_a(H,Lt),Tt}for(Mt=l(Mt);Lt<Q.length;Lt++)an=W(Mt,H,Lt,Q[Lt],it),an!==null&&(e&&an.alternate!==null&&Mt.delete(an.key===null?Lt:an.key),z=p(an,z,Lt),Gt===null?Tt=an:Gt.sibling=an,Gt=an);return e&&Mt.forEach(function(ks){return i(H,ks)}),ie&&_a(H,Lt),Tt}function It(H,z,Q,it){if(Q==null)throw Error(s(151));for(var Tt=null,Gt=null,Mt=z,Lt=z=0,an=null,ne=Q.next();Mt!==null&&!ne.done;Lt++,ne=Q.next()){Mt.index>Lt?(an=Mt,Mt=null):an=Mt.sibling;var ks=K(H,Mt,ne.value,it);if(ks===null){Mt===null&&(Mt=an);break}e&&Mt&&ks.alternate===null&&i(H,Mt),z=p(ks,z,Lt),Gt===null?Tt=ks:Gt.sibling=ks,Gt=ks,Mt=an}if(ne.done)return a(H,Mt),ie&&_a(H,Lt),Tt;if(Mt===null){for(;!ne.done;Lt++,ne=Q.next())ne=ut(H,ne.value,it),ne!==null&&(z=p(ne,z,Lt),Gt===null?Tt=ne:Gt.sibling=ne,Gt=ne);return ie&&_a(H,Lt),Tt}for(Mt=l(Mt);!ne.done;Lt++,ne=Q.next())ne=W(Mt,H,Lt,ne.value,it),ne!==null&&(e&&ne.alternate!==null&&Mt.delete(ne.key===null?Lt:ne.key),z=p(ne,z,Lt),Gt===null?Tt=ne:Gt.sibling=ne,Gt=ne);return e&&Mt.forEach(function(iT){return i(H,iT)}),ie&&_a(H,Lt),Tt}function de(H,z,Q,it){if(typeof Q=="object"&&Q!==null&&Q.type===B&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case E:t:{for(var Tt=Q.key;z!==null;){if(z.key===Tt){if(Tt=Q.type,Tt===B){if(z.tag===7){a(H,z.sibling),it=h(z,Q.props.children),it.return=H,H=it;break t}}else if(z.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===S&&Iy(Tt)===z.type){a(H,z.sibling),it=h(z,Q.props),xl(it,Q),it.return=H,H=it;break t}a(H,z);break}else i(H,z);z=z.sibling}Q.type===B?(it=ya(Q.props.children,H.mode,it,Q.key),it.return=H,H=it):(it=Wu(Q.type,Q.key,Q.props,null,H.mode,it),xl(it,Q),it.return=H,H=it)}return b(H);case R:t:{for(Tt=Q.key;z!==null;){if(z.key===Tt)if(z.tag===4&&z.stateNode.containerInfo===Q.containerInfo&&z.stateNode.implementation===Q.implementation){a(H,z.sibling),it=h(z,Q.children||[]),it.return=H,H=it;break t}else{a(H,z);break}else i(H,z);z=z.sibling}it=bh(Q,H.mode,it),it.return=H,H=it}return b(H);case S:return Tt=Q._init,Q=Tt(Q._payload),de(H,z,Q,it)}if(Et(Q))return Pt(H,z,Q,it);if(U(Q)){if(Tt=U(Q),typeof Tt!="function")throw Error(s(150));return Q=Tt.call(Q),It(H,z,Q,it)}if(typeof Q.then=="function")return de(H,z,mc(Q),it);if(Q.$$typeof===et)return de(H,z,ec(H,Q),it);pc(H,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,z!==null&&z.tag===6?(a(H,z.sibling),it=h(z,Q),it.return=H,H=it):(a(H,z),it=Ah(Q,H.mode,it),it.return=H,H=it),b(H)):a(H,z)}return function(H,z,Q,it){try{Ml=0;var Tt=de(H,z,Q,it);return fo=null,Tt}catch(Mt){if(Mt===vl||Mt===rc)throw Mt;var Gt=ar(29,Mt,null,H.mode);return Gt.lanes=it,Gt.return=H,Gt}finally{}}}var ho=Ly(!0),Ny=Ly(!1),xr=rt(null),ui=null;function Ts(e){var i=e.alternate;lt(We,We.current&1),lt(xr,e),ui===null&&(i===null||oo.current!==null||i.memoizedState!==null)&&(ui=e)}function Py(e){if(e.tag===22){if(lt(We,We.current),lt(xr,e),ui===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(ui=e)}}else Ss()}function Ss(){lt(We,We.current),lt(xr,xr.current)}function $i(e){mt(xr),ui===e&&(ui=null),mt(We)}var We=rt(0);function gc(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Hd(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function td(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:y({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var ed={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=cr(),h=As(l);h.payload=i,a!=null&&(h.callback=a),i=bs(e,h,l),i!==null&&(fr(i,e,l),Al(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=cr(),h=As(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=bs(e,h,l),i!==null&&(fr(i,e,l),Al(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=cr(),l=As(a);l.tag=2,i!=null&&(l.callback=i),i=bs(e,l,a),i!==null&&(fr(i,e,a),Al(i,e,a))}};function Oy(e,i,a,l,h,p,b){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,p,b):i.prototype&&i.prototype.isPureReactComponent?!cl(a,l)||!cl(h,p):!0}function Dy(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&ed.enqueueReplaceState(i,i.state,null)}function Ra(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=y({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var yc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function By(e){yc(e)}function ky(e){console.error(e)}function jy(e){yc(e)}function vc(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Uy(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function nd(e,i,a){return a=As(a),a.tag=3,a.payload={element:null},a.callback=function(){vc(e,i)},a}function zy(e){return e=As(e),e.tag=3,e}function Fy(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var p=l.value;e.payload=function(){return h(p)},e.callback=function(){Uy(i,a,l)}}var b=a.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(e.callback=function(){Uy(i,a,l),typeof h!="function"&&(Cs===null?Cs=new Set([this]):Cs.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function i2(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&pl(i,a,h,!0),a=xr.current,a!==null){switch(a.tag){case 13:return ui===null?Rd():a.alternate===null&&Le===0&&(Le=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Ih?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),xd(e,l,h)),!1;case 22:return a.flags|=65536,l===Ih?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),xd(e,l,h)),!1}throw Error(s(435,a.tag))}return xd(e,l,h),Rd(),!1}if(ie)return i=xr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Sh&&(e=Error(s(422),{cause:l}),ml(Sr(e,a)))):(l!==Sh&&(i=Error(s(423),{cause:l}),ml(Sr(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Sr(l,a),h=nd(e.stateNode,l,h),Ph(e,h),Le!==4&&(Le=2)),!1;var p=Error(s(520),{cause:l});if(p=Sr(p,a),Ol===null?Ol=[p]:Ol.push(p),Le!==4&&(Le=2),i===null)return!0;l=Sr(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=nd(a.stateNode,l,e),Ph(a,e),!1;case 1:if(i=a.type,p=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Cs===null||!Cs.has(p))))return a.flags|=65536,h&=-h,a.lanes|=h,h=zy(h),Fy(h,e,a,l),Ph(a,h),!1}a=a.return}while(a!==null);return!1}var Hy=Error(s(461)),rn=!1;function pn(e,i,a,l){i.child=e===null?Ny(i,null,a,l):ho(i,e.child,a,l)}function qy(e,i,a,l,h){a=a.render;var p=i.ref;if("ref"in l){var b={};for(var T in l)T!=="ref"&&(b[T]=l[T])}else b=l;return Ta(i),l=jh(e,i,a,b,p,h),T=Uh(),e!==null&&!rn?(zh(e,i,h),Qi(e,i,h)):(ie&&T&&Eh(i),i.flags|=1,pn(e,i,l,h),i.child)}function Gy(e,i,a,l,h){if(e===null){var p=a.type;return typeof p=="function"&&!_h(p)&&p.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=p,$y(e,i,p,l,h)):(e=Wu(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(p=e.child,!cd(e,h)){var b=p.memoizedProps;if(a=a.compare,a=a!==null?a:cl,a(b,l)&&e.ref===i.ref)return Qi(e,i,h)}return i.flags|=1,e=Ui(p,l),e.ref=i.ref,e.return=i,i.child=e}function $y(e,i,a,l,h){if(e!==null){var p=e.memoizedProps;if(cl(p,l)&&e.ref===i.ref)if(rn=!1,i.pendingProps=l=p,cd(e,h))(e.flags&131072)!==0&&(rn=!0);else return i.lanes=e.lanes,Qi(e,i,h)}return rd(e,i,a,l,h)}function Qy(e,i,a){var l=i.pendingProps,h=l.children,p=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=p!==null?p.baseLanes|a:a,e!==null){for(h=i.child=e.child,p=0;h!==null;)p=p|h.lanes|h.childLanes,h=h.sibling;i.childLanes=p&~l}else i.childLanes=0,i.child=null;return Yy(e,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&nc(i,p!==null?p.cachePool:null),p!==null?$g(i,p):Dh(),Py(i);else return i.lanes=i.childLanes=536870912,Yy(e,i,p!==null?p.baseLanes|a:a,a)}else p!==null?(nc(i,p.cachePool),$g(i,p),Ss(),i.memoizedState=null):(e!==null&&nc(i,null),Dh(),Ss());return pn(e,i,h,a),i.child}function Yy(e,i,a,l){var h=Ch();return h=h===null?null:{parent:Ke._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&nc(i,null),Dh(),Py(i),e!==null&&pl(e,i,l,!0),null}function _c(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function rd(e,i,a,l,h){return Ta(i),a=jh(e,i,a,l,void 0,h),l=Uh(),e!==null&&!rn?(zh(e,i,h),Qi(e,i,h)):(ie&&l&&Eh(i),i.flags|=1,pn(e,i,a,h),i.child)}function Xy(e,i,a,l,h,p){return Ta(i),i.updateQueue=null,a=Yg(i,l,a,h),Qg(e),l=Uh(),e!==null&&!rn?(zh(e,i,p),Qi(e,i,p)):(ie&&l&&Eh(i),i.flags|=1,pn(e,i,a,p),i.child)}function Ky(e,i,a,l,h){if(Ta(i),i.stateNode===null){var p=no,b=a.contextType;typeof b=="object"&&b!==null&&(p=xn(b)),p=new a(l,p),i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=ed,i.stateNode=p,p._reactInternals=i,p=i.stateNode,p.props=l,p.state=i.memoizedState,p.refs={},Lh(i),b=a.contextType,p.context=typeof b=="object"&&b!==null?xn(b):no,p.state=i.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(td(i,a,b,l),p.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(b=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),b!==p.state&&ed.enqueueReplaceState(p,p.state,null),El(i,l,p,h),bl(),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){p=i.stateNode;var T=i.memoizedProps,O=Ra(a,T);p.props=O;var Y=p.context,nt=a.contextType;b=no,typeof nt=="object"&&nt!==null&&(b=xn(nt));var ut=a.getDerivedStateFromProps;nt=typeof ut=="function"||typeof p.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,nt||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T||Y!==b)&&Dy(i,p,l,b),_s=!1;var K=i.memoizedState;p.state=K,El(i,l,p,h),bl(),Y=i.memoizedState,T||K!==Y||_s?(typeof ut=="function"&&(td(i,a,ut,l),Y=i.memoizedState),(O=_s||Oy(i,a,O,l,K,Y,b))?(nt||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(i.flags|=4194308)):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=Y),p.props=l,p.state=Y,p.context=b,l=O):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{p=i.stateNode,Nh(e,i),b=i.memoizedProps,nt=Ra(a,b),p.props=nt,ut=i.pendingProps,K=p.context,Y=a.contextType,O=no,typeof Y=="object"&&Y!==null&&(O=xn(Y)),T=a.getDerivedStateFromProps,(Y=typeof T=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b!==ut||K!==O)&&Dy(i,p,l,O),_s=!1,K=i.memoizedState,p.state=K,El(i,l,p,h),bl();var W=i.memoizedState;b!==ut||K!==W||_s||e!==null&&e.dependencies!==null&&tc(e.dependencies)?(typeof T=="function"&&(td(i,a,T,l),W=i.memoizedState),(nt=_s||Oy(i,a,nt,l,K,W,O)||e!==null&&e.dependencies!==null&&tc(e.dependencies))?(Y||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(l,W,O),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(l,W,O)),typeof p.componentDidUpdate=="function"&&(i.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof p.componentDidUpdate!="function"||b===e.memoizedProps&&K===e.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&K===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=W),p.props=l,p.state=W,p.context=O,l=nt):(typeof p.componentDidUpdate!="function"||b===e.memoizedProps&&K===e.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&K===e.memoizedState||(i.flags|=1024),l=!1)}return p=l,_c(e,i),l=(i.flags&128)!==0,p||l?(p=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:p.render(),i.flags|=1,e!==null&&l?(i.child=ho(i,e.child,null,h),i.child=ho(i,null,a,h)):pn(e,i,a,h),i.memoizedState=p.state,e=i.child):e=Qi(e,i,h),e}function Wy(e,i,a,l){return dl(),i.flags|=256,pn(e,i,a,l),i.child}var id={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sd(e){return{baseLanes:e,cachePool:kg()}}function ad(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=Vr),e}function Zy(e,i,a){var l=i.pendingProps,h=!1,p=(i.flags&128)!==0,b;if((b=p)||(b=e!==null&&e.memoizedState===null?!1:(We.current&2)!==0),b&&(h=!0,i.flags&=-129),b=(i.flags&32)!==0,i.flags&=-33,e===null){if(ie){if(h?Ts(i):Ss(),ie){var T=Ie,O;if(O=T){t:{for(O=T,T=li;O.nodeType!==8;){if(!T){T=null;break t}if(O=Hr(O.nextSibling),O===null){T=null;break t}}T=O}T!==null?(i.memoizedState={dehydrated:T,treeContext:va!==null?{id:zi,overflow:Fi}:null,retryLane:536870912,hydrationErrors:null},O=ar(18,null,null,0),O.stateNode=T,O.return=i,i.child=O,Un=i,Ie=null,O=!0):O=!1}O||ba(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Hd(T)?i.lanes=32:i.lanes=536870912,null;$i(i)}return T=l.children,l=l.fallback,h?(Ss(),h=i.mode,T=Ac({mode:"hidden",children:T},h),l=ya(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=sd(a),h.childLanes=ad(e,b,a),i.memoizedState=id,l):(Ts(i),od(i,T))}if(O=e.memoizedState,O!==null&&(T=O.dehydrated,T!==null)){if(p)i.flags&256?(Ts(i),i.flags&=-257,i=ld(e,i,a)):i.memoizedState!==null?(Ss(),i.child=e.child,i.flags|=128,i=null):(Ss(),h=l.fallback,T=i.mode,l=Ac({mode:"visible",children:l.children},T),h=ya(h,T,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,ho(i,e.child,null,a),l=i.child,l.memoizedState=sd(a),l.childLanes=ad(e,b,a),i.memoizedState=id,i=h);else if(Ts(i),Hd(T)){if(b=T.nextSibling&&T.nextSibling.dataset,b)var Y=b.dgst;b=Y,l=Error(s(419)),l.stack="",l.digest=b,ml({value:l,source:null,stack:null}),i=ld(e,i,a)}else if(rn||pl(e,i,a,!1),b=(a&e.childLanes)!==0,rn||b){if(b=_e,b!==null&&(l=a&-a,l=(l&42)!==0?1:gr(l),l=(l&(b.suspendedLanes|a))!==0?0:l,l!==0&&l!==O.retryLane))throw O.retryLane=l,eo(e,l),fr(b,e,l),Hy;T.data==="$?"||Rd(),i=ld(e,i,a)}else T.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=O.treeContext,Ie=Hr(T.nextSibling),Un=i,ie=!0,Aa=null,li=!1,e!==null&&(Rr[Mr++]=zi,Rr[Mr++]=Fi,Rr[Mr++]=va,zi=e.id,Fi=e.overflow,va=i),i=od(i,l.children),i.flags|=4096);return i}return h?(Ss(),h=l.fallback,T=i.mode,O=e.child,Y=O.sibling,l=Ui(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&65011712,Y!==null?h=Ui(Y,h):(h=ya(h,T,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=e.child.memoizedState,T===null?T=sd(a):(O=T.cachePool,O!==null?(Y=Ke._currentValue,O=O.parent!==Y?{parent:Y,pool:Y}:O):O=kg(),T={baseLanes:T.baseLanes|a,cachePool:O}),h.memoizedState=T,h.childLanes=ad(e,b,a),i.memoizedState=id,l):(Ts(i),a=e.child,e=a.sibling,a=Ui(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(b=i.deletions,b===null?(i.deletions=[e],i.flags|=16):b.push(e)),i.child=a,i.memoizedState=null,a)}function od(e,i){return i=Ac({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Ac(e,i){return e=ar(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function ld(e,i,a){return ho(i,e.child,null,a),e=od(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Jy(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),Rh(e.return,i,a)}function ud(e,i,a,l,h){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(p.isBackwards=i,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=a,p.tailMode=h)}function t0(e,i,a){var l=i.pendingProps,h=l.revealOrder,p=l.tail;if(pn(e,i,l.children,a),l=We.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Jy(e,a,i);else if(e.tag===19)Jy(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(lt(We,l),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&gc(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),ud(i,!1,h,a,p);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&gc(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}ud(i,!0,a,null,p);break;case"together":ud(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Qi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Vs|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(pl(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=Ui(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Ui(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function cd(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&tc(e)))}function s2(e,i,a){switch(i.tag){case 3:dt(i,i.stateNode.containerInfo),vs(i,Ke,e.memoizedState.cache),dl();break;case 27:case 5:me(i);break;case 4:dt(i,i.stateNode.containerInfo);break;case 10:vs(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Ts(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Zy(e,i,a):(Ts(i),e=Qi(e,i,a),e!==null?e.sibling:null);Ts(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(pl(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return t0(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),lt(We,We.current),l)break;return null;case 22:case 23:return i.lanes=0,Qy(e,i,a);case 24:vs(i,Ke,e.memoizedState.cache)}return Qi(e,i,a)}function e0(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)rn=!0;else{if(!cd(e,a)&&(i.flags&128)===0)return rn=!1,s2(e,i,a);rn=(e.flags&131072)!==0}else rn=!1,ie&&(i.flags&1048576)!==0&&Ig(i,Ju,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")_h(l)?(e=Ra(l,e),i.tag=1,i=Ky(null,i,l,e,a)):(i.tag=0,i=rd(null,i,l,e,a));else{if(l!=null){if(h=l.$$typeof,h===ot){i.tag=11,i=qy(null,i,l,e,a);break t}else if(h===I){i.tag=14,i=Gy(null,i,l,e,a);break t}}throw i=Ot(l)||l,Error(s(306,i,""))}}return i;case 0:return rd(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Ra(l,i.pendingProps),Ky(e,i,l,h,a);case 3:t:{if(dt(i,i.stateNode.containerInfo),e===null)throw Error(s(387));l=i.pendingProps;var p=i.memoizedState;h=p.element,Nh(e,i),El(i,l,null,a);var b=i.memoizedState;if(l=b.cache,vs(i,Ke,l),l!==p.cache&&Mh(i,[Ke],a,!0),bl(),l=b.element,p.isDehydrated)if(p={element:l,isDehydrated:!1,cache:b.cache},i.updateQueue.baseState=p,i.memoizedState=p,i.flags&256){i=Wy(e,i,l,a);break t}else if(l!==h){h=Sr(Error(s(424)),i),ml(h),i=Wy(e,i,l,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ie=Hr(e.firstChild),Un=i,ie=!0,Aa=null,li=!0,a=Ny(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(dl(),l===h){i=Qi(e,i,a);break t}pn(e,i,l,a)}i=i.child}return i;case 26:return _c(e,i),e===null?(a=sv(i.type,null,i.pendingProps,null))?i.memoizedState=a:ie||(a=i.type,e=i.pendingProps,l=Pc(Vt.current).createElement(a),l[Pe]=i,l[Ve]=e,yn(l,a,e),we(l),i.stateNode=l):i.memoizedState=sv(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return me(i),e===null&&ie&&(l=i.stateNode=nv(i.type,i.pendingProps,Vt.current),Un=i,li=!0,h=Ie,Ns(i.type)?(qd=h,Ie=Hr(l.firstChild)):Ie=h),pn(e,i,i.pendingProps.children,a),_c(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&ie&&((h=l=Ie)&&(l=N2(l,i.type,i.pendingProps,li),l!==null?(i.stateNode=l,Un=i,Ie=Hr(l.firstChild),li=!1,h=!0):h=!1),h||ba(i)),me(i),h=i.type,p=i.pendingProps,b=e!==null?e.memoizedProps:null,l=p.children,Ud(h,p)?l=null:b!==null&&Ud(h,b)&&(i.flags|=32),i.memoizedState!==null&&(h=jh(e,i,WE,null,null,a),ql._currentValue=h),_c(e,i),pn(e,i,l,a),i.child;case 6:return e===null&&ie&&((e=a=Ie)&&(a=P2(a,i.pendingProps,li),a!==null?(i.stateNode=a,Un=i,Ie=null,e=!0):e=!1),e||ba(i)),null;case 13:return Zy(e,i,a);case 4:return dt(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=ho(i,null,l,a):pn(e,i,l,a),i.child;case 11:return qy(e,i,i.type,i.pendingProps,a);case 7:return pn(e,i,i.pendingProps,a),i.child;case 8:return pn(e,i,i.pendingProps.children,a),i.child;case 12:return pn(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,vs(i,i.type,l.value),pn(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Ta(i),h=xn(h),l=l(h),i.flags|=1,pn(e,i,l,a),i.child;case 14:return Gy(e,i,i.type,i.pendingProps,a);case 15:return $y(e,i,i.type,i.pendingProps,a);case 19:return t0(e,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},e===null?(a=Ac(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Ui(e.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Qy(e,i,a);case 24:return Ta(i),l=xn(Ke),e===null?(h=Ch(),h===null&&(h=_e,p=xh(),h.pooledCache=p,p.refCount++,p!==null&&(h.pooledCacheLanes|=a),h=p),i.memoizedState={parent:l,cache:h},Lh(i),vs(i,Ke,h)):((e.lanes&a)!==0&&(Nh(e,i),El(i,null,null,a),bl()),h=e.memoizedState,p=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),vs(i,Ke,l)):(l=p.cache,vs(i,Ke,l),l!==h.cache&&Mh(i,[Ke],a,!0))),pn(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Yi(e){e.flags|=4}function n0(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!cv(i)){if(i=xr.current,i!==null&&((Zt&4194048)===Zt?ui!==null:(Zt&62914560)!==Zt&&(Zt&536870912)===0||i!==ui))throw _l=Ih,jg;e.flags|=8192}}function bc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?us():536870912,e.lanes|=i,yo|=i)}function Vl(e,i){if(!ie)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Re(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function a2(e,i,a){var l=i.pendingProps;switch(Th(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Re(i),null;case 1:return Re(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),qi(Ke),Ut(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(hl(i)?Yi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Pg())),Re(i),null;case 26:return a=i.memoizedState,e===null?(Yi(i),a!==null?(Re(i),n0(i,a)):(Re(i),i.flags&=-16777217)):a?a!==e.memoizedState?(Yi(i),Re(i),n0(i,a)):(Re(i),i.flags&=-16777217):(e.memoizedProps!==l&&Yi(i),Re(i),i.flags&=-16777217),null;case 27:Se(i),a=Vt.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Yi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return Re(i),null}e=gt.current,hl(i)?Lg(i):(e=nv(h,l,a),i.stateNode=e,Yi(i))}return Re(i),null;case 5:if(Se(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Yi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return Re(i),null}if(e=gt.current,hl(i))Lg(i);else{switch(h=Pc(Vt.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}e[Pe]=i,e[Ve]=l;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(yn(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Yi(i)}}return Re(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&Yi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=Vt.current,hl(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=Un,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Pe]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||X0(e.nodeValue,a)),e||ba(i)}else e=Pc(e).createTextNode(l),e[Pe]=i,i.stateNode=e}return Re(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=hl(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Pe]=i}else dl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Re(i),h=!1}else h=Pg(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?($i(i),i):($i(i),null)}if($i(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var p=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==h&&(l.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),bc(i,i.updateQueue),Re(i),null;case 4:return Ut(),e===null&&Od(i.stateNode.containerInfo),Re(i),null;case 10:return qi(i.type),Re(i),null;case 19:if(mt(We),h=i.memoizedState,h===null)return Re(i),null;if(l=(i.flags&128)!==0,p=h.rendering,p===null)if(l)Vl(h,!1);else{if(Le!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(p=gc(e),p!==null){for(i.flags|=128,Vl(h,!1),e=p.updateQueue,i.updateQueue=e,bc(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)Cg(a,e),a=a.sibling;return lt(We,We.current&1|2),i.child}e=e.sibling}h.tail!==null&&En()>Sc&&(i.flags|=128,l=!0,Vl(h,!1),i.lanes=4194304)}else{if(!l)if(e=gc(p),e!==null){if(i.flags|=128,l=!0,e=e.updateQueue,i.updateQueue=e,bc(i,e),Vl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!p.alternate&&!ie)return Re(i),null}else 2*En()-h.renderingStartTime>Sc&&a!==536870912&&(i.flags|=128,l=!0,Vl(h,!1),i.lanes=4194304);h.isBackwards?(p.sibling=i.child,i.child=p):(e=h.last,e!==null?e.sibling=p:i.child=p,h.last=p)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=En(),i.sibling=null,e=We.current,lt(We,l?e&1|2:e&1),i):(Re(i),null);case 22:case 23:return $i(i),Bh(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(Re(i),i.subtreeFlags&6&&(i.flags|=8192)):Re(i),a=i.updateQueue,a!==null&&bc(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&mt(Sa),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),qi(Ke),Re(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function o2(e,i){switch(Th(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return qi(Ke),Ut(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Se(i),null;case 13:if($i(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));dl()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return mt(We),null;case 4:return Ut(),null;case 10:return qi(i.type),null;case 22:case 23:return $i(i),Bh(),e!==null&&mt(Sa),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return qi(Ke),null;case 25:return null;default:return null}}function r0(e,i){switch(Th(i),i.tag){case 3:qi(Ke),Ut();break;case 26:case 27:case 5:Se(i);break;case 4:Ut();break;case 13:$i(i);break;case 19:mt(We);break;case 10:qi(i.type);break;case 22:case 23:$i(i),Bh(),e!==null&&mt(Sa);break;case 24:qi(Ke)}}function Cl(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var p=a.create,b=a.inst;l=p(),b.destroy=l}a=a.next}while(a!==h)}}catch(T){ge(i,i.return,T)}}function ws(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var p=h.next;l=p;do{if((l.tag&e)===e){var b=l.inst,T=b.destroy;if(T!==void 0){b.destroy=void 0,h=i;var O=a,Y=T;try{Y()}catch(nt){ge(h,O,nt)}}}l=l.next}while(l!==p)}}catch(nt){ge(i,i.return,nt)}}function i0(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Gg(i,a)}catch(l){ge(e,e.return,l)}}}function s0(e,i,a){a.props=Ra(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){ge(e,i,l)}}function Il(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){ge(e,i,h)}}function ci(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){ge(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){ge(e,i,h)}else a.current=null}function a0(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){ge(e,e.return,h)}}function fd(e,i,a){try{var l=e.stateNode;x2(l,e.type,a,i),l[Ve]=i}catch(h){ge(e,e.return,h)}}function o0(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ns(e.type)||e.tag===4}function hd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||o0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ns(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function dd(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Nc));else if(l!==4&&(l===27&&Ns(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(dd(e,i,a),e=e.sibling;e!==null;)dd(e,i,a),e=e.sibling}function Ec(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&Ns(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Ec(e,i,a),e=e.sibling;e!==null;)Ec(e,i,a),e=e.sibling}function l0(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);yn(i,l,a),i[Pe]=e,i[Ve]=a}catch(p){ge(e,e.return,p)}}var Xi=!1,De=!1,md=!1,u0=typeof WeakSet=="function"?WeakSet:Set,sn=null;function l2(e,i){if(e=e.containerInfo,kd=Uc,e=Ag(e),hh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,p=l.focusNode;l=l.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break t}var b=0,T=-1,O=-1,Y=0,nt=0,ut=e,K=null;e:for(;;){for(var W;ut!==a||h!==0&&ut.nodeType!==3||(T=b+h),ut!==p||l!==0&&ut.nodeType!==3||(O=b+l),ut.nodeType===3&&(b+=ut.nodeValue.length),(W=ut.firstChild)!==null;)K=ut,ut=W;for(;;){if(ut===e)break e;if(K===a&&++Y===h&&(T=b),K===p&&++nt===l&&(O=b),(W=ut.nextSibling)!==null)break;ut=K,K=ut.parentNode}ut=W}a=T===-1||O===-1?null:{start:T,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(jd={focusedElem:e,selectionRange:a},Uc=!1,sn=i;sn!==null;)if(i=sn,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,sn=e;else for(;sn!==null;){switch(i=sn,p=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&p!==null){e=void 0,a=i,h=p.memoizedProps,p=p.memoizedState,l=a.stateNode;try{var Pt=Ra(a.type,h,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(Pt,p),l.__reactInternalSnapshotBeforeUpdate=e}catch(It){ge(a,a.return,It)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Fd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Fd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,sn=e;break}sn=i.return}}function c0(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Rs(e,a),l&4&&Cl(5,a);break;case 1:if(Rs(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(b){ge(a,a.return,b)}else{var h=Ra(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(b){ge(a,a.return,b)}}l&64&&i0(a),l&512&&Il(a,a.return);break;case 3:if(Rs(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Gg(e,i)}catch(b){ge(a,a.return,b)}}break;case 27:i===null&&l&4&&l0(a);case 26:case 5:Rs(e,a),i===null&&l&4&&a0(a),l&512&&Il(a,a.return);break;case 12:Rs(e,a);break;case 13:Rs(e,a),l&4&&d0(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=y2.bind(null,a),O2(e,a))));break;case 22:if(l=a.memoizedState!==null||Xi,!l){i=i!==null&&i.memoizedState!==null||De,h=Xi;var p=De;Xi=l,(De=i)&&!p?Ms(e,a,(a.subtreeFlags&8772)!==0):Rs(e,a),Xi=h,De=p}break;case 30:break;default:Rs(e,a)}}function f0(e){var i=e.alternate;i!==null&&(e.alternate=null,f0(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Jr(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Te=null,Xn=!1;function Ki(e,i,a){for(a=a.child;a!==null;)h0(e,i,a),a=a.sibling}function h0(e,i,a){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(Ee,a)}catch{}switch(a.tag){case 26:De||ci(a,i),Ki(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:De||ci(a,i);var l=Te,h=Xn;Ns(a.type)&&(Te=a.stateNode,Xn=!1),Ki(e,i,a),Ul(a.stateNode),Te=l,Xn=h;break;case 5:De||ci(a,i);case 6:if(l=Te,h=Xn,Te=null,Ki(e,i,a),Te=l,Xn=h,Te!==null)if(Xn)try{(Te.nodeType===9?Te.body:Te.nodeName==="HTML"?Te.ownerDocument.body:Te).removeChild(a.stateNode)}catch(p){ge(a,i,p)}else try{Te.removeChild(a.stateNode)}catch(p){ge(a,i,p)}break;case 18:Te!==null&&(Xn?(e=Te,tv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Yl(e)):tv(Te,a.stateNode));break;case 4:l=Te,h=Xn,Te=a.stateNode.containerInfo,Xn=!0,Ki(e,i,a),Te=l,Xn=h;break;case 0:case 11:case 14:case 15:De||ws(2,a,i),De||ws(4,a,i),Ki(e,i,a);break;case 1:De||(ci(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&s0(a,i,l)),Ki(e,i,a);break;case 21:Ki(e,i,a);break;case 22:De=(l=De)||a.memoizedState!==null,Ki(e,i,a),De=l;break;default:Ki(e,i,a)}}function d0(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Yl(e)}catch(a){ge(i,i.return,a)}}function u2(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new u0),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new u0),i;default:throw Error(s(435,e.tag))}}function pd(e,i){var a=u2(e);i.forEach(function(l){var h=v2.bind(null,e,l);a.has(l)||(a.add(l),l.then(h,h))})}function or(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],p=e,b=i,T=b;t:for(;T!==null;){switch(T.tag){case 27:if(Ns(T.type)){Te=T.stateNode,Xn=!1;break t}break;case 5:Te=T.stateNode,Xn=!1;break t;case 3:case 4:Te=T.stateNode.containerInfo,Xn=!0;break t}T=T.return}if(Te===null)throw Error(s(160));h0(p,b,h),Te=null,Xn=!1,p=h.alternate,p!==null&&(p.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)m0(i,e),i=i.sibling}var Fr=null;function m0(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:or(i,e),lr(e),l&4&&(ws(3,e,e.return),Cl(3,e),ws(5,e,e.return));break;case 1:or(i,e),lr(e),l&512&&(De||a===null||ci(a,a.return)),l&64&&Xi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Fr;if(or(i,e),lr(e),l&512&&(De||a===null||ci(a,a.return)),l&4){var p=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":p=h.getElementsByTagName("title")[0],(!p||p[Ni]||p[Pe]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=h.createElement(l),h.head.insertBefore(p,h.querySelector("head > title"))),yn(p,l,a),p[Pe]=e,we(p),l=p;break t;case"link":var b=lv("link","href",h).get(l+(a.href||""));if(b){for(var T=0;T<b.length;T++)if(p=b[T],p.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&p.getAttribute("rel")===(a.rel==null?null:a.rel)&&p.getAttribute("title")===(a.title==null?null:a.title)&&p.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){b.splice(T,1);break e}}p=h.createElement(l),yn(p,l,a),h.head.appendChild(p);break;case"meta":if(b=lv("meta","content",h).get(l+(a.content||""))){for(T=0;T<b.length;T++)if(p=b[T],p.getAttribute("content")===(a.content==null?null:""+a.content)&&p.getAttribute("name")===(a.name==null?null:a.name)&&p.getAttribute("property")===(a.property==null?null:a.property)&&p.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&p.getAttribute("charset")===(a.charSet==null?null:a.charSet)){b.splice(T,1);break e}}p=h.createElement(l),yn(p,l,a),h.head.appendChild(p);break;default:throw Error(s(468,l))}p[Pe]=e,we(p),l=p}e.stateNode=l}else uv(h,e.type,e.stateNode);else e.stateNode=ov(h,l,e.memoizedProps);else p!==l?(p===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):p.count--,l===null?uv(h,e.type,e.stateNode):ov(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&fd(e,e.memoizedProps,a.memoizedProps)}break;case 27:or(i,e),lr(e),l&512&&(De||a===null||ci(a,a.return)),a!==null&&l&4&&fd(e,e.memoizedProps,a.memoizedProps);break;case 5:if(or(i,e),lr(e),l&512&&(De||a===null||ci(a,a.return)),e.flags&32){h=e.stateNode;try{hn(h,"")}catch(W){ge(e,e.return,W)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,fd(e,h,a!==null?a.memoizedProps:h)),l&1024&&(md=!0);break;case 6:if(or(i,e),lr(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(W){ge(e,e.return,W)}}break;case 3:if(Bc=null,h=Fr,Fr=Oc(i.containerInfo),or(i,e),Fr=h,lr(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Yl(i.containerInfo)}catch(W){ge(e,e.return,W)}md&&(md=!1,p0(e));break;case 4:l=Fr,Fr=Oc(e.stateNode.containerInfo),or(i,e),lr(e),Fr=l;break;case 12:or(i,e),lr(e);break;case 13:or(i,e),lr(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(bd=En()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,pd(e,l)));break;case 22:h=e.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,Y=Xi,nt=De;if(Xi=Y||h,De=nt||O,or(i,e),De=nt,Xi=Y,lr(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||O||Xi||De||Ma(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){O=a=i;try{if(p=O.stateNode,h)b=p.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{T=O.stateNode;var ut=O.memoizedProps.style,K=ut!=null&&ut.hasOwnProperty("display")?ut.display:null;T.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(W){ge(O,O.return,W)}}}else if(i.tag===6){if(a===null){O=i;try{O.stateNode.nodeValue=h?"":O.memoizedProps}catch(W){ge(O,O.return,W)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,pd(e,a))));break;case 19:or(i,e),lr(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,pd(e,l)));break;case 30:break;case 21:break;default:or(i,e),lr(e)}}function lr(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(o0(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,p=hd(e);Ec(e,p,h);break;case 5:var b=a.stateNode;a.flags&32&&(hn(b,""),a.flags&=-33);var T=hd(e);Ec(e,T,b);break;case 3:case 4:var O=a.stateNode.containerInfo,Y=hd(e);dd(e,Y,O);break;default:throw Error(s(161))}}catch(nt){ge(e,e.return,nt)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function p0(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;p0(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Rs(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)c0(e,i.alternate,i),i=i.sibling}function Ma(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:ws(4,i,i.return),Ma(i);break;case 1:ci(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&s0(i,i.return,a),Ma(i);break;case 27:Ul(i.stateNode);case 26:case 5:ci(i,i.return),Ma(i);break;case 22:i.memoizedState===null&&Ma(i);break;case 30:Ma(i);break;default:Ma(i)}e=e.sibling}}function Ms(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,p=i,b=p.flags;switch(p.tag){case 0:case 11:case 15:Ms(h,p,a),Cl(4,p);break;case 1:if(Ms(h,p,a),l=p,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(Y){ge(l,l.return,Y)}if(l=p,h=l.updateQueue,h!==null){var T=l.stateNode;try{var O=h.shared.hiddenCallbacks;if(O!==null)for(h.shared.hiddenCallbacks=null,h=0;h<O.length;h++)qg(O[h],T)}catch(Y){ge(l,l.return,Y)}}a&&b&64&&i0(p),Il(p,p.return);break;case 27:l0(p);case 26:case 5:Ms(h,p,a),a&&l===null&&b&4&&a0(p),Il(p,p.return);break;case 12:Ms(h,p,a);break;case 13:Ms(h,p,a),a&&b&4&&d0(h,p);break;case 22:p.memoizedState===null&&Ms(h,p,a),Il(p,p.return);break;case 30:break;default:Ms(h,p,a)}i=i.sibling}}function gd(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&gl(a))}function yd(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&gl(e))}function fi(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)g0(e,i,a,l),i=i.sibling}function g0(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:fi(e,i,a,l),h&2048&&Cl(9,i);break;case 1:fi(e,i,a,l);break;case 3:fi(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&gl(e)));break;case 12:if(h&2048){fi(e,i,a,l),e=i.stateNode;try{var p=i.memoizedProps,b=p.id,T=p.onPostCommit;typeof T=="function"&&T(b,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(O){ge(i,i.return,O)}}else fi(e,i,a,l);break;case 13:fi(e,i,a,l);break;case 23:break;case 22:p=i.stateNode,b=i.alternate,i.memoizedState!==null?p._visibility&2?fi(e,i,a,l):Ll(e,i):p._visibility&2?fi(e,i,a,l):(p._visibility|=2,mo(e,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&gd(b,i);break;case 24:fi(e,i,a,l),h&2048&&yd(i.alternate,i);break;default:fi(e,i,a,l)}}function mo(e,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var p=e,b=i,T=a,O=l,Y=b.flags;switch(b.tag){case 0:case 11:case 15:mo(p,b,T,O,h),Cl(8,b);break;case 23:break;case 22:var nt=b.stateNode;b.memoizedState!==null?nt._visibility&2?mo(p,b,T,O,h):Ll(p,b):(nt._visibility|=2,mo(p,b,T,O,h)),h&&Y&2048&&gd(b.alternate,b);break;case 24:mo(p,b,T,O,h),h&&Y&2048&&yd(b.alternate,b);break;default:mo(p,b,T,O,h)}i=i.sibling}}function Ll(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:Ll(a,l),h&2048&&gd(l.alternate,l);break;case 24:Ll(a,l),h&2048&&yd(l.alternate,l);break;default:Ll(a,l)}i=i.sibling}}var Nl=8192;function po(e){if(e.subtreeFlags&Nl)for(e=e.child;e!==null;)y0(e),e=e.sibling}function y0(e){switch(e.tag){case 26:po(e),e.flags&Nl&&e.memoizedState!==null&&Y2(Fr,e.memoizedState,e.memoizedProps);break;case 5:po(e);break;case 3:case 4:var i=Fr;Fr=Oc(e.stateNode.containerInfo),po(e),Fr=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Nl,Nl=16777216,po(e),Nl=i):po(e));break;default:po(e)}}function v0(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Pl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];sn=l,A0(l,e)}v0(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)_0(e),e=e.sibling}function _0(e){switch(e.tag){case 0:case 11:case 15:Pl(e),e.flags&2048&&ws(9,e,e.return);break;case 3:Pl(e);break;case 12:Pl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Tc(e)):Pl(e);break;default:Pl(e)}}function Tc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];sn=l,A0(l,e)}v0(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:ws(8,i,i.return),Tc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Tc(i));break;default:Tc(i)}e=e.sibling}}function A0(e,i){for(;sn!==null;){var a=sn;switch(a.tag){case 0:case 11:case 15:ws(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:gl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,sn=l;else t:for(a=e;sn!==null;){l=sn;var h=l.sibling,p=l.return;if(f0(l),l===a){sn=null;break t}if(h!==null){h.return=p,sn=h;break t}sn=p}}}var c2={getCacheForType:function(e){var i=xn(Ke),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},f2=typeof WeakMap=="function"?WeakMap:Map,le=0,_e=null,$t=null,Zt=0,ue=0,ur=null,xs=!1,go=!1,vd=!1,Wi=0,Le=0,Vs=0,xa=0,_d=0,Vr=0,yo=0,Ol=null,Kn=null,Ad=!1,bd=0,Sc=1/0,wc=null,Cs=null,gn=0,Is=null,vo=null,_o=0,Ed=0,Td=null,b0=null,Dl=0,Sd=null;function cr(){if((le&2)!==0&&Zt!==0)return Zt&-Zt;if(q.T!==null){var e=so;return e!==0?e:Id()}return zn()}function E0(){Vr===0&&(Vr=(Zt&536870912)===0||ie?tr():536870912);var e=xr.current;return e!==null&&(e.flags|=32),Vr}function fr(e,i,a){(e===_e&&(ue===2||ue===9)||e.cancelPendingCommit!==null)&&(Ao(e,0),Ls(e,Zt,Vr,!1)),Pr(e,a),((le&2)===0||e!==_e)&&(e===_e&&((le&2)===0&&(xa|=a),Le===4&&Ls(e,Zt,Vr,!1)),hi(e))}function T0(e,i,a){if((le&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&e.expiredLanes)===0||Wr(e,i),h=l?m2(e,i):Md(e,i,!0),p=l;do{if(h===0){go&&!l&&Ls(e,i,0,!1);break}else{if(a=e.current.alternate,p&&!h2(a)){h=Md(e,i,!1),p=!1;continue}if(h===2){if(p=i,e.errorRecoveryDisabledLanes&p)var b=0;else b=e.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){i=b;t:{var T=e;h=Ol;var O=T.current.memoizedState.isDehydrated;if(O&&(Ao(T,b).flags|=256),b=Md(T,b,!1),b!==2){if(vd&&!O){T.errorRecoveryDisabledLanes|=p,xa|=p,h=4;break t}p=Kn,Kn=h,p!==null&&(Kn===null?Kn=p:Kn.push.apply(Kn,p))}h=b}if(p=!1,h!==2)continue}}if(h===1){Ao(e,0),Ls(e,i,0,!0);break}t:{switch(l=e,p=h,p){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Ls(l,i,Vr,!xs);break t;case 2:Kn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=bd+300-En(),10<h)){if(Ls(l,i,Vr,!xs),Ci(l,0,!0)!==0)break t;l.timeoutHandle=Z0(S0.bind(null,l,a,Kn,wc,Ad,i,Vr,xa,yo,xs,p,2,-0,0),h);break t}S0(l,a,Kn,wc,Ad,i,Vr,xa,yo,xs,p,0,-0,0)}}break}while(!0);hi(e)}function S0(e,i,a,l,h,p,b,T,O,Y,nt,ut,K,W){if(e.timeoutHandle=-1,ut=i.subtreeFlags,(ut&8192||(ut&16785408)===16785408)&&(Hl={stylesheets:null,count:0,unsuspend:Q2},y0(i),ut=X2(),ut!==null)){e.cancelPendingCommit=ut(I0.bind(null,e,i,p,a,l,h,b,T,O,nt,1,K,W)),Ls(e,p,b,!Y);return}I0(e,i,p,a,l,h,b,T,O)}function h2(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],p=h.getSnapshot;h=h.value;try{if(!sr(p(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ls(e,i,a,l){i&=~_d,i&=~xa,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var p=31-Ge(h),b=1<<p;l[p]=-1,h&=~b}a!==0&&Sn(e,a,i)}function Rc(){return(le&6)===0?(Bl(0),!1):!0}function wd(){if($t!==null){if(ue===0)var e=$t.return;else e=$t,Hi=Ea=null,Fh(e),fo=null,Ml=0,e=$t;for(;e!==null;)r0(e.alternate,e),e=e.return;$t=null}}function Ao(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,C2(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),wd(),_e=e,$t=a=Ui(e.current,null),Zt=i,ue=0,ur=null,xs=!1,go=Wr(e,i),vd=!1,yo=Vr=_d=xa=Vs=Le=0,Kn=Ol=null,Ad=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-Ge(l),p=1<<h;i|=e[h],l&=~p}return Wi=i,Yu(),a}function w0(e,i){Ft=null,q.H=dc,i===vl||i===rc?(i=Fg(),ue=3):i===jg?(i=Fg(),ue=4):ue=i===Hy?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,ur=i,$t===null&&(Le=1,vc(e,Sr(i,e.current)))}function R0(){var e=q.H;return q.H=dc,e===null?dc:e}function M0(){var e=q.A;return q.A=c2,e}function Rd(){Le=4,xs||(Zt&4194048)!==Zt&&xr.current!==null||(go=!0),(Vs&134217727)===0&&(xa&134217727)===0||_e===null||Ls(_e,Zt,Vr,!1)}function Md(e,i,a){var l=le;le|=2;var h=R0(),p=M0();(_e!==e||Zt!==i)&&(wc=null,Ao(e,i)),i=!1;var b=Le;t:do try{if(ue!==0&&$t!==null){var T=$t,O=ur;switch(ue){case 8:wd(),b=6;break t;case 3:case 2:case 9:case 6:xr.current===null&&(i=!0);var Y=ue;if(ue=0,ur=null,bo(e,T,O,Y),a&&go){b=0;break t}break;default:Y=ue,ue=0,ur=null,bo(e,T,O,Y)}}d2(),b=Le;break}catch(nt){w0(e,nt)}while(!0);return i&&e.shellSuspendCounter++,Hi=Ea=null,le=l,q.H=h,q.A=p,$t===null&&(_e=null,Zt=0,Yu()),b}function d2(){for(;$t!==null;)x0($t)}function m2(e,i){var a=le;le|=2;var l=R0(),h=M0();_e!==e||Zt!==i?(wc=null,Sc=En()+500,Ao(e,i)):go=Wr(e,i);t:do try{if(ue!==0&&$t!==null){i=$t;var p=ur;e:switch(ue){case 1:ue=0,ur=null,bo(e,i,p,1);break;case 2:case 9:if(Ug(p)){ue=0,ur=null,V0(i);break}i=function(){ue!==2&&ue!==9||_e!==e||(ue=7),hi(e)},p.then(i,i);break t;case 3:ue=7;break t;case 4:ue=5;break t;case 7:Ug(p)?(ue=0,ur=null,V0(i)):(ue=0,ur=null,bo(e,i,p,7));break;case 5:var b=null;switch($t.tag){case 26:b=$t.memoizedState;case 5:case 27:var T=$t;if(!b||cv(b)){ue=0,ur=null;var O=T.sibling;if(O!==null)$t=O;else{var Y=T.return;Y!==null?($t=Y,Mc(Y)):$t=null}break e}}ue=0,ur=null,bo(e,i,p,5);break;case 6:ue=0,ur=null,bo(e,i,p,6);break;case 8:wd(),Le=6;break t;default:throw Error(s(462))}}p2();break}catch(nt){w0(e,nt)}while(!0);return Hi=Ea=null,q.H=l,q.A=h,le=a,$t!==null?0:(_e=null,Zt=0,Yu(),Le)}function p2(){for(;$t!==null&&!Mi();)x0($t)}function x0(e){var i=e0(e.alternate,e,Wi);e.memoizedProps=e.pendingProps,i===null?Mc(e):$t=i}function V0(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Xy(a,i,i.pendingProps,i.type,void 0,Zt);break;case 11:i=Xy(a,i,i.pendingProps,i.type.render,i.ref,Zt);break;case 5:Fh(i);default:r0(a,i),i=$t=Cg(i,Wi),i=e0(a,i,Wi)}e.memoizedProps=e.pendingProps,i===null?Mc(e):$t=i}function bo(e,i,a,l){Hi=Ea=null,Fh(i),fo=null,Ml=0;var h=i.return;try{if(i2(e,h,i,a,Zt)){Le=1,vc(e,Sr(a,e.current)),$t=null;return}}catch(p){if(h!==null)throw $t=h,p;Le=1,vc(e,Sr(a,e.current)),$t=null;return}i.flags&32768?(ie||l===1?e=!0:go||(Zt&536870912)!==0?e=!1:(xs=e=!0,(l===2||l===9||l===3||l===6)&&(l=xr.current,l!==null&&l.tag===13&&(l.flags|=16384))),C0(i,e)):Mc(i)}function Mc(e){var i=e;do{if((i.flags&32768)!==0){C0(i,xs);return}e=i.return;var a=a2(i.alternate,i,Wi);if(a!==null){$t=a;return}if(i=i.sibling,i!==null){$t=i;return}$t=i=e}while(i!==null);Le===0&&(Le=5)}function C0(e,i){do{var a=o2(e.alternate,e);if(a!==null){a.flags&=32767,$t=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){$t=e;return}$t=e=a}while(e!==null);Le=6,$t=null}function I0(e,i,a,l,h,p,b,T,O){e.cancelPendingCommit=null;do xc();while(gn!==0);if((le&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(p=i.lanes|i.childLanes,p|=yh,Ii(e,a,p,b,T,O),e===_e&&($t=_e=null,Zt=0),vo=i,Is=e,_o=a,Ed=p,Td=h,b0=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,_2(xi,function(){return D0(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=q.T,q.T=null,h=at.p,at.p=2,b=le,le|=4;try{l2(e,i,a)}finally{le=b,at.p=h,q.T=l}}gn=1,L0(),N0(),P0()}}function L0(){if(gn===1){gn=0;var e=Is,i=vo,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=q.T,q.T=null;var l=at.p;at.p=2;var h=le;le|=4;try{m0(i,e);var p=jd,b=Ag(e.containerInfo),T=p.focusedElem,O=p.selectionRange;if(b!==T&&T&&T.ownerDocument&&_g(T.ownerDocument.documentElement,T)){if(O!==null&&hh(T)){var Y=O.start,nt=O.end;if(nt===void 0&&(nt=Y),"selectionStart"in T)T.selectionStart=Y,T.selectionEnd=Math.min(nt,T.value.length);else{var ut=T.ownerDocument||document,K=ut&&ut.defaultView||window;if(K.getSelection){var W=K.getSelection(),Pt=T.textContent.length,It=Math.min(O.start,Pt),de=O.end===void 0?It:Math.min(O.end,Pt);!W.extend&&It>de&&(b=de,de=It,It=b);var H=vg(T,It),z=vg(T,de);if(H&&z&&(W.rangeCount!==1||W.anchorNode!==H.node||W.anchorOffset!==H.offset||W.focusNode!==z.node||W.focusOffset!==z.offset)){var Q=ut.createRange();Q.setStart(H.node,H.offset),W.removeAllRanges(),It>de?(W.addRange(Q),W.extend(z.node,z.offset)):(Q.setEnd(z.node,z.offset),W.addRange(Q))}}}}for(ut=[],W=T;W=W.parentNode;)W.nodeType===1&&ut.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ut.length;T++){var it=ut[T];it.element.scrollLeft=it.left,it.element.scrollTop=it.top}}Uc=!!kd,jd=kd=null}finally{le=h,at.p=l,q.T=a}}e.current=i,gn=2}}function N0(){if(gn===2){gn=0;var e=Is,i=vo,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=q.T,q.T=null;var l=at.p;at.p=2;var h=le;le|=4;try{c0(e,i.alternate,i)}finally{le=h,at.p=l,q.T=a}}gn=3}}function P0(){if(gn===4||gn===3){gn=0,as();var e=Is,i=vo,a=_o,l=b0;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?gn=5:(gn=0,vo=Is=null,O0(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Cs=null),Zr(a),i=i.stateNode,Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(Ee,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=q.T,h=at.p,at.p=2,q.T=null;try{for(var p=e.onRecoverableError,b=0;b<l.length;b++){var T=l[b];p(T.value,{componentStack:T.stack})}}finally{q.T=i,at.p=h}}(_o&3)!==0&&xc(),hi(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===Sd?Dl++:(Dl=0,Sd=e):Dl=0,Bl(0)}}function O0(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,gl(i)))}function xc(e){return L0(),N0(),P0(),D0()}function D0(){if(gn!==5)return!1;var e=Is,i=Ed;Ed=0;var a=Zr(_o),l=q.T,h=at.p;try{at.p=32>a?32:a,q.T=null,a=Td,Td=null;var p=Is,b=_o;if(gn=0,vo=Is=null,_o=0,(le&6)!==0)throw Error(s(331));var T=le;if(le|=4,_0(p.current),g0(p,p.current,b,a),le=T,Bl(0,!1),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(Ee,p)}catch{}return!0}finally{at.p=h,q.T=l,O0(e,i)}}function B0(e,i,a){i=Sr(a,i),i=nd(e.stateNode,i,2),e=bs(e,i,2),e!==null&&(Pr(e,2),hi(e))}function ge(e,i,a){if(e.tag===3)B0(e,e,a);else for(;i!==null;){if(i.tag===3){B0(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Cs===null||!Cs.has(l))){e=Sr(a,e),a=zy(2),l=bs(i,a,2),l!==null&&(Fy(a,l,i,e),Pr(l,2),hi(l));break}}i=i.return}}function xd(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new f2;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(vd=!0,h.add(a),e=g2.bind(null,e,i,a),i.then(e,e))}function g2(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,_e===e&&(Zt&a)===a&&(Le===4||Le===3&&(Zt&62914560)===Zt&&300>En()-bd?(le&2)===0&&Ao(e,0):_d|=a,yo===Zt&&(yo=0)),hi(e)}function k0(e,i){i===0&&(i=us()),e=eo(e,i),e!==null&&(Pr(e,i),hi(e))}function y2(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),k0(e,a)}function v2(e,i){var a=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),k0(e,a)}function _2(e,i){return bn(e,i)}var Vc=null,Eo=null,Vd=!1,Cc=!1,Cd=!1,Va=0;function hi(e){e!==Eo&&e.next===null&&(Eo===null?Vc=Eo=e:Eo=Eo.next=e),Cc=!0,Vd||(Vd=!0,b2())}function Bl(e,i){if(!Cd&&Cc){Cd=!0;do for(var a=!1,l=Vc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var p=0;else{var b=l.suspendedLanes,T=l.pingedLanes;p=(1<<31-Ge(42|e)+1)-1,p&=h&~(b&~T),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(a=!0,F0(l,p))}else p=Zt,p=Ci(l,l===_e?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(p&3)===0||Wr(l,p)||(a=!0,F0(l,p));l=l.next}while(a);Cd=!1}}function A2(){j0()}function j0(){Cc=Vd=!1;var e=0;Va!==0&&(V2()&&(e=Va),Va=0);for(var i=En(),a=null,l=Vc;l!==null;){var h=l.next,p=U0(l,i);p===0?(l.next=null,a===null?Vc=h:a.next=h,h===null&&(Eo=a)):(a=l,(e!==0||(p&3)!==0)&&(Cc=!0)),l=h}Bl(e)}function U0(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,p=e.pendingLanes&-62914561;0<p;){var b=31-Ge(p),T=1<<b,O=h[b];O===-1?((T&a)===0||(T&l)!==0)&&(h[b]=aa(T,i)):O<=i&&(e.expiredLanes|=T),p&=~T}if(i=_e,a=Zt,a=Ci(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(ue===2||ue===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Jn(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Wr(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&Jn(l),Zr(a)){case 2:case 8:a=os;break;case 32:a=xi;break;case 268435456:a=ls;break;default:a=xi}return l=z0.bind(null,e),a=bn(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&Jn(l),e.callbackPriority=2,e.callbackNode=null,2}function z0(e,i){if(gn!==0&&gn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(xc()&&e.callbackNode!==a)return null;var l=Zt;return l=Ci(e,e===_e?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(T0(e,l,i),U0(e,En()),e.callbackNode!=null&&e.callbackNode===a?z0.bind(null,e):null)}function F0(e,i){if(xc())return null;T0(e,i,!0)}function b2(){I2(function(){(le&6)!==0?bn(pr,A2):j0()})}function Id(){return Va===0&&(Va=tr()),Va}function H0(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:gs(""+e)}function q0(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function E2(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var p=H0((h[Ve]||null).action),b=l.submitter;b&&(i=(i=b[Ve]||null)?H0(i.formAction):b.getAttribute("formAction"),i!==null&&(p=i,b=null));var T=new vt("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Va!==0){var O=b?q0(h,b):new FormData(h);Wh(a,{pending:!0,data:O,method:h.method,action:p},null,O)}}else typeof p=="function"&&(T.preventDefault(),O=b?q0(h,b):new FormData(h),Wh(a,{pending:!0,data:O,method:h.method,action:p},p,O))},currentTarget:h}]})}}for(var Ld=0;Ld<gh.length;Ld++){var Nd=gh[Ld],T2=Nd.toLowerCase(),S2=Nd[0].toUpperCase()+Nd.slice(1);zr(T2,"on"+S2)}zr(Tg,"onAnimationEnd"),zr(Sg,"onAnimationIteration"),zr(wg,"onAnimationStart"),zr("dblclick","onDoubleClick"),zr("focusin","onFocus"),zr("focusout","onBlur"),zr(zE,"onTransitionRun"),zr(FE,"onTransitionStart"),zr(HE,"onTransitionCancel"),zr(Rg,"onTransitionEnd"),cn("onMouseEnter",["mouseout","mouseover"]),cn("onMouseLeave",["mouseout","mouseover"]),cn("onPointerEnter",["pointerout","pointerover"]),cn("onPointerLeave",["pointerout","pointerover"]),er("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),er("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),er("onBeforeInput",["compositionend","keypress","textInput","paste"]),er("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),er("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),er("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),w2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kl));function G0(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var p=void 0;if(i)for(var b=l.length-1;0<=b;b--){var T=l[b],O=T.instance,Y=T.currentTarget;if(T=T.listener,O!==p&&h.isPropagationStopped())break t;p=T,h.currentTarget=Y;try{p(h)}catch(nt){yc(nt)}h.currentTarget=null,p=O}else for(b=0;b<l.length;b++){if(T=l[b],O=T.instance,Y=T.currentTarget,T=T.listener,O!==p&&h.isPropagationStopped())break t;p=T,h.currentTarget=Y;try{p(h)}catch(nt){yc(nt)}h.currentTarget=null,p=O}}}}function Qt(e,i){var a=i[cs];a===void 0&&(a=i[cs]=new Set);var l=e+"__bubble";a.has(l)||($0(i,e,2,!1),a.add(l))}function Pd(e,i,a){var l=0;i&&(l|=4),$0(a,e,l,i)}var Ic="_reactListening"+Math.random().toString(36).slice(2);function Od(e){if(!e[Ic]){e[Ic]=!0,la.forEach(function(a){a!=="selectionchange"&&(w2.has(a)||Pd(a,!1,e),Pd(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Ic]||(i[Ic]=!0,Pd("selectionchange",!1,i))}}function $0(e,i,a,l){switch(gv(i)){case 2:var h=Z2;break;case 8:h=J2;break;default:h=Xd}a=h.bind(null,i,a,e),h=void 0,!kn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function Dd(e,i,a,l,h){var p=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var b=l.tag;if(b===3||b===4){var T=l.stateNode.containerInfo;if(T===h)break;if(b===4)for(b=l.return;b!==null;){var O=b.tag;if((O===3||O===4)&&b.stateNode.containerInfo===h)return;b=b.return}for(;T!==null;){if(b=Or(T),b===null)return;if(O=b.tag,O===5||O===6||O===26||O===27){l=p=b;continue t}T=T.parentNode}}l=l.return}Xa(function(){var Y=p,nt=Gn(a),ut=[];t:{var K=Mg.get(e);if(K!==void 0){var W=vt,Pt=e;switch(e){case"keypress":if(br(a)===0)break t;case"keydown":case"keyup":W=Ka;break;case"focusin":Pt="focus",W=Qe;break;case"focusout":Pt="blur",W=Qe;break;case"beforeblur":case"afterblur":W=Qe;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=ve;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=je;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=zu;break;case Tg:case Sg:case wg:W=Mn;break;case Rg:W=Hu;break;case"scroll":case"scrollend":W=Dt;break;case"wheel":W=Wa;break;case"copy":case"cut":case"paste":W=Bi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=ll;break;case"toggle":case"beforetoggle":W=Gu}var It=(i&4)!==0,de=!It&&(e==="scroll"||e==="scrollend"),H=It?K!==null?K+"Capture":null:K;It=[];for(var z=Y,Q;z!==null;){var it=z;if(Q=it.stateNode,it=it.tag,it!==5&&it!==26&&it!==27||Q===null||H===null||(it=Ur(z,H),it!=null&&It.push(jl(z,it,Q))),de)break;z=z.return}0<It.length&&(K=new W(K,Pt,null,a,nt),ut.push({event:K,listeners:It}))}}if((i&7)===0){t:{if(K=e==="mouseover"||e==="pointerover",W=e==="mouseout"||e==="pointerout",K&&a!==jr&&(Pt=a.relatedTarget||a.fromElement)&&(Or(Pt)||Pt[Fn]))break t;if((W||K)&&(K=nt.window===nt?nt:(K=nt.ownerDocument)?K.defaultView||K.parentWindow:window,W?(Pt=a.relatedTarget||a.toElement,W=Y,Pt=Pt?Or(Pt):null,Pt!==null&&(de=u(Pt),It=Pt.tag,Pt!==de||It!==5&&It!==27&&It!==6)&&(Pt=null)):(W=null,Pt=Y),W!==Pt)){if(It=ve,it="onMouseLeave",H="onMouseEnter",z="mouse",(e==="pointerout"||e==="pointerover")&&(It=ll,it="onPointerLeave",H="onPointerEnter",z="pointer"),de=W==null?K:ke(W),Q=Pt==null?K:ke(Pt),K=new It(it,z+"leave",W,a,nt),K.target=de,K.relatedTarget=Q,it=null,Or(nt)===Y&&(It=new It(H,z+"enter",Pt,a,nt),It.target=Q,It.relatedTarget=de,it=It),de=it,W&&Pt)e:{for(It=W,H=Pt,z=0,Q=It;Q;Q=To(Q))z++;for(Q=0,it=H;it;it=To(it))Q++;for(;0<z-Q;)It=To(It),z--;for(;0<Q-z;)H=To(H),Q--;for(;z--;){if(It===H||H!==null&&It===H.alternate)break e;It=To(It),H=To(H)}It=null}else It=null;W!==null&&Q0(ut,K,W,It,!1),Pt!==null&&de!==null&&Q0(ut,de,Pt,It,!0)}}t:{if(K=Y?ke(Y):window,W=K.nodeName&&K.nodeName.toLowerCase(),W==="select"||W==="input"&&K.type==="file")var Tt=hg;else if(Xe(K))if(dg)Tt=kE;else{Tt=DE;var Gt=OE}else W=K.nodeName,!W||W.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?Y&&qn(Y.elementType)&&(Tt=hg):Tt=BE;if(Tt&&(Tt=Tt(e,Y))){ji(ut,Tt,a,nt);break t}Gt&&Gt(e,K,Y),e==="focusout"&&Y&&K.type==="number"&&Y.memoizedProps.value!=null&&Br(K,"number",K.value)}switch(Gt=Y?ke(Y):window,e){case"focusin":(Xe(Gt)||Gt.contentEditable==="true")&&(Za=Gt,dh=Y,fl=null);break;case"focusout":fl=dh=Za=null;break;case"mousedown":mh=!0;break;case"contextmenu":case"mouseup":case"dragend":mh=!1,bg(ut,a,nt);break;case"selectionchange":if(UE)break;case"keydown":case"keyup":bg(ut,a,nt)}var Mt;if(ai)t:{switch(e){case"compositionstart":var Lt="onCompositionStart";break t;case"compositionend":Lt="onCompositionEnd";break t;case"compositionupdate":Lt="onCompositionUpdate";break t}Lt=void 0}else Kt?J(e,a)&&(Lt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Lt="onCompositionStart");Lt&&(_&&a.locale!=="ko"&&(Kt||Lt!=="onCompositionStart"?Lt==="onCompositionEnd"&&Kt&&(Mt=ha()):(ir=nt,$n="value"in ir?ir.value:ir.textContent,Kt=!0)),Gt=Lc(Y,Lt),0<Gt.length&&(Lt=new si(Lt,e,null,a,nt),ut.push({event:Lt,listeners:Gt}),Mt?Lt.data=Mt:(Mt=pt(a),Mt!==null&&(Lt.data=Mt)))),(Mt=v?Ye(e,a):Wt(e,a))&&(Lt=Lc(Y,"onBeforeInput"),0<Lt.length&&(Gt=new si("onBeforeInput","beforeinput",null,a,nt),ut.push({event:Gt,listeners:Lt}),Gt.data=Mt)),E2(ut,e,Y,a,nt)}G0(ut,i)})}function jl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Lc(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,p=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||p===null||(h=Ur(e,a),h!=null&&l.unshift(jl(e,h,p)),h=Ur(e,i),h!=null&&l.push(jl(e,h,p))),e.tag===3)return l;e=e.return}return[]}function To(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Q0(e,i,a,l,h){for(var p=i._reactName,b=[];a!==null&&a!==l;){var T=a,O=T.alternate,Y=T.stateNode;if(T=T.tag,O!==null&&O===l)break;T!==5&&T!==26&&T!==27||Y===null||(O=Y,h?(Y=Ur(a,p),Y!=null&&b.unshift(jl(a,Y,O))):h||(Y=Ur(a,p),Y!=null&&b.push(jl(a,Y,O)))),a=a.return}b.length!==0&&e.push({event:i,listeners:b})}var R2=/\r\n?/g,M2=/\u0000|\uFFFD/g;function Y0(e){return(typeof e=="string"?e:""+e).replace(R2,`
`).replace(M2,"")}function X0(e,i){return i=Y0(i),Y0(e)===i}function Nc(){}function he(e,i,a,l,h,p){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||hn(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&hn(e,""+l);break;case"className":On(e,"class",l);break;case"tabIndex":On(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":On(e,a,l);break;case"style":ca(e,l,p);break;case"data":if(i!=="object"){On(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=gs(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(a==="formAction"?(i!=="input"&&he(e,i,"name",h.name,h,null),he(e,i,"formEncType",h.formEncType,h,null),he(e,i,"formMethod",h.formMethod,h,null),he(e,i,"formTarget",h.formTarget,h,null)):(he(e,i,"encType",h.encType,h,null),he(e,i,"method",h.method,h,null),he(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=gs(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Nc);break;case"onScroll":l!=null&&Qt("scroll",e);break;case"onScrollEnd":l!=null&&Qt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=gs(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Qt("beforetoggle",e),Qt("toggle",e),ti(e,"popover",l);break;case"xlinkActuate":$e(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":$e(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":$e(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":$e(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":$e(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":$e(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":$e(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":$e(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":$e(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ti(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=sl.get(a)||a,ti(e,a,l))}}function Bd(e,i,a,l,h,p){switch(a){case"style":ca(e,l,p);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?hn(e,l):(typeof l=="number"||typeof l=="bigint")&&hn(e,""+l);break;case"onScroll":l!=null&&Qt("scroll",e);break;case"onScrollEnd":l!=null&&Qt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Nc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fs.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),p=e[Ve]||null,p=p!=null?p[a]:null,typeof p=="function"&&e.removeEventListener(i,p,h),typeof l=="function")){typeof p!="function"&&p!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):ti(e,a,l)}}}function yn(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qt("error",e),Qt("load",e);var l=!1,h=!1,p;for(p in a)if(a.hasOwnProperty(p)){var b=a[p];if(b!=null)switch(p){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:he(e,i,p,b,a,null)}}h&&he(e,i,"srcSet",a.srcSet,a,null),l&&he(e,i,"src",a.src,a,null);return;case"input":Qt("invalid",e);var T=p=b=h=null,O=null,Y=null;for(l in a)if(a.hasOwnProperty(l)){var nt=a[l];if(nt!=null)switch(l){case"name":h=nt;break;case"type":b=nt;break;case"checked":O=nt;break;case"defaultChecked":Y=nt;break;case"value":p=nt;break;case"defaultValue":T=nt;break;case"children":case"dangerouslySetInnerHTML":if(nt!=null)throw Error(s(137,i));break;default:he(e,i,l,nt,a,null)}}Di(e,p,T,O,Y,b,h,!1),vr(e);return;case"select":Qt("invalid",e),l=b=p=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":p=T;break;case"defaultValue":b=T;break;case"multiple":l=T;default:he(e,i,h,T,a,null)}i=p,a=b,e.multiple=!!l,i!=null?kr(e,!!l,i,!1):a!=null&&kr(e,!!l,a,!0);return;case"textarea":Qt("invalid",e),p=h=l=null;for(b in a)if(a.hasOwnProperty(b)&&(T=a[b],T!=null))switch(b){case"value":l=T;break;case"defaultValue":h=T;break;case"children":p=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:he(e,i,b,T,a,null)}ri(e,l,h,p),vr(e);return;case"option":for(O in a)if(a.hasOwnProperty(O)&&(l=a[O],l!=null))switch(O){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:he(e,i,O,l,a,null)}return;case"dialog":Qt("beforetoggle",e),Qt("toggle",e),Qt("cancel",e),Qt("close",e);break;case"iframe":case"object":Qt("load",e);break;case"video":case"audio":for(l=0;l<kl.length;l++)Qt(kl[l],e);break;case"image":Qt("error",e),Qt("load",e);break;case"details":Qt("toggle",e);break;case"embed":case"source":case"link":Qt("error",e),Qt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in a)if(a.hasOwnProperty(Y)&&(l=a[Y],l!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:he(e,i,Y,l,a,null)}return;default:if(qn(i)){for(nt in a)a.hasOwnProperty(nt)&&(l=a[nt],l!==void 0&&Bd(e,i,nt,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&he(e,i,T,l,a,null))}function x2(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,p=null,b=null,T=null,O=null,Y=null,nt=null;for(W in a){var ut=a[W];if(a.hasOwnProperty(W)&&ut!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":O=ut;default:l.hasOwnProperty(W)||he(e,i,W,null,l,ut)}}for(var K in l){var W=l[K];if(ut=a[K],l.hasOwnProperty(K)&&(W!=null||ut!=null))switch(K){case"type":p=W;break;case"name":h=W;break;case"checked":Y=W;break;case"defaultChecked":nt=W;break;case"value":b=W;break;case"defaultValue":T=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,i));break;default:W!==ut&&he(e,i,K,W,l,ut)}}Dn(e,b,T,O,Y,nt,p,h);return;case"select":W=b=T=K=null;for(p in a)if(O=a[p],a.hasOwnProperty(p)&&O!=null)switch(p){case"value":break;case"multiple":W=O;default:l.hasOwnProperty(p)||he(e,i,p,null,l,O)}for(h in l)if(p=l[h],O=a[h],l.hasOwnProperty(h)&&(p!=null||O!=null))switch(h){case"value":K=p;break;case"defaultValue":T=p;break;case"multiple":b=p;default:p!==O&&he(e,i,h,p,l,O)}i=T,a=b,l=W,K!=null?kr(e,!!a,K,!1):!!l!=!!a&&(i!=null?kr(e,!!a,i,!0):kr(e,!!a,a?[]:"",!1));return;case"textarea":W=K=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:he(e,i,T,null,l,h)}for(b in l)if(h=l[b],p=a[b],l.hasOwnProperty(b)&&(h!=null||p!=null))switch(b){case"value":K=h;break;case"defaultValue":W=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==p&&he(e,i,b,h,l,p)}se(e,K,W);return;case"option":for(var Pt in a)if(K=a[Pt],a.hasOwnProperty(Pt)&&K!=null&&!l.hasOwnProperty(Pt))switch(Pt){case"selected":e.selected=!1;break;default:he(e,i,Pt,null,l,K)}for(O in l)if(K=l[O],W=a[O],l.hasOwnProperty(O)&&K!==W&&(K!=null||W!=null))switch(O){case"selected":e.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:he(e,i,O,K,l,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var It in a)K=a[It],a.hasOwnProperty(It)&&K!=null&&!l.hasOwnProperty(It)&&he(e,i,It,null,l,K);for(Y in l)if(K=l[Y],W=a[Y],l.hasOwnProperty(Y)&&K!==W&&(K!=null||W!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:he(e,i,Y,K,l,W)}return;default:if(qn(i)){for(var de in a)K=a[de],a.hasOwnProperty(de)&&K!==void 0&&!l.hasOwnProperty(de)&&Bd(e,i,de,void 0,l,K);for(nt in l)K=l[nt],W=a[nt],!l.hasOwnProperty(nt)||K===W||K===void 0&&W===void 0||Bd(e,i,nt,K,l,W);return}}for(var H in a)K=a[H],a.hasOwnProperty(H)&&K!=null&&!l.hasOwnProperty(H)&&he(e,i,H,null,l,K);for(ut in l)K=l[ut],W=a[ut],!l.hasOwnProperty(ut)||K===W||K==null&&W==null||he(e,i,ut,K,l,W)}var kd=null,jd=null;function Pc(e){return e.nodeType===9?e:e.ownerDocument}function K0(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function W0(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Ud(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var zd=null;function V2(){var e=window.event;return e&&e.type==="popstate"?e===zd?!1:(zd=e,!0):(zd=null,!1)}var Z0=typeof setTimeout=="function"?setTimeout:void 0,C2=typeof clearTimeout=="function"?clearTimeout:void 0,J0=typeof Promise=="function"?Promise:void 0,I2=typeof queueMicrotask=="function"?queueMicrotask:typeof J0<"u"?function(e){return J0.resolve(null).then(e).catch(L2)}:Z0;function L2(e){setTimeout(function(){throw e})}function Ns(e){return e==="head"}function tv(e,i){var a=i,l=0,h=0;do{var p=a.nextSibling;if(e.removeChild(a),p&&p.nodeType===8)if(a=p.data,a==="/$"){if(0<l&&8>l){a=l;var b=e.ownerDocument;if(a&1&&Ul(b.documentElement),a&2&&Ul(b.body),a&4)for(a=b.head,Ul(a),b=a.firstChild;b;){var T=b.nextSibling,O=b.nodeName;b[Ni]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&b.rel.toLowerCase()==="stylesheet"||a.removeChild(b),b=T}}if(h===0){e.removeChild(p),Yl(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=p}while(a);Yl(i)}function Fd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Fd(a),Jr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function N2(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Ni])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(p=e.getAttribute("rel"),p==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(p!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(p=e.getAttribute("src"),(p!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&p&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var p=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===p)return e}else return e;if(e=Hr(e.nextSibling),e===null)break}return null}function P2(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Hr(e.nextSibling),e===null))return null;return e}function Hd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function O2(e,i){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Hr(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var qd=null;function ev(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function nv(e,i,a){switch(i=Pc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Ul(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Jr(e)}var Cr=new Map,rv=new Set;function Oc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Zi=at.d;at.d={f:D2,r:B2,D:k2,C:j2,L:U2,m:z2,X:H2,S:F2,M:q2};function D2(){var e=Zi.f(),i=Rc();return e||i}function B2(e){var i=yr(e);i!==null&&i.tag===5&&i.type==="form"?Ty(i):Zi.r(e)}var So=typeof document>"u"?null:document;function iv(e,i,a){var l=So;if(l&&typeof i=="string"&&i){var h=Ce(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),rv.has(h)||(rv.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),yn(i,"link",e),we(i),l.head.appendChild(i)))}}function k2(e){Zi.D(e),iv("dns-prefetch",e,null)}function j2(e,i){Zi.C(e,i),iv("preconnect",e,i)}function U2(e,i,a){Zi.L(e,i,a);var l=So;if(l&&e&&i){var h='link[rel="preload"][as="'+Ce(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Ce(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Ce(a.imageSizes)+'"]')):h+='[href="'+Ce(e)+'"]';var p=h;switch(i){case"style":p=wo(e);break;case"script":p=Ro(e)}Cr.has(p)||(e=y({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Cr.set(p,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(zl(p))||i==="script"&&l.querySelector(Fl(p))||(i=l.createElement("link"),yn(i,"link",e),we(i),l.head.appendChild(i)))}}function z2(e,i){Zi.m(e,i);var a=So;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Ce(l)+'"][href="'+Ce(e)+'"]',p=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Ro(e)}if(!Cr.has(p)&&(e=y({rel:"modulepreload",href:e},i),Cr.set(p,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Fl(p)))return}l=a.createElement("link"),yn(l,"link",e),we(l),a.head.appendChild(l)}}}function F2(e,i,a){Zi.S(e,i,a);var l=So;if(l&&e){var h=un(l).hoistableStyles,p=wo(e);i=i||"default";var b=h.get(p);if(!b){var T={loading:0,preload:null};if(b=l.querySelector(zl(p)))T.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Cr.get(p))&&Gd(e,a);var O=b=l.createElement("link");we(O),yn(O,"link",e),O._p=new Promise(function(Y,nt){O.onload=Y,O.onerror=nt}),O.addEventListener("load",function(){T.loading|=1}),O.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Dc(b,i,l)}b={type:"stylesheet",instance:b,count:1,state:T},h.set(p,b)}}}function H2(e,i){Zi.X(e,i);var a=So;if(a&&e){var l=un(a).hoistableScripts,h=Ro(e),p=l.get(h);p||(p=a.querySelector(Fl(h)),p||(e=y({src:e,async:!0},i),(i=Cr.get(h))&&$d(e,i),p=a.createElement("script"),we(p),yn(p,"link",e),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(h,p))}}function q2(e,i){Zi.M(e,i);var a=So;if(a&&e){var l=un(a).hoistableScripts,h=Ro(e),p=l.get(h);p||(p=a.querySelector(Fl(h)),p||(e=y({src:e,async:!0,type:"module"},i),(i=Cr.get(h))&&$d(e,i),p=a.createElement("script"),we(p),yn(p,"link",e),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},l.set(h,p))}}function sv(e,i,a,l){var h=(h=Vt.current)?Oc(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=wo(a.href),a=un(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=wo(a.href);var p=un(h).hoistableStyles,b=p.get(e);if(b||(h=h.ownerDocument||h,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(e,b),(p=h.querySelector(zl(e)))&&!p._p&&(b.instance=p,b.state.loading=5),Cr.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Cr.set(e,a),p||G2(h,e,a,b.state))),i&&l===null)throw Error(s(528,""));return b}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ro(a),a=un(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function wo(e){return'href="'+Ce(e)+'"'}function zl(e){return'link[rel="stylesheet"]['+e+"]"}function av(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function G2(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),yn(i,"link",a),we(i),e.head.appendChild(i))}function Ro(e){return'[src="'+Ce(e)+'"]'}function Fl(e){return"script[async]"+e}function ov(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+Ce(a.href)+'"]');if(l)return i.instance=l,we(l),l;var h=y({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),we(l),yn(l,"style",h),Dc(l,a.precedence,e),i.instance=l;case"stylesheet":h=wo(a.href);var p=e.querySelector(zl(h));if(p)return i.state.loading|=4,i.instance=p,we(p),p;l=av(a),(h=Cr.get(h))&&Gd(l,h),p=(e.ownerDocument||e).createElement("link"),we(p);var b=p;return b._p=new Promise(function(T,O){b.onload=T,b.onerror=O}),yn(p,"link",l),i.state.loading|=4,Dc(p,a.precedence,e),i.instance=p;case"script":return p=Ro(a.src),(h=e.querySelector(Fl(p)))?(i.instance=h,we(h),h):(l=a,(h=Cr.get(p))&&(l=y({},a),$d(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),we(h),yn(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Dc(l,a.precedence,e));return i.instance}function Dc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,p=h,b=0;b<l.length;b++){var T=l[b];if(T.dataset.precedence===i)p=T;else if(p!==h)break}p?p.parentNode.insertBefore(e,p.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Gd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function $d(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Bc=null;function lv(e,i,a){if(Bc===null){var l=new Map,h=Bc=new Map;h.set(a,l)}else h=Bc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var p=a[h];if(!(p[Ni]||p[Pe]||e==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var b=p.getAttribute(i)||"";b=e+b;var T=l.get(b);T?T.push(p):l.set(b,[p])}}return l}function uv(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function $2(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function cv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Hl=null;function Q2(){}function Y2(e,i,a){if(Hl===null)throw Error(s(475));var l=Hl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=wo(a.href),p=e.querySelector(zl(h));if(p){e=p._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=kc.bind(l),e.then(l,l)),i.state.loading|=4,i.instance=p,we(p);return}p=e.ownerDocument||e,a=av(a),(h=Cr.get(h))&&Gd(a,h),p=p.createElement("link"),we(p);var b=p;b._p=new Promise(function(T,O){b.onload=T,b.onerror=O}),yn(p,"link",a),i.instance=p}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=kc.bind(l),e.addEventListener("load",i),e.addEventListener("error",i))}}function X2(){if(Hl===null)throw Error(s(475));var e=Hl;return e.stylesheets&&e.count===0&&Qd(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&Qd(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function kc(){if(this.count--,this.count===0){if(this.stylesheets)Qd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var jc=null;function Qd(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,jc=new Map,i.forEach(K2,e),jc=null,kc.call(e))}function K2(e,i){if(!(i.state.loading&4)){var a=jc.get(e);if(a)var l=a.get(null);else{a=new Map,jc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<h.length;p++){var b=h[p];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(a.set(b.dataset.precedence,b),l=b)}l&&a.set(null,l)}h=i.instance,b=h.getAttribute("data-precedence"),p=a.get(b)||l,p===l&&a.set(null,h),a.set(b,h),this.count++,l=kc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),p?p.parentNode.insertBefore(h,p.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var ql={$$typeof:et,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function W2(e,i,a,l,h,p,b,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Nr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nr(0),this.hiddenUpdates=Nr(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=p,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function fv(e,i,a,l,h,p,b,T,O,Y,nt,ut){return e=new W2(e,i,a,b,T,O,Y,ut),i=1,p===!0&&(i|=24),p=ar(3,null,null,i),e.current=p,p.stateNode=e,i=xh(),i.refCount++,e.pooledCache=i,i.refCount++,p.memoizedState={element:l,isDehydrated:a,cache:i},Lh(p),e}function hv(e){return e?(e=no,e):no}function dv(e,i,a,l,h,p){h=hv(h),l.context===null?l.context=h:l.pendingContext=h,l=As(i),l.payload={element:a},p=p===void 0?null:p,p!==null&&(l.callback=p),a=bs(e,l,i),a!==null&&(fr(a,e,i),Al(a,e,i))}function mv(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Yd(e,i){mv(e,i),(e=e.alternate)&&mv(e,i)}function pv(e){if(e.tag===13){var i=eo(e,67108864);i!==null&&fr(i,e,67108864),Yd(e,67108864)}}var Uc=!0;function Z2(e,i,a,l){var h=q.T;q.T=null;var p=at.p;try{at.p=2,Xd(e,i,a,l)}finally{at.p=p,q.T=h}}function J2(e,i,a,l){var h=q.T;q.T=null;var p=at.p;try{at.p=8,Xd(e,i,a,l)}finally{at.p=p,q.T=h}}function Xd(e,i,a,l){if(Uc){var h=Kd(l);if(h===null)Dd(e,i,l,zc,a),yv(e,l);else if(eT(h,e,i,a,l))l.stopPropagation();else if(yv(e,l),i&4&&-1<tT.indexOf(e)){for(;h!==null;){var p=yr(h);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var b=Tn(p.pendingLanes);if(b!==0){var T=p;for(T.pendingLanes|=2,T.entangledLanes|=2;b;){var O=1<<31-Ge(b);T.entanglements[1]|=O,b&=~O}hi(p),(le&6)===0&&(Sc=En()+500,Bl(0))}}break;case 13:T=eo(p,2),T!==null&&fr(T,p,2),Rc(),Yd(p,2)}if(p=Kd(l),p===null&&Dd(e,i,l,zc,a),p===h)break;h=p}h!==null&&l.stopPropagation()}else Dd(e,i,l,null,a)}}function Kd(e){return e=Gn(e),Wd(e)}var zc=null;function Wd(e){if(zc=null,e=Or(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return zc=e,null}function gv(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ia()){case pr:return 2;case os:return 8;case xi:case nl:return 32;case ls:return 268435456;default:return 32}default:return 32}}var Zd=!1,Ps=null,Os=null,Ds=null,Gl=new Map,$l=new Map,Bs=[],tT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yv(e,i){switch(e){case"focusin":case"focusout":Ps=null;break;case"dragenter":case"dragleave":Os=null;break;case"mouseover":case"mouseout":Ds=null;break;case"pointerover":case"pointerout":Gl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":$l.delete(i.pointerId)}}function Ql(e,i,a,l,h,p){return e===null||e.nativeEvent!==p?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:p,targetContainers:[h]},i!==null&&(i=yr(i),i!==null&&pv(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function eT(e,i,a,l,h){switch(i){case"focusin":return Ps=Ql(Ps,e,i,a,l,h),!0;case"dragenter":return Os=Ql(Os,e,i,a,l,h),!0;case"mouseover":return Ds=Ql(Ds,e,i,a,l,h),!0;case"pointerover":var p=h.pointerId;return Gl.set(p,Ql(Gl.get(p)||null,e,i,a,l,h)),!0;case"gotpointercapture":return p=h.pointerId,$l.set(p,Ql($l.get(p)||null,e,i,a,l,h)),!0}return!1}function vv(e){var i=Or(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,Ha(e.priority,function(){if(a.tag===13){var l=cr();l=gr(l);var h=eo(a,l);h!==null&&fr(h,a,l),Yd(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Fc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Kd(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);jr=l,a.target.dispatchEvent(l),jr=null}else return i=yr(a),i!==null&&pv(i),e.blockedOn=a,!1;i.shift()}return!0}function _v(e,i,a){Fc(e)&&a.delete(i)}function nT(){Zd=!1,Ps!==null&&Fc(Ps)&&(Ps=null),Os!==null&&Fc(Os)&&(Os=null),Ds!==null&&Fc(Ds)&&(Ds=null),Gl.forEach(_v),$l.forEach(_v)}function Hc(e,i){e.blockedOn===i&&(e.blockedOn=null,Zd||(Zd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,nT)))}var qc=null;function Av(e){qc!==e&&(qc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){qc===e&&(qc=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(Wd(l||a)===null)continue;break}var p=yr(a);p!==null&&(e.splice(i,3),i-=3,Wh(p,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Yl(e){function i(O){return Hc(O,e)}Ps!==null&&Hc(Ps,e),Os!==null&&Hc(Os,e),Ds!==null&&Hc(Ds,e),Gl.forEach(i),$l.forEach(i);for(var a=0;a<Bs.length;a++){var l=Bs[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Bs.length&&(a=Bs[0],a.blockedOn===null);)vv(a),a.blockedOn===null&&Bs.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],p=a[l+1],b=h[Ve]||null;if(typeof p=="function")b||Av(a);else if(b){var T=null;if(p&&p.hasAttribute("formAction")){if(h=p,b=p[Ve]||null)T=b.formAction;else if(Wd(h)!==null)continue}else T=b.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),Av(a)}}}function Jd(e){this._internalRoot=e}Gc.prototype.render=Jd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=cr();dv(a,l,e,i,null,null)},Gc.prototype.unmount=Jd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;dv(e.current,2,null,e,null,null),Rc(),i[Fn]=null}};function Gc(e){this._internalRoot=e}Gc.prototype.unstable_scheduleHydration=function(e){if(e){var i=zn();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Bs.length&&i!==0&&i<Bs[a].priority;a++);Bs.splice(a,0,e),a===0&&vv(e)}};var bv=t.version;if(bv!=="19.1.0")throw Error(s(527,bv,"19.1.0"));at.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=m(i),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var rT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$c.isDisabled&&$c.supportsFiber)try{Ee=$c.inject(rT),Xt=$c}catch{}}return Kl.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",h=By,p=ky,b=jy,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(p=i.onCaughtError),i.onRecoverableError!==void 0&&(b=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=fv(e,1,!1,null,null,a,l,h,p,b,T,null),e[Fn]=i.current,Od(e),new Jd(i)},Kl.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,h="",p=By,b=ky,T=jy,O=null,Y=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(O=a.unstable_transitionCallbacks),a.formState!==void 0&&(Y=a.formState)),i=fv(e,1,!0,i,a??null,l,h,p,b,T,O,Y),i.context=hv(null),a=i.current,l=cr(),l=gr(l),h=As(l),h.callback=null,bs(a,h,l),a=l,i.current.lanes=a,Pr(i,a),hi(i),e[Fn]=i.current,Od(e),new Gc(i)},Kl.version="19.1.0",Kl}var Iv;function pT(){if(Iv)return nm.exports;Iv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),nm.exports=mT(),nm.exports}var gT=pT();const yT=ap(gT),v_=5,vT=300,df=750,_T=120,Yc={mmPerSec:25,mmPerMv:10,pxPerMm:8},am={pxPerSec:Yc.mmPerSec*Yc.pxPerMm,pxPerMv:Yc.mmPerMv*Yc.pxPerMm},Lv={stepMs:v_},AT=new Set(["LV1BA","LV2BAS","LV3BS","LV4BI","LV5BP","LV6BL","LV7MA","LV8MAS","LV9MS","LV10MI","LV11MP","LV12ML","LV13AA","LV14AAS","LV15AI","LV16AP","LV17A","RVB1A","RVB2S","RVM3A","RVM4S","RVA5A","RVA6S"]),bT={spo2:{label:"SpO₂",unit:"%",color:"#22d3ee",gain:1.5,baselineRatio:.7},pulse:{label:"Pulse Wave",unit:"",color:"magenta",gain:1,baselineRatio:.6},etco2:{label:"Capno",unit:"mmHg",color:"#fde047",gain:1,baselineRatio:.95,max:60,min:0,scaleLines:[0,40]},art:{label:"ART",unit:"mmHg",color:"red",gain:2,baselineRatio:.5,max:200,min:0,scaleLines:[0,80,120]}};var mu=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var r=0,t=arguments.length;t--;)r+=arguments[t]*arguments[t];return Math.sqrt(r)});function ET(){var r=new mu(16);return mu!=Float32Array&&(r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=0,r[12]=0,r[13]=0,r[14]=0),r[0]=1,r[5]=1,r[10]=1,r[15]=1,r}function TT(r,t,n){var s=Math.sin(n),o=Math.cos(n),u=t[4],f=t[5],d=t[6],m=t[7],g=t[8],y=t[9],A=t[10],E=t[11];return t!==r&&(r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[4]=u*o+g*s,r[5]=f*o+y*s,r[6]=d*o+A*s,r[7]=m*o+E*s,r[8]=g*o-u*s,r[9]=y*o-f*s,r[10]=A*o-d*s,r[11]=E*o-m*s,r}function ST(r,t,n){var s=Math.sin(n),o=Math.cos(n),u=t[0],f=t[1],d=t[2],m=t[3],g=t[8],y=t[9],A=t[10],E=t[11];return t!==r&&(r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[0]=u*o-g*s,r[1]=f*o-y*s,r[2]=d*o-A*s,r[3]=m*o-E*s,r[8]=u*s+g*o,r[9]=f*s+y*o,r[10]=d*s+A*o,r[11]=m*s+E*o,r}function wT(r,t,n){var s=Math.sin(n),o=Math.cos(n),u=t[0],f=t[1],d=t[2],m=t[3],g=t[4],y=t[5],A=t[6],E=t[7];return t!==r&&(r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15]),r[0]=u*o+g*s,r[1]=f*o+y*s,r[2]=d*o+A*s,r[3]=m*o+E*s,r[4]=g*o-u*s,r[5]=y*o-f*s,r[6]=A*o-d*s,r[7]=E*o-m*s,r}function mi(){var r=new mu(3);return mu!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0),r}function RT(r){var t=r[0],n=r[1],s=r[2];return Math.hypot(t,n,s)}function Ln(r,t,n){var s=new mu(3);return s[0]=r,s[1]=t,s[2]=n,s}function MT(r,t,n){return r[0]=t[0]-n[0],r[1]=t[1]-n[1],r[2]=t[2]-n[2],r}function ou(r,t){var n=t[0],s=t[1],o=t[2],u=n*n+s*s+o*o;return u>0&&(u=1/Math.sqrt(u)),r[0]=t[0]*u,r[1]=t[1]*u,r[2]=t[2]*u,r}function Nv(r,t){return r[0]*t[0]+r[1]*t[1]+r[2]*t[2]}function Pv(r,t,n){var s=t[0],o=t[1],u=t[2],f=n[3]*s+n[7]*o+n[11]*u+n[15];return f=f||1,r[0]=(n[0]*s+n[4]*o+n[8]*u+n[12])/f,r[1]=(n[1]*s+n[5]*o+n[9]*u+n[13])/f,r[2]=(n[2]*s+n[6]*o+n[10]*u+n[14])/f,r}var Ov=MT;(function(){var r=mi();return function(t,n,s,o,u,f){var d,m;for(n||(n=3),s||(s=0),o?m=Math.min(o*n+s,t.length):m=t.length,d=s;d<m;d+=n)r[0]=t[d],r[1]=t[d+1],r[2]=t[d+2],u(r,r,f),t[d]=r[0],t[d+1]=r[1],t[d+2]=r[2];return t}})();const __={II:{pos:Ln(0,0,0),norm:ou(mi(),Ln(Math.cos(Math.PI/3),Math.sin(Math.PI/3),0)),isChestLead:!1},V5:{pos:Ln(10,8,4),norm:ou(mi(),Ln(-10,-8,-4)),isChestLead:!0}};function xT(r,t,n){const o=n*1,u=t.height/2-o/2,f=t.height/2+o/2;r.strokeStyle="white",r.lineWidth=1,r.beginPath(),r.moveTo(10,f),r.lineTo(10,u),r.lineTo(20,u),r.moveTo(10,f),r.lineTo(20,f),r.stroke(),r.fillStyle="white",r.font="12px Arial",r.fillText("1 mV",25,u+5)}const Wl=({bufferRef:r,signalKey:t})=>{const n=M.useRef(null),s=M.useRef(null),o=M.useRef(0),[u,f]=M.useState({width:0,height:0}),d=bT[t],m=(d==null?void 0:d.gain)??am.pxPerMv,g=(d==null?void 0:d.baselineRatio)??.66,y=(d==null?void 0:d.color)??"#4ade80",A=(d==null?void 0:d.label)??t,E=d==null?void 0:d.max,R=d==null?void 0:d.min,B=(d==null?void 0:d.scaleLines)??[];return M.useEffect(()=>{const k=n.current;if(!k)return;const N=new ResizeObserver(X=>{for(const $ of X){const{width:et,height:ot}=$.contentRect;f({width:et,height:ot})}});return N.observe(k),()=>N.disconnect()},[]),M.useEffect(()=>{const k=s.current,N=k==null?void 0:k.getContext("2d");if(!k||!N||u.width===0||u.height===0)return;const X=()=>{var C,Ot;const $=r.current[t],et=((C=$==null?void 0:$.getArray)==null?void 0:C.call($))??[],ot=((Ot=$==null?void 0:$.size)==null?void 0:Ot.call($))??0,st=u.width/am.pxPerSec,ht=Math.floor(st*1e3/5),I=Math.max(0,ot-ht),S=Math.max(1,Math.floor((ot-I)/u.width));N.clearRect(0,0,u.width,u.height);let V=typeof E=="number"&&typeof R=="number";if(V&&B.length>0){N.save(),N.setLineDash([4,4]),N.strokeStyle="#888",N.lineWidth=1;const Et=q=>u.height-(q-R)/(E-R)*u.height;B.forEach(q=>{if(q<R||q>E)return;const at=Et(q);N.beginPath(),N.moveTo(0,at),N.lineTo(u.width,at),N.stroke(),N.fillStyle="#aaa",N.font="11px Arial",N.fillText(`${q}`,2,at-2)}),N.setLineDash([]),N.restore()}N.strokeStyle=y,N.lineWidth=2,N.beginPath();const D=u.height*g,j=Et=>u.height-(Et-R)/(E-R)*u.height;for(let Et=I;Et<ot;Et+=S){const q=Et%et.length,at=et[q],Z=(ot-Et)*5/1e3,Rt=u.width-Z*am.pxPerSec,P=V?j(at):D-at*m;Et===I?N.moveTo(Rt,P):N.lineTo(Rt,P)}N.stroke(),(Et=>Et in __)(t)&&xT(N,u,m),o.current=requestAnimationFrame(X)};return X(),()=>{o.current&&cancelAnimationFrame(o.current)}},[u,t,m,g,y,E,R,B]),L.jsxs("div",{ref:n,className:"w-full h-[100px] sm:h-[120px] md:h-[140px] lg:h-[160px] relative",children:[L.jsx("canvas",{ref:s,width:u.width,height:u.height,className:" bg-gray-900 rounded-md"}),L.jsx("div",{className:"absolute top-1 left-2 text-sm text-white opacity-80",children:A})]})},Mo=({param:r,value:t,display:n})=>{const[s,o]=M.useState(!1),[u,f]=M.useState(r.alarm.warnHigh),[d,m]=M.useState(r.alarm.warnLow),g=()=>t===-1?"bg-gray-900":r.isCritical(t)?"bg-red-500":r.isWarning(t)?"bg-yellow-500":"bg-gray-900",y=()=>r.isCritical(t)||r.isWarning(t)?"text-black":r.color,A=()=>{r.alarm.warnHigh=u,r.alarm.warnLow=d,o(!1)};return L.jsxs("div",{className:`relative select-none rounded-md p-4 shadow-xl ${g()} ${y()} h-full flex flex-col justify-between`,children:[L.jsx("div",{className:`top-2 text-base font-semibold mb-1 ${y()}  lg:text-lg`,children:r.label}),L.jsxs("div",{className:`absolute top-2 right-2 text-xs font-bold cursor-pointer text-right ${y()} lg:text-sm`,onClick:()=>o(!0),children:[L.jsx("div",{children:r.alarm.warnHigh}),L.jsx("div",{children:r.alarm.warnLow})]}),L.jsx("div",{className:`absolute bottom-2 right-2 text-xs font-bold ${y()} lg:text-sm`,children:r.unit&&`[${r.unit}]`}),L.jsxs("div",{className:"flex items-end justify-center relative",children:[L.jsx("span",{className:`text-5xl font-mono tabular-nums text-right block ${y()} lg:text-6xl`,children:n??r.format(t)}),r.key==="nibp_dia"?L.jsx("div",{className:`absolute right-full text-5xl font-mono leading-none ${y()} lg:text-6xl`,style:{top:"45%",transform:"translate(0.4rem, -50%)",whiteSpace:"nowrap",pointerEvents:"none"},children:"/"}):null]}),s&&L.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-20 text-black flex items-center justify-center z-50",children:L.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-xl w-60",children:[L.jsxs("div",{className:"text-xl font-bold mb-4",children:[r.label," ",L.jsx("span",{className:"text-lg",children:"Alarm Limits"})]}),L.jsxs("div",{className:"mb-4",children:[L.jsx("label",{className:"block text-sm font-semibold",children:"High Limit"}),L.jsx("input",{type:"number",value:u,onChange:E=>f(Number(E.target.value)),className:"w-full p-2 border rounded-md focus:outline-none"})]}),L.jsxs("div",{className:"mb-6",children:[L.jsx("label",{className:"block text-sm font-semibold",children:"Low Limit"}),L.jsx("input",{type:"number",value:d,onChange:E=>m(Number(E.target.value)),className:"w-full p-2 border rounded-md focus:outline-none"})]}),L.jsxs("div",{className:"flex justify-end gap-2",children:[L.jsx("button",{onClick:()=>o(!1),className:"px-4 py-2 bg-gray-300 rounded-lg",children:"Cancel"}),L.jsx("button",{onClick:A,className:"px-4 py-2 bg-blue-600 text-white rounded-lg",children:"Save"})]})]})})]})},VT={id:"Af",label:"Atrial Fibrillation",group:"sinus_status",exclusiveGroup:"AtrialArrhythmia",description:"Blocks A→IA and applies probabilistic conduction from IA to AN. SA node suppressed.",updateGraph:CT,effects:{node:{SA:{autofire:!1},LA:{forceFiring:!0}},path:{"A->IA":{block:!0},"A->IA_retro":{block:!0},"A->BM":{block:!0},"LA->IA":{block:!1},"LA->PV1":{block:!1},"PV1->PV2":{block:!1},"PV2->LA":{block:!1},"IA->AN_fast":{probability:.3,delayJitterMs:300},"IA->AN_slow_1":{probability:.3}}},uiControls:[{type:"slider",key:"afWaveFreq",label:"f-wave frequency",min:300,max:600,step:10,defaultValue:500},{type:"slider",key:"afWaveAmp",label:"f-wave amplitude",min:0,max:.2,step:.02,defaultValue:.06},{type:"slider",key:"afConductProb",label:"Conduction Probability",min:.1,max:.8,step:.1,defaultValue:.5}]};function CT(r,t){var f,d,m,g,y,A,E,R;console.log("[AfCustom]",r);const n=r.afWaveFreq,s=r.afWaveAmp,o=r.afConductProb,u=Math.floor(1e3/(n/60)/3)-5;console.log("[AfCustom]",n,s,o,u),(f=t.getPath("LA->PV1"))==null||f.setDelay(u),(d=t.getPath("PV1->PV2"))==null||d.setDelay(u),(m=t.getPath("PV2->LA"))==null||m.setDelay(u),(g=t.getPath("LA->PV1"))==null||g.setAmplitude(s),(y=t.getPath("PV1->PV2"))==null||y.setAmplitude(s),(A=t.getPath("PV2->LA"))==null||A.setAmplitude(s),(E=t.getPath("IA->AN_fast"))==null||E.setConductionProbability(o),(R=t.getPath("IA->AN_slow_1"))==null||R.setConductionProbability(o)}const IT={id:"AFL",label:"Atrial Flutter",group:"sinus_status",exclusiveGroup:"AtrialArrhythmia",description:"Blocks A→IA and applies probabilistic conduction from IA to AN. SA node suppressed.",updateGraph:LT,effects:{node:{SA:{autofire:!1},IA:{forceFiring:!0,refractory:75},CTI2:{forceFiring:!0},His:{refractory:150}},path:{"A->IA":{block:!0},"A->IA_retro":{block:!0},"IA->CTI1":{block:!1}}},uiControls:[{type:"slider",key:"aflWaveFreq",label:"F-wave frequency",min:250,max:350,step:10,defaultValue:300},{type:"slider",key:"aflWaveAmp",label:"F-wave amplitude",min:0,max:.2,step:.02,defaultValue:.04},{type:"slider",key:"aflConductProb",label:"AV Conduction Level",min:1,max:10,step:1,defaultValue:5,tooltip:"💡Higher Levels increases AV node conduction"}]};function LT(r,t){var f,d,m,g;const n=r.aflWaveFreq,s=r.aflWaveAmp,o=r.aflConductProb,u=Math.floor(1e3/(n/60)/5);console.log("[AflCustom]",n,s,o,u),(f=t.getPath("CTI2->IA"))==null||f.setAmplitude(s),(d=t.getPath("IA->CTI2"))==null||d.setAmplitude(s),(m=t.getPath("IA->AN_fast"))==null||m.setRefractoryMs(3500/(o+2)),(g=t.getPath("IA->AN_slow"))==null||g.setRefractoryMs(7e3/(o+2))}const NT={id:"Normal",label:"Normal AV Conduction",group:"conduction_status",exclusiveGroup:"conduction_status",description:"reset AV conduction.",effects:{path:{"N->NH":{block:!1,decrementalStep:0,wenckebachPhenomenon:!1}}}},PT={id:"1AVB",label:"First Degree AV Block",group:"conduction_status",exclusiveGroup:"conduction_status",description:"give extended option(pq time)",updateGraph:OT,effects:{path:{"N->NH":{block:!1,decrementalStep:0,wenckebachPhenomenon:!1}}},uiControls:[{type:"slider",key:"pq_time",label:"PQ time",min:100,max:300,step:10,defaultValue:150}]};function OT(r,t){var s;const n=r.pq_time;console.log("[1AVB Custom] PQ time = ",n),(s=t.getPath("N->NH"))==null||s.setDelay(n-80)}const DT={id:"WBBlock",label:"Wenckebach 2nd degree AV Block",group:"conduction_status",exclusiveGroup:"conduction_status",description:"Blocks N->NH.",updateGraph:BT,effects:{path:{"N->NH":{decrementalStep:30,wenckebachPhenomenon:!0}}},uiControls:[{type:"slider",key:"decrementalMs",label:"AV delay increment per beat",min:20,max:100,step:10,defaultValue:40}]};function BT(r,t){var s;const n=r.decrementalMs;console.log("[WBBlock Custom] decrementalMs = ",n),(s=t.getPath("N->NH"))==null||s.setDecrementalStep(n)}const kT={id:"M2Block",label:"Mobitz type II 2nd degree AV Block",group:"conduction_status",exclusiveGroup:"conduction_status",description:"Blocks N->NH.",effects:{path:{"N->NH":{decrementalStep:30,wenckebachPhenomenon:!1}}}},jT={id:"CAVB",label:"Complete AV Block",group:"conduction_status",exclusiveGroup:"conduction_status",description:"Blocks N->NH.",effects:{path:{"N->NH":{block:!0,decrementalStep:0,wenckebachPhenomenon:!1}}}},UT={id:"SAB2",label:"1st Degree Sinoatrial Block",group:"sinus_status",exclusiveGroup:"AtrialArrhythmia",description:"",updateGraph:zT,effects:{path:{"SA->CT":{decrementalStep:40,wenckebachPhenomenon:!0}}},uiControls:[{type:"slider",key:"SAdecrementalMs",label:"SA-A delay increment per beat",min:10,max:100,step:10,defaultValue:40}]};function zT(r,t){var s;const n=r.SAdecrementalMs;(s=t.getPath("SA->CT"))==null||s.setDecrementalStep(n),console.log("[SAB2Custom]",n)}const lp=[{id:"NSR",label:"Normal Sinus Rhythm",group:"sinus_status",exclusiveGroup:"AtrialArrhythmia",description:"Default atrial conduction. Enables SA node and IA conduction.",effects:{node:{SA:{autofire:!0},His:{refractory:275},IA:{refractory:150},N:{jitterMs:0}},path:{"A->IA":{block:!1},"IA->A":{block:!1},"LA->PV1":{block:!0},"PV1->PV2":{block:!0},"PV2->LA":{block:!0},"LA->IA":{block:!0},"IA->CTI1":{block:!0},"IA->AN_fast":{probability:void 0,delayJitterMs:0},"IA->AN_slow_1":{probability:void 0}}}},{id:"Arrest",label:"Sinus Arrest",group:"sinus_status",description:"Disables automatic firing of the SA node.",effects:{node:{SA:{autofire:!1},LA:{refractory:150}}}},VT,IT,UT,NT,PT,DT,kT,jT],Em=Object.fromEntries(lp.map(r=>[r.id,r]));function FT(r){const t={};for(const n of r)if(n.uiControls)for(const s of n.uiControls){const{key:o,defaultValue:u}=s;if(typeof u=="number"){const f=`${n.id}.${o}`;t[f]=u}}return t}const up="v0.9.2";class Ir{constructor(t){_t(this,"rawData");_t(this,"status",{});let n=("getRaw"in t,t.status);n||(n={sinus_status:"NSR",junction_status:"Normal",conduction_status:"Normal",ventricle_status:"Normal"}),"getRaw"in t?this.rawData=t.getRaw():this.rawData=t,this.status={...n}}getRaw(){return{version:up,...this.rawData,status:{...this.status}}}clone(){const t=new Ir(this.getRaw());return t.status={...this.status},t}getOption(t){var n;return(n=this.rawData.options)==null?void 0:n[t]}setOption(t,n){this.rawData.options||(this.rawData.options={}),this.rawData.options[t]=n}setExtendedOption(t,n,s){const o=`${t.toLowerCase()}.${n}`;this.setOption(o,s)}getOptionsForStatus(t){const n={};if(!this.rawData.options)return n;const s=t.toLowerCase()+".";for(const[o,u]of Object.entries(this.rawData.options))o.toLowerCase().startsWith(s)&&(n[o.slice(s.length)]=u);return n}setStatus(t,n){this.status[t]=n}getStatus(t){return this.status[t]}get statuses(){return Object.values(this.status).filter(t=>!!t)}get hr(){return this.rawData.hr}set hr(t){this.rawData.hr=t}get spo2(){return this.rawData.spo2??98}set spo2(t){this.rawData.spo2=t}get pi(){return this.rawData.pi??.2}set pi(t){this.rawData.pi=t}get sysBp(){return this.rawData.nibp_sys??120}set sysBp(t){this.rawData.nibp_sys=t}get diaBp(){return this.rawData.nibp_dia??80}set diaBp(t){this.rawData.nibp_dia=t}get sinusRate(){return this.rawData.sinus_rate}set sinusRate(t){this.rawData.sinus_rate=t}get junctionRate(){return this.rawData.junction_rate}set junctionRate(t){this.rawData.junction_rate=t}get ventricleRate(){return this.rawData.ventricle_rate}set ventricleRate(t){this.rawData.ventricle_rate=t}get etco2(){return this.rawData.etco2}set etco2(t){this.rawData.etco2=t}get respRate(){return this.rawData.respRate}set respRate(t){this.rawData.respRate=t}}function Dv(){const r=FT(lp);return new Ir({hr:80,rr:750,spo2:98,pi:2,nibp_sys:120,nibp_dia:80,etco2:38,respRate:12,sinus_rate:80,junction_rate:40,ventricle_rate:30,options:r,pacing:{mode:"OFF",lowerRateLimit:50,upperRateLimit:120,avDelay:120},status:{sinus_status:"NSR",junction_status:"Normal",conduction_status:"Normal",ventricle_status:"Normal"}})}function HT(r){try{const t=r.getRaw(),n=JSON.stringify(t);return encodeURIComponent(btoa(n))}catch(t){return console.error("encodeSimOptionsToURL failed",t),""}}function qT(r){try{const t=atob(decodeURIComponent(r)),n=JSON.parse(t),s=new Ir(n);return n.status&&(s.status=n.status),s}catch(t){return console.error("decodeSimOptionsFromURL failed",t),null}}function GT(r){const t=r.dt,n=r.rr,s=r.c,o=750,u=70,f=.5,d=.3,m=u*Math.pow(n/o,f),y=r.r*Math.pow(n/o,d),A=r.sd,E=Math.max(.8,Math.min(1.5,Math.sqrt(n/1e3))),R=A*E,B=X=>X>=0&&X<R?Math.PI*m/(2*R/1e3)*Math.pow(Math.sin(Math.PI*X/R),2):0,k=Math.ceil(n/t),N=[0];for(let X=1;X<=k;++X){const $=X*t,et=N[X-1],st=(B($)-et/y)/s*(t/1e3);N.push(et+st)}return function(X){if(X<0||X>=n)return 0;const $=Math.floor(X/t);return(N[$]??0)*(r.pi??1)}}function $T(r){return r===void 0?1e3:500+(Math.max(50,Math.min(r,100))-70)*10}function QT(r,t){const n=$T(t),s=r.createOscillator(),o=r.createGain();console.log("🔊 playBeep:",{freq:n,spo2:t}),isFinite(n)&&(s.type="square",s.frequency.value=n,o.gain.value=.05,s.connect(o),o.connect(r.destination),s.start(),s.stop(r.currentTime+.05))}class YT{constructor({audioCtx:t,isBeepOn:n}){_t(this,"audioCtx");_t(this,"isBeepOn");this.audioCtx=t??null,this.isBeepOn=n}setAudioContext(t){this.audioCtx=t}playBeep(t){var n;this.audioCtx&&((n=this.isBeepOn)!=null&&n.call(this))&&QT(this.audioCtx,t)}setIsBeepOn(t){this.isBeepOn=t}}class XT{constructor({bufferRef:t,breathEngine:n}){_t(this,"bufferRef");_t(this,"breathEngine");this.bufferRef=t,this.breathEngine=n}pushBuffer(t,n){var s;(s=this.bufferRef.current[t])==null||s.push(n)}updateBuffer(t,n,s,o,u){const f={};for(const m of n){const g=m.getBaseWave(t,s);for(const y in m.dotFactors){const A=m.dotFactors[y];f[y]=(f[y]||0)+g*A}}for(const m in f){const g=f[m];this.pushBuffer(m,g)}const d=o(u>=0?u:0);if(this.pushBuffer("spo2",d),t%(3*v_)===0){const m=this.breathEngine.getEtco2(t);this.pushBuffer("etco2",m)}}}const Df=class Df{constructor(t){_t(this,"vFireTimes",[]);_t(this,"ventricularFiringSet",new Set);_t(this,"lastContractionTime",-3e3);_t(this,"isContracting",!1);_t(this,"ventricularNodes");this.ventricularNodes=t}update(t,n){for(const s of t)this.ventricularNodes.has(s)&&this.ventricularFiringSet.add(s);return this.ventricularFiringSet.size>=this.ventricularNodes.size?(this.ventricularFiringSet.clear(),this.isContracting=!0,this.lastContractionTime=n,this.vFireTimes.push(n),this.vFireTimes=this.vFireTimes.filter(s=>s>=n-5e3),!0):(this.isContracting=!1,!1)}isInContraction(){return this.isContracting}getLastContractionTime(){return this.lastContractionTime}getRR(){if(this.vFireTimes.length<2)return df;const[t,n]=this.vFireTimes.slice(-2),s=n-t;return s>0?s:df}getHR(){if(this.vFireTimes.length<2)return-1;const t=this.vFireTimes.slice(-6).map((s,o,u)=>o>0?s-u[o-1]:0).filter(s=>s>0);if(t.length===0)return-1;t.sort((s,o)=>s-o);const n=t[Math.floor(t.length/2)];return Math.round(Df.MS_PER_MINUTE/n)}};_t(Df,"MS_PER_MINUTE",6e4);let Tm=Df;class KT{constructor({graph:t,bufferRef:n,audioCtx:s,isBeepOn:o,getVitals:u,rr:f,onHrUpdate:d,breathEngine:m}){_t(this,"graph");_t(this,"bufferRef");_t(this,"lastStepTime",0);_t(this,"paths");_t(this,"onHrUpdate");_t(this,"currentPI",2);_t(this,"pendingPI",2);_t(this,"r",.06);_t(this,"c",1.2);_t(this,"sv",70);_t(this,"pulseWaveFn",()=>0);_t(this,"breathEngine");_t(this,"audioController");_t(this,"waveformController");_t(this,"contractionDetector");_t(this,"rr",df);_t(this,"_getVitals");this.graph=t,this.bufferRef=n,this.rr=f??df,this.paths=t.getPaths(),this.onHrUpdate=d,this.breathEngine=m,this.currentPI=1,this.pendingPI=1,this.updatePulseWaveFn(this.currentPI),this.audioController=new YT({audioCtx:s??null,isBeepOn:o}),this.waveformController=new XT({bufferRef:this.bufferRef,breathEngine:this.breathEngine}),this.contractionDetector=new Tm(AT),this._getVitals=u}setPendingPI(t){this.pendingPI=t}calcSd(t){const n=Math.max(.5,Math.min(1.5,Math.sqrt(t/1e3)));return vT*n}updatePulseWaveFn(t){const n=this.calcSd(this.rr);this.pulseWaveFn=GT({rr:this.rr,r:this.r,c:this.c,sv:this.sv,sd:n,pi:t,dt:1})}updateBuffer(t){const n=t-this.contractionDetector.getLastContractionTime();this.waveformController.updateBuffer(t,this.paths,this.rr,this.pulseWaveFn,n)}setGraph(t){this.graph=t,this.paths=t.getPaths()}step(t){var n,s;for(;t-this.lastStepTime>=Lv.stepMs/1e3;){this.lastStepTime+=Lv.stepMs/1e3;const o=this.lastStepTime,u=Math.round(o*1e3);this.updateBuffer(u-_T);const f=(n=this._getVitals)==null?void 0:n.call(this);(f==null?void 0:f.pi)!==void 0&&this.pendingPI!==f.pi&&this.setPendingPI(f.pi);const d=this.graph.tick(o*1e3);if(this.contractionDetector.update(d,o*1e3)){const g=this.contractionDetector.getHR();(s=this.onHrUpdate)==null||s.call(this,g),this.rr=this.contractionDetector.getRR(),this.pendingPI!==this.currentPI&&(this.currentPI=this.pendingPI),this.updatePulseWaveFn(this.currentPI);const y=(f==null?void 0:f.spo2)??-1;this.audioController.playBeep(y)}}}setOnHrUpdate(t){this.onHrUpdate=t}setAudioContext(t){this.audioController.setAudioContext(t)}isInContraction(){return this.contractionDetector.isInContraction()}}const om={RA:Ln(-8,-5,5),LA:Ln(9,-5,5),LL:Ln(4,11,5)},Bv={V1:Ln(-3,2,10),V2:Ln(3,2,10),V3:Ln(6,4,8),V4:Ln(8,5,6),V5:Ln(9,5,5),V6:Ln(10,5,3)},cp=Math.PI/180,WT=18*cp,ZT=16*cp,JT=-30*cp;function tS(){const r=ET();return wT(r,r,JT),TT(r,r,WT),ST(r,r,ZT),r}const kv=tS(),jv=r=>1/RT(r)**2;function eS(r,t){const n=ou(mi(),Ln(t.x-r.x,t.y-r.y,t.z-r.z)),s=Ln(t.x,t.y,t.z),o=mi();Pv(o,s,kv);const u=Pv(mi(),n,kv),f={I:0,II:0,III:0,aVR:0,aVL:0,aVF:0,V1:0,V2:0,V3:0,V4:0,V5:0,V6:0,RA:0,LA:0,LL:0},d={RA:om.RA,LA:om.LA,LL:om.LL};return Object.entries(d).forEach(([m,g])=>{const y=Ov(mi(),g,o),A=ou(mi(),y),E=jv(y)*100,R=Nv(u,A)*E;f[m]=R}),f.I=f.LA-f.RA,f.II=f.LL-f.RA,f.III=f.LL-f.LA,f.aVR=f.RA-(f.LA+f.LL)/2,f.aVL=f.LA-(f.RA+f.LL)/2,f.aVF=f.LL-(f.RA+f.LA)/2,Object.keys(Bv).forEach(m=>{const g=Bv[m],y=Ov(mi(),g,o),A=ou(mi(),y),E=jv(y)*100;f[m]=Nv(u,A)*E*1.2}),f}const nS=new WeakMap;class rS{constructor(t,n){_t(this,"id");_t(this,"from");_t(this,"to");_t(this,"reversePathId");_t(this,"CONFIG");_t(this,"STATE");_t(this,"reversePath");_t(this,"computeBaseWave");_t(this,"vector");_t(this,"dotFactors");this.id=t.id,this.from=t.from,this.to=t.to,this.reversePathId=t.reversePathId??null,this.CONFIG={delayMs:0,refractoryMs:0,apdMs:0,amplitude:1,polarity:.1,priority:1,blocked:!1,conductionProbability:void 0,delayJitterMs:void 0,decrementalStep:0,wenckebachPhenomenon:!1,...t.config??{}},this.STATE={lastConductedAt:-1e3,absoluteRefractoryUntil:0,decrementalMs:0,...t.state??{}};const s=n[this.from],o=n[this.to];this.vector=Ln(o.x-s.x,o.y-s.y,o.z-s.z),this.dotFactors=eS(s,o),this.updateParams(this.CONFIG.delayMs,this.CONFIG.apdMs,this.CONFIG.polarity)}setConfig(t){Object.assign(this.CONFIG,t),this.updateParams(this.CONFIG.delayMs,this.CONFIG.apdMs,this.CONFIG.polarity)}setState(t){Object.assign(this.STATE,t)}updateParams(t,n,s){this.CONFIG.delayMs=t,this.CONFIG.apdMs=n,this.CONFIG.polarity=s;const o=this.CONFIG.delayMs/1e3,u=.02,f=.4,d=this.CONFIG.amplitude;this.computeBaseWave=(m,g)=>{const y=(m-this.STATE.lastConductedAt)/1e3,A=Math.exp(-Math.pow((y-o)/u,2)),E=Math.max(.5,Math.min(1.5,Math.sqrt(g/1e3))),R=o+this.CONFIG.apdMs/1e3*E,B=.07*E,k=.04*E,N=y<=R?B:k,X=-Math.exp(-Math.pow((y-R)/N,2))*(this.CONFIG.polarity??.1);return(A+X)*f*d}}getReversePath(){return nS.get(this)}setReversePath(t){this.reversePath=t}canConduct(t){if(this.CONFIG.blocked||t-this.STATE.lastConductedAt<this.CONFIG.refractoryMs||t<this.STATE.absoluteRefractoryUntil)return!1;if(this.CONFIG.conductionProbability!==void 0){const n=Math.random();if(n>this.CONFIG.conductionProbability)return console.log(`>>Path ${this.id} conduction blocked by probability (${n} > ${this.CONFIG.conductionProbability})`),!1}if(this.reversePath){const n=t-this.reversePath.STATE.lastConductedAt,s=this.reversePath.CONFIG.refractoryMs*(this.reversePath.STATE.lastConductedAt>this.STATE.lastConductedAt?1.5:1);if(n<s)return!1}return this.CONFIG.decrementalStep&&t-this.STATE.lastConductedAt-this.STATE.decrementalMs*3<this.CONFIG.refractoryMs?(console.log(`>>Path ${this.id} conduction blocked by Fatigue. ${this.STATE.decrementalMs}`),this.STATE.decrementalMs=0,!1):!0}getCurrentDelayMs(){return this.CONFIG.wenckebachPhenomenon?(console.log(`[path.ts] ${this.id} has wenckenbach phenomenon. decMs is ${this.STATE.decrementalMs}.`),this.CONFIG.delayMs+this.STATE.decrementalMs):this.CONFIG.delayMs}conduct(t){const n=this.getCurrentDelayMs();this.STATE.lastConductedAt=t-n,this.CONFIG.decrementalStep&&(this.STATE.decrementalMs=(this.STATE.decrementalMs??0)+this.CONFIG.decrementalStep)}getDelay(){if(this.CONFIG.delayJitterMs===void 0)return this.CONFIG.delayMs;const t=(Math.random()*2-1)*this.CONFIG.delayJitterMs,n=this.CONFIG.delayMs+t+this.STATE.decrementalMs;return Math.max(0,n)}getDotFactor(t){return this.dotFactors[t]??0}getBaseWave(t,n){return this.computeBaseWave?this.computeBaseWave(t,n):(console.error(`[WRF] computeBaseWave is not defined for Path ${this.id}`),0)}getVoltages(t,n){const s=this.getBaseWave(t,n),o={};for(const u in this.dotFactors)o[u]=s*this.dotFactors[u];return o}setDelay(t){this.setConfig({delayMs:t})}setAPD(t){this.setConfig({apdMs:t})}setRefractoryMs(t){this.setConfig({refractoryMs:t}),console.log(`[path.ts] ${this.id} set Refractory to ${this.CONFIG.refractoryMs}`)}setPolarity(t){this.setConfig({polarity:t})}setConductionProbability(t){this.setConfig({conductionProbability:t})}setAmplitude(t){this.setConfig({amplitude:t})}setDecrementalStep(t){this.setConfig({decrementalStep:t})}getId(){return this.id}}const bt=(r,t,n,s,o,u,f={})=>{const d=6e4/t-500,m=f.autoFire?d:1/0;return{id:r,bpm:t,primaryRefractoryMs:n,x:s,y:o,z:u,CONFIG:{autoFire:!1,forceFiring:!1,refractoryMs:void 0,ectopic_enabled:!1,ectopic_probability:0,ectopic_bpmFactor:1,burst_enabled:!1,burst_maxCount:0,burst_intervalMs:0,jitterMs:0,...f},STATE:{lastFiredAt:-1e3,nextFiringAt:m,burst_counter:0},setConfig(g){Object.assign(this.CONFIG,g)},getRefractoryMs(){return this.adaptiveRefractoryMs??this.CONFIG.refractoryMs??this.primaryRefractoryMs},shouldAutoFire(g){return this.CONFIG.forceFiring&&!this.isRefractory(g)?(this.CONFIG.forceFiring=!1,!0):!!(this.CONFIG.autoFire&&g>=this.STATE.nextFiringAt)},setNextFiringAt(g){this.CONFIG.autoFire&&(this.STATE.nextFiringAt=g+6e4/this.bpm+(Math.random()-.5)*this.CONFIG.jitterMs)},isRefractory(g){return g-this.STATE.lastFiredAt<this.getRefractoryMs()}}},iS=[bt("SA",80,200,-3,-2,-1,{autoFire:!0,jitterMs:10}),bt("CT",33,200,-2.8,-2,-1.5,{autoFire:!1}),bt("A",0,200,-2.4,-1.5,-.9),bt("IAX1",0,150,0,-1.3,-.6),bt("IAX2",0,150,0,-1.1,-.3),bt("IA",0,150,0,-1,0),bt("AN",0,100,0,-.5,0),bt("N",0,200,0,0,0),bt("NH",40,200,0,.5,0,{autoFire:!0}),bt("His",0,275,1.2,1,1.2),bt("BM",0,110,1.5,-2,-1.8),bt("LA",0,75,2.2,-1,-3.5),bt("PV1",0,60,3.3,-1.5,-3),bt("PV2",0,60,2.9,-2.5,-4),bt("CTI1",0,50,-2,-2,-1.2),bt("CTI2",0,50,-3.8,-1.5,-1.5),bt("CTI3",0,50,-2.2,-1,1.2),bt("LBB",120,250,.5,1,-.2),bt("RBB",120,250,-.5,1,.2),bt("LAF",120,250,1.5,1.8,1),bt("LPF",120,250,1.5,2.2,-1),bt("PLV1BA",0,290,1.2,3.3,2.2),bt("LV1BA",0,250,1.4,2.8,2.3),bt("PLV2BAS",0,290,-.8,3.3,1.2),bt("LV2BAS",40,250,-1.5,2.8,1.7),bt("PLV3BS",30,290,-.8,3.3,-.8,{autoFire:!0}),bt("LV3BS",40,250,-1.9,3,-1.8),bt("PLV4BI",0,290,1.3,3.3,-1.8),bt("LV4BI",0,250,.5,3,-2.7),bt("PLV5BP",0,290,2.9,3.3,-.8),bt("LV5BP",0,250,3,2.9,-1.8),bt("PLV6BL",150,290,2.8,3.2,1.2),bt("LV6BL",0,250,3.1,2.9,1.5),bt("PLV7MA",0,290,1.1,5,1.5),bt("LV7MA",0,250,1.2,5.2,2),bt("PLV8MAS",0,290,.3,5,.9),bt("LV8MAS",0,250,-.6,4.8,1.1),bt("PLV9MS",0,290,.3,5,-.9),bt("LV9MS",0,250,-.6,4.8,-1.3),bt("PLV10MI",0,290,1,5,-1.5),bt("LV10MI",0,250,1.1,5.2,-2.2),bt("PLV11MP",0,290,2.3,5,-.8),bt("LV11MP",0,250,2.8,5.2,-1.2),bt("PLV12ML",0,290,2.3,5,.8),bt("LV12ML",0,250,2.7,5.2,1.1),bt("PLV13AA",0,290,0,6.5,0),bt("LV13AA",0,250,-.5,7,.1),bt("PLV14AAS",0,290,1,6.5,1),bt("LV14AAS",0,250,1.1,7,1.4),bt("PLV15AI",0,290,1,6.5,-1),bt("LV15AI",0,250,1.1,7,-1.4),bt("PLV16AP",0,290,2,6.5,0),bt("LV16AP",0,250,2.4,7,.1),bt("PLV17A",0,290,1,7,0),bt("LV17A",0,250,1.1,8,.1),bt("PRVB1A",0,290,-1.6,3,2.8),bt("RVB1A",0,250,-2.7,2.6,2.5),bt("PRVB2S",0,290,-1.6,3,-2),bt("RVB2S",0,250,-2.6,2.6,-2.5),bt("PRVM3A",0,290,-1.3,5,1.8),bt("RVM3A",0,250,-1.7,5.2,2),bt("PRVM4S",0,290,-1.3,5,-1.8),bt("RVM4S",0,250,-1.7,5.2,-2),bt("PRVA5A",30,290,.8,6,1.4,{autoFire:!1}),bt("RVA5A",0,250,-1.1,7,1.5),bt("PRVA6S",0,290,.8,6,-1.4),bt("RVA6S",30,250,-1.1,7,-1.5,{autoFire:!1})];function sS(){return[{id:"SA->CT",from:"SA",to:"CT",config:{delayMs:20,refractoryMs:250,amplitude:0,apdMs:100}},{id:"CT->A",from:"CT",to:"A",config:{delayMs:5,refractoryMs:250,amplitude:.03,apdMs:100}},{id:"A->IA",from:"A",to:"IA",reversePathId:"A->IA_retro",config:{delayMs:55,delayJitterMs:4,refractoryMs:250,amplitude:.15,polarity:.1,apdMs:100,blocked:!1}},{id:"A->IA_retro",from:"IA",to:"A",reversePathId:"A->IA",config:{delayMs:60,delayJitterMs:0,refractoryMs:250,amplitude:.11,polarity:.1,apdMs:100,blocked:!1}},{id:"IA->AN_fast",from:"IA",to:"AN",reversePathId:"IA->AN_fast_retro",config:{delayMs:15,refractoryMs:250,amplitude:.03,polarity:0,apdMs:100,conductionProbability:1}},{id:"IA->AN_fast_retro",from:"AN",to:"IA",reversePathId:"IA->AN_fast",config:{delayMs:25,refractoryMs:275,amplitude:.02,polarity:0,apdMs:100}},{id:"IA->AN_slow_retro_3",from:"AN",to:"IAX2",reversePathId:"IA->AN_slow_3",config:{delayMs:40,refractoryMs:50,amplitude:0,apdMs:100}},{id:"IA->AN_slow_retro_2",from:"IAX2",to:"IAX1",reversePathId:"IA->AN_slow_2",config:{delayMs:40,refractoryMs:50,amplitude:0,apdMs:100}},{id:"IA->AN_slow_retro_1",from:"IAX1",to:"IA",reversePathId:"IA->AN_slow_1",config:{delayMs:40,refractoryMs:250,amplitude:0,apdMs:100}},{id:"A->BM",from:"A",to:"BM",config:{delayMs:20,delayJitterMs:0,refractoryMs:250,amplitude:.01,polarity:0,apdMs:100,blocked:!1}},{id:"BM->LA",from:"BM",to:"LA",config:{delayMs:40,delayJitterMs:0,refractoryMs:250,amplitude:.07,polarity:0,apdMs:100,blocked:!1}},{id:"LA->IA",from:"LA",to:"IA",config:{delayMs:30,delayJitterMs:3,refractoryMs:80,amplitude:.03,polarity:0,apdMs:100,blocked:!1}},{id:"LA->IA_retro",from:"IA",to:"LA",config:{delayMs:30,delayJitterMs:0,refractoryMs:80,amplitude:.05,polarity:0,apdMs:100,blocked:!0}},{id:"AN->N_retro",from:"N",to:"AN",reversePathId:"AN->N",config:{delayMs:10,refractoryMs:300,amplitude:.01,apdMs:100}},{id:"N->NH_retro",from:"NH",to:"N",reversePathId:"N->NH",config:{delayMs:20,refractoryMs:300,amplitude:0,apdMs:100}},{id:"His->NH_retro",from:"His",to:"NH",reversePathId:"NH->His",config:{delayMs:42,refractoryMs:300,amplitude:0,apdMs:100}},{id:"A->LA_retro",from:"LA",to:"A",reversePathId:"A->LA",config:{delayMs:42,refractoryMs:300,amplitude:0,apdMs:100,blocked:!1}},{id:"LA->PV1",from:"LA",to:"PV1",config:{delayMs:45,delayJitterMs:5,refractoryMs:25,amplitude:.1,apdMs:100,blocked:!0}},{id:"PV1->PV2",from:"PV1",to:"PV2",config:{delayMs:45,delayJitterMs:5,refractoryMs:25,amplitude:.1,apdMs:100,blocked:!0}},{id:"PV2->LA",from:"PV2",to:"LA",config:{delayMs:45,delayJitterMs:5,refractoryMs:25,amplitude:.1,apdMs:100,blocked:!0}},{id:"IA->CTI1",from:"IA",to:"CTI1",config:{delayMs:55,delayJitterMs:5,refractoryMs:60,amplitude:0,apdMs:30,blocked:!0,polarity:0}},{id:"CTI1->CTI2",from:"CTI1",to:"CTI2",config:{delayMs:55,delayJitterMs:5,refractoryMs:60,amplitude:1.4,apdMs:30,blocked:!1,polarity:0}},{id:"CTI2->CTI3",from:"CTI2",to:"CTI3",config:{delayMs:55,delayJitterMs:5,refractoryMs:60,amplitude:0,apdMs:30,blocked:!1,polarity:0}},{id:"CTI3->IA",from:"CTI3",to:"IA",config:{delayMs:55,delayJitterMs:5,refractoryMs:60,amplitude:0,apdMs:30,blocked:!1,polarity:0}},{id:"AN->N",from:"AN",to:"N",reversePathId:"AN->N_retro",config:{delayMs:5,refractoryMs:200,amplitude:0,apdMs:100,blocked:!1}},{id:"N->NH",from:"N",to:"NH",reversePathId:"N->NH_retro",config:{delayMs:30,refractoryMs:250,amplitude:0,apdMs:100}},{id:"NH->His",from:"NH",to:"His",reversePathId:"His->NH_retro",config:{delayMs:5,refractoryMs:200,amplitude:0,apdMs:100}},{id:"LV8MAS-His",from:"LV8MAS",to:"His",config:{amplitude:0,delayMs:25,apdMs:250,refractoryMs:250}},{id:"His->LBB",from:"His",to:"LBB",config:{delayMs:3,refractoryMs:320,amplitude:0,apdMs:100}},{id:"His->RBB",from:"His",to:"RBB",config:{delayMs:7,refractoryMs:330,amplitude:0,apdMs:100}},{id:"LBB->LAF",from:"LBB",to:"LAF",config:{delayMs:4,refractoryMs:300,amplitude:0,apdMs:100}},{id:"LBB->LPF",from:"LBB",to:"LPF",config:{delayMs:4,refractoryMs:310,amplitude:0,apdMs:100}},{id:"LBB-PLV2BAS",from:"LBB",to:"PLV2BAS",config:{amplitude:0,delayMs:31,apdMs:150,refractoryMs:330}},{id:"LBB-PLV3BS",from:"LBB",to:"PLV3BS",config:{amplitude:0,delayMs:31,apdMs:150,refractoryMs:330}},{id:"LBB-PLV8MAS",from:"LBB",to:"PLV8MAS",config:{amplitude:0,delayMs:5,apdMs:150,refractoryMs:330}},{id:"LBB-PLV9MS",from:"LBB",to:"PLV9MS",config:{amplitude:0,delayMs:5,apdMs:150,refractoryMs:330}},{id:"LAF-PLV7MA",from:"LAF",to:"PLV7MA",config:{amplitude:0,delayMs:20,apdMs:150,refractoryMs:330}},{id:"LAF-PLV10MI",from:"LAF",to:"PLV10MI",config:{amplitude:0,delayMs:20,apdMs:150,refractoryMs:330}},{id:"LAF-PLV11MP",from:"LAF",to:"PLV11MP",config:{amplitude:0,delayMs:21,apdMs:150,refractoryMs:330}},{id:"LAF-PLV12ML",from:"LAF",to:"PLV12ML",config:{amplitude:0,delayMs:21,apdMs:150,refractoryMs:330}},{id:"LAF-PLV13AA",from:"LAF",to:"PLV13AA",config:{amplitude:0,delayMs:21,apdMs:150,refractoryMs:330}},{id:"LAF-PLV14AAS",from:"LAF",to:"PLV14AAS",config:{amplitude:0,delayMs:20,apdMs:150,refractoryMs:330}},{id:"LAF-PLV15AI",from:"LAF",to:"PLV15AI",config:{amplitude:0,delayMs:20,apdMs:150,refractoryMs:330}},{id:"LPF-PLV1BA",from:"LPF",to:"PLV1BA",config:{amplitude:0,delayMs:33,apdMs:150,refractoryMs:330}},{id:"LPF-PLV4BI",from:"LPF",to:"PLV4BI",config:{amplitude:0,delayMs:33,apdMs:150,refractoryMs:330}},{id:"LPF-PLV5BP",from:"LPF",to:"PLV5BP",config:{amplitude:0,delayMs:23,apdMs:150,refractoryMs:330}},{id:"LPF-PLV6BL",from:"LPF",to:"PLV6BL",config:{amplitude:0,delayMs:23,apdMs:150,refractoryMs:330}},{id:"LPF-PLV16AP",from:"LPF",to:"PLV16AP",config:{amplitude:0,delayMs:21,apdMs:150,refractoryMs:330}},{id:"LPF-PLV17A",from:"LPF",to:"PLV17A",config:{amplitude:0,delayMs:21,apdMs:150,refractoryMs:330}},{id:"RBB-PRVB1A",from:"RBB",to:"PRVB1A",config:{amplitude:0,delayMs:31,apdMs:150,refractoryMs:330}},{id:"RBB-PRVB2S",from:"RBB",to:"PRVB2S",config:{amplitude:0,delayMs:31,apdMs:150,refractoryMs:330}},{id:"RBB-PRVM3A",from:"RBB",to:"PRVM3A",config:{amplitude:0,delayMs:21,apdMs:150,refractoryMs:330}},{id:"RBB-PRVM4S",from:"RBB",to:"PRVM4S",config:{amplitude:0,delayMs:17,apdMs:150,refractoryMs:330}},{id:"RBB-PRVA5A",from:"RBB",to:"PRVA5A",config:{amplitude:0,delayMs:19,apdMs:150,refractoryMs:330}},{id:"RBB-PRVA6S",from:"RBB",to:"PRVA6S",config:{amplitude:0,delayMs:19,apdMs:150,refractoryMs:330}},{id:"PLV1BA-LV1BA",from:"PLV1BA",to:"LV1BA",config:{amplitude:.18,delayMs:10,apdMs:180,refractoryMs:290,polarity:-.4}},{id:"PLV2BAS-LV2BAS",from:"PLV2BAS",to:"LV2BAS",config:{amplitude:.3,delayMs:13,apdMs:180,refractoryMs:290,polarity:-.2}},{id:"PLV3BS-LV3BS",from:"PLV3BS",to:"LV3BS",config:{amplitude:.3,delayMs:13,apdMs:180,refractoryMs:290,polarity:-.2}},{id:"PLV4BI-LV4BI",from:"PLV4BI",to:"LV4BI",config:{amplitude:.3,delayMs:13,apdMs:180,refractoryMs:290,polarity:-.2}},{id:"PLV5BP-LV5BP",from:"PLV5BP",to:"LV5BP",config:{amplitude:.3,delayMs:13,apdMs:180,refractoryMs:290,polarity:-.2}},{id:"PLV6BL-LV6BL",from:"PLV6BL",to:"LV6BL",config:{amplitude:.2,delayMs:10,apdMs:180,refractoryMs:290,polarity:-.4}},{id:"PLV7MA-LV7MA",from:"PLV7MA",to:"LV7MA",config:{amplitude:.18,delayMs:10,apdMs:200,refractoryMs:290,polarity:-.4}},{id:"PLV8MAS-LV8MAS",from:"PLV8MAS",to:"LV8MAS",config:{amplitude:.35,delayMs:13,apdMs:200,refractoryMs:290,polarity:-.3}},{id:"PLV9MS-LV9MS",from:"PLV9MS",to:"LV9MS",config:{amplitude:.35,delayMs:13,apdMs:200,refractoryMs:290,polarity:-.3}},{id:"PLV10MI-LV10MI",from:"PLV10MI",to:"LV10MI",config:{amplitude:.2,delayMs:10,apdMs:200,refractoryMs:290,polarity:-.4}},{id:"PLV11MP-LV11MP",from:"PLV11MP",to:"LV11MP",config:{amplitude:.2,delayMs:10,apdMs:200,refractoryMs:290,polarity:-.4}},{id:"PLV12ML-LV12ML",from:"PLV12ML",to:"LV12ML",config:{amplitude:.17,delayMs:10,apdMs:200,refractoryMs:290,polarity:-.4}},{id:"PLV13AA-LV13AA",from:"PLV13AA",to:"LV13AA",config:{amplitude:.17,delayMs:10,apdMs:200,refractoryMs:290,polarity:-.4}},{id:"PLV14AAS-LV14AAS",from:"PLV14AAS",to:"LV14AAS",config:{amplitude:.22,delayMs:10,apdMs:200,refractoryMs:290,polarity:-.4}},{id:"PLV15AI-LV15AI",from:"PLV15AI",to:"LV15AI",config:{amplitude:.22,delayMs:10,apdMs:200,refractoryMs:290,polarity:-.4}},{id:"PLV16AP-LV16AP",from:"PLV16AP",to:"LV16AP",config:{amplitude:.17,delayMs:10,apdMs:200,refractoryMs:290,polarity:-.4}},{id:"PLV17A-LV17A",from:"PLV17A",to:"LV17A",config:{amplitude:.1,delayMs:10,apdMs:200,refractoryMs:290,polarity:-.4}},{id:"PRVB1A-RVB1A",from:"PRVB1A",to:"RVB1A",config:{amplitude:.12,delayMs:10,apdMs:200,refractoryMs:290,polarity:-.3}},{id:"PRVB2S-RVB2S",from:"PRVB2S",to:"RVB2S",config:{amplitude:.12,delayMs:10,apdMs:200,refractoryMs:290,polarity:-.3}},{id:"PRVM3A-RVM3A",from:"PRVM3A",to:"RVM3A",config:{amplitude:.12,delayMs:10,apdMs:200,refractoryMs:290,polarity:-.3}},{id:"PRVM4S-RVM4S",from:"PRVM4S",to:"RVM4S",config:{amplitude:.12,delayMs:10,apdMs:200,refractoryMs:290,polarity:-.3}},{id:"PRVA5A-RVA5A",from:"PRVA5A",to:"RVA5A",config:{amplitude:.12,delayMs:10,apdMs:200,refractoryMs:290,polarity:-.3}},{id:"PRVA6S-RVA6S",from:"PRVA6S",to:"RVA6S",config:{amplitude:.12,delayMs:10,apdMs:200,refractoryMs:290,polarity:-.3}},{id:"LV1BA-LV2BAS",from:"LV1BA",to:"LV2BAS",reversePathId:"LV2BAS-LV1BA",config:{amplitude:0,delayMs:13,apdMs:270,refractoryMs:250,polarity:0,priority:2}},{id:"LV2BAS-LV3BS",from:"LV2BAS",to:"LV3BS",reversePathId:"LV3BS-LV2BAS",config:{amplitude:0,delayMs:13,apdMs:270,refractoryMs:250,polarity:0,priority:2}},{id:"LV3BS-LV4BI",from:"LV3BS",to:"LV4BI",reversePathId:"LV4BI-LV3BS",config:{amplitude:0,delayMs:13,apdMs:270,refractoryMs:250,polarity:0,priority:2}},{id:"LV4BI-LV5BP",from:"LV4BI",to:"LV5BP",reversePathId:"LV5BP-LV4BI",config:{amplitude:0,delayMs:11,apdMs:270,refractoryMs:250,polarity:0,priority:2}},{id:"LV5BP-LV6BL",from:"LV5BP",to:"LV6BL",reversePathId:"LV6BL-LV5BP",config:{amplitude:0,delayMs:11,apdMs:270,refractoryMs:250,polarity:0,priority:2}},{id:"LV6BL-LV1BA",from:"LV6BL",to:"LV1BA",reversePathId:"LV1BA-LV6BL",config:{amplitude:0,delayMs:11,apdMs:270,refractoryMs:250,polarity:0,priority:2}},{id:"LV7MA-LV8MAS",from:"LV7MA",to:"LV8MAS",reversePathId:"LV8MAS-LV7MA",config:{amplitude:0,delayMs:13,apdMs:270,refractoryMs:250,polarity:0,priority:2}},{id:"LV10MI-LV11MP",from:"LV10MI",to:"LV11MP",reversePathId:"LV11MP-LV10MI",config:{amplitude:0,delayMs:11,apdMs:270,refractoryMs:250,polarity:0,priority:2}},{id:"LV11MP-LV12ML",from:"LV11MP",to:"LV12ML",reversePathId:"LV12ML-LV11MP",config:{amplitude:0,delayMs:11,apdMs:270,refractoryMs:250,polarity:0,priority:2}},{id:"LV12ML-LV7MA",from:"LV12ML",to:"LV7MA",reversePathId:"LV7MA-LV12ML",config:{amplitude:0,delayMs:11,apdMs:270,refractoryMs:250,polarity:0,priority:2}},{id:"LV13AA-LV14AAS",from:"LV13AA",to:"LV14AAS",reversePathId:"LV14AAS-LV13AA",config:{amplitude:0,delayMs:13,apdMs:270,refractoryMs:250,polarity:0,priority:2}},{id:"LV14AAS-LV15AI",from:"LV14AAS",to:"LV15AI",reversePathId:"LV15AI-LV14AAS",config:{amplitude:0,delayMs:13,apdMs:270,refractoryMs:250,polarity:0,priority:2}},{id:"LV15AI-LV16AP",from:"LV15AI",to:"LV16AP",reversePathId:"LV16AP-LV15AI",config:{amplitude:0,delayMs:11,apdMs:270,refractoryMs:250,polarity:0,priority:2}},{id:"LV13AA-LV16AP",from:"LV13AA",to:"LV16AP",reversePathId:"LV16AP-LV13AA",config:{amplitude:0,delayMs:11,apdMs:270,refractoryMs:250,polarity:0,priority:2}},{id:"LV2BAS-LV1BA",from:"LV2BAS",to:"LV1BA",reversePathId:"LV1BA-LV2BAS",config:{amplitude:0,delayMs:17,apdMs:270,refractoryMs:250,polarity:0,priority:2}},{id:"LV3BS-LV2BAS",from:"LV3BS",to:"LV2BAS",reversePathId:"LV2BAS-LV3BS",config:{amplitude:0,delayMs:17,apdMs:270,refractoryMs:250,polarity:0,priority:2}},{id:"LV4BI-LV3BS",from:"LV4BI",to:"LV3BS",reversePathId:"LV3BS-LV4BI",config:{amplitude:0,delayMs:17,apdMs:270,refractoryMs:250,polarity:0,priority:2}},{id:"LV5BP-LV4BI",from:"LV5BP",to:"LV4BI",reversePathId:"LV4BI-LV5BP",config:{amplitude:0,delayMs:17,apdMs:270,refractoryMs:250,polarity:0,priority:2}},{id:"LV6BL-LV5BP",from:"LV6BL",to:"LV5BP",reversePathId:"LV5BP-LV6BL",config:{amplitude:0,delayMs:17,apdMs:270,refractoryMs:250,polarity:0,priority:2}},{id:"LV1BA-LV6BL",from:"LV1BA",to:"LV6BL",reversePathId:"LV6BL-LV1BA",config:{amplitude:0,delayMs:17,apdMs:270,refractoryMs:250,polarity:0,priority:2}},{id:"LV10MI-LV9MS",from:"LV10MI",to:"LV9MS",reversePathId:"LV9MS-LV10MI",config:{amplitude:0,delayMs:13,apdMs:270,refractoryMs:250,polarity:0,priority:2}},{id:"LV11MP-LV10MI",from:"LV11MP",to:"LV10MI",reversePathId:"LV10MI-LV11MP",config:{amplitude:0,delayMs:13,apdMs:270,refractoryMs:250,polarity:0,priority:2}},{id:"LV12ML-LV11MP",from:"LV12ML",to:"LV11MP",reversePathId:"LV11MP-LV12ML",config:{amplitude:0,delayMs:13,apdMs:270,refractoryMs:250,polarity:0,priority:2}},{id:"LV7MA-LV12ML",from:"LV7MA",to:"LV12ML",reversePathId:"LV12ML-LV7MA",config:{amplitude:0,delayMs:13,apdMs:270,refractoryMs:250,polarity:0,priority:2}},{id:"LV14AAS-LV13AA",from:"LV14AAS",to:"LV13AA",reversePathId:"LV13AA-LV14AAS",config:{amplitude:0,delayMs:13,apdMs:270,refractoryMs:250,polarity:0,priority:2}},{id:"LV15AI-LV14AAS",from:"LV15AI",to:"LV14AAS",reversePathId:"LV14AAS-LV15AI",config:{amplitude:0,delayMs:13,apdMs:270,refractoryMs:250,polarity:0,priority:2}},{id:"LV16AP-LV15AI",from:"LV16AP",to:"LV15AI",reversePathId:"LV15AI-LV16AP",config:{amplitude:0,delayMs:13,apdMs:270,refractoryMs:250,polarity:0,priority:2}},{id:"LV16AP-LV13AA",from:"LV13AA",to:"LV16AP",reversePathId:"LV13AA-LV16AP",config:{amplitude:0,delayMs:13,apdMs:270,refractoryMs:250,polarity:0,priority:2}},{id:"LV1BA-LV7MA",from:"LV1BA",to:"LV7MA",reversePathId:"LV7MA-LV1BA",config:{amplitude:.05,delayMs:37,apdMs:230,refractoryMs:250,polarity:.5,priority:2}},{id:"LV7MA-LV1BA",from:"LV7MA",to:"LV1BA",reversePathId:"LV1BA-LV7MA",config:{amplitude:.05,delayMs:37,apdMs:230,refractoryMs:250,polarity:.5,priority:2}},{id:"LV7MA-LV13AA",from:"LV7MA",to:"LV13AA",reversePathId:"LV13AA-LV7MA",config:{amplitude:.05,delayMs:31,apdMs:230,refractoryMs:250,polarity:.5,priority:2}},{id:"LV13AA-LV7MA",from:"LV13AA",to:"LV7MA",reversePathId:"LV7MA-LV13AA",config:{amplitude:.05,delayMs:31,apdMs:230,refractoryMs:250,polarity:.5,priority:2}},{id:"LV2BAS-LV8MAS",from:"LV2BAS",to:"LV8MAS",reversePathId:"LV8MAS-LV2BAS",config:{amplitude:.4,delayMs:37,apdMs:270,refractoryMs:250,polarity:.5,priority:2}},{id:"LV14AAS-LV8MAS",from:"LV14AAS",to:"LV8MAS",reversePathId:"LV8MAS-LV14AAS",config:{amplitude:.3,delayMs:31,apdMs:270,refractoryMs:250,polarity:.5,priority:2}},{id:"LV3BS-LV9MS",from:"LV3BS",to:"LV9MS",reversePathId:"LV9MS-LV3BS",config:{amplitude:.4,delayMs:37,apdMs:270,refractoryMs:250,polarity:.5,priority:2}},{id:"LV4BI-LV10MI",from:"LV4BI",to:"LV10MI",reversePathId:"LV10MI-LV4BI",config:{amplitude:.04,delayMs:31,apdMs:230,refractoryMs:250,polarity:.5,priority:2}},{id:"LV10MI-LV4BI",from:"LV10MI",to:"LV4BI",reversePathId:"LV4BI-LV10MI",config:{amplitude:.04,delayMs:31,apdMs:230,refractoryMs:250,polarity:.5,priority:2}},{id:"LV10MI-LV15AI",from:"LV10MI",to:"LV15AI",reversePathId:"LV15AI-LV10MI",config:{amplitude:.04,delayMs:23,apdMs:230,refractoryMs:250,polarity:.5,priority:2}},{id:"LV15AI-LV10MI",from:"LV15AI",to:"LV10MI",reversePathId:"LV10MI-LV15AI",config:{amplitude:.04,delayMs:23,apdMs:230,refractoryMs:250,polarity:.5,priority:2}},{id:"LV5BP-LV11MP",from:"LV5BP",to:"LV11MP",reversePathId:"LV11MP-LV5BP",config:{amplitude:.04,delayMs:31,apdMs:210,refractoryMs:250,polarity:.5,priority:2}},{id:"LV11MP-LV5BP",from:"LV11MP",to:"LV5BP",reversePathId:"LV5BP-LV11MP",config:{amplitude:.04,delayMs:31,apdMs:210,refractoryMs:250,polarity:.5,priority:2}},{id:"LV11MP-LV16AP",from:"LV11MP",to:"LV16AP",reversePathId:"LV16AP-LV11MP",config:{amplitude:.03,delayMs:23,apdMs:210,refractoryMs:250,polarity:.5,priority:2}},{id:"LV16AP-LV11MP",from:"LV16AP",to:"LV11MP",reversePathId:"LV11MP-LV16AP",config:{amplitude:.03,delayMs:23,apdMs:210,refractoryMs:250,polarity:.5,priority:2}},{id:"LV6BL-LV12ML",from:"LV6BL",to:"LV12ML",reversePathId:"LV12ML-LV6BL",config:{amplitude:.04,delayMs:31,apdMs:210,refractoryMs:250,polarity:.5,priority:2}},{id:"LV12ML-LV6BL",from:"LV12ML",to:"LV6BL",reversePathId:"LV6BL-LV12ML",config:{amplitude:.03,delayMs:23,apdMs:210,refractoryMs:250,polarity:.5,priority:2}},{id:"LV13AA-LV17A",from:"LV13AA",to:"LV17A",reversePathId:"LV17A-LV13AA",config:{amplitude:.02,delayMs:19,apdMs:210,refractoryMs:250,polarity:.4,priority:2}},{id:"LV14AAS-LV17A",from:"LV14AAS",to:"LV17A",reversePathId:"LV17A-LV14AAS",config:{amplitude:.02,delayMs:19,apdMs:210,refractoryMs:250,polarity:.4,priority:2}},{id:"LV15AI-LV17A",from:"LV15AI",to:"LV17A",reversePathId:"LV17A-LV15AI",config:{amplitude:.01,delayMs:17,apdMs:210,refractoryMs:250,polarity:.4,priority:2}},{id:"LV16AP-LV17A",from:"LV16AP",to:"LV17A",reversePathId:"LV17A-LV16AP",config:{amplitude:.01,delayMs:17,apdMs:210,refractoryMs:250,polarity:.4,priority:2}},{id:"LV17A-LV13AA",from:"LV17A",to:"LV13AA",reversePathId:"LV13AA-LV17A",config:{amplitude:.01,delayMs:31,apdMs:210,refractoryMs:250,polarity:.4,priority:2}},{id:"LV17A-LV14AAS",from:"LV17A",to:"LV14AAS",reversePathId:"LV14AAS-LV17A",config:{amplitude:.01,delayMs:31,apdMs:210,refractoryMs:250,polarity:.4,priority:2}},{id:"LV17A-LV15AI",from:"LV17A",to:"LV15AI",reversePathId:"LV15AI-LV17A",config:{amplitude:.01,delayMs:29,apdMs:210,refractoryMs:250,polarity:.4,priority:2}},{id:"LV17A-LV16AP",from:"LV17A",to:"LV16AP",reversePathId:"LV16AP-LV17A",config:{amplitude:.01,delayMs:29,apdMs:210,refractoryMs:250,polarity:.4,priority:2}},{id:"RVB1A-RVB2S",from:"RVB1A",to:"RVB2S",reversePathId:"RVB2S-RVB1A",config:{amplitude:0,delayMs:13,apdMs:210,refractoryMs:250,polarity:.5,priority:2}},{id:"RVB2S-RVB1A",from:"RVB2S",to:"RVB1A",reversePathId:"RVB1A-RVB2S",config:{amplitude:0,delayMs:13,apdMs:210,refractoryMs:250,polarity:.5,priority:2}},{id:"RVM3A-RVM4S",from:"RVM3A",to:"RVM4S",reversePathId:"RVM4S-RVM3A",config:{amplitude:0,delayMs:11,apdMs:210,refractoryMs:250,polarity:.5,priority:2}},{id:"RVM4S-RVM3A",from:"RVM4S",to:"RVM3A",reversePathId:"RVM3A-RVM4S",config:{amplitude:0,delayMs:11,apdMs:210,refractoryMs:250,polarity:.5,priority:2}},{id:"RVA5A-RVA6S",from:"RVA5A",to:"RVA6S",reversePathId:"RVA6S-RVA5A",config:{amplitude:0,delayMs:11,apdMs:210,refractoryMs:250,polarity:.5,priority:2}},{id:"RVA6S-RVA5A",from:"RVA6S",to:"RVA5A",reversePathId:"RVA5A-LV6BL",config:{amplitude:0,delayMs:11,apdMs:210,refractoryMs:250,polarity:.5,priority:2}},{id:"RVB1A-LV2BAS",from:"RVB1A",to:"LV2BAS",reversePathId:"LV2BAS-RVB1A",config:{amplitude:0,delayMs:19,apdMs:210,refractoryMs:250,polarity:.3,priority:2}},{id:"LV2BAS-RVB1A",from:"LV2BAS",to:"RVB1A",reversePathId:"RVB1A-LV2BAS",config:{amplitude:0,delayMs:19,apdMs:210,refractoryMs:250,polarity:.3,priority:2}},{id:"RVM3A-LV8MAS",from:"RVM3A",to:"LV8MAS",reversePathId:"LV8MAS-RVM3A",config:{amplitude:0,delayMs:17,apdMs:210,refractoryMs:250,polarity:.3,priority:2}},{id:"RVA5A-LV14AAS",from:"RVA5A",to:"LV14AAS",reversePathId:"LV14AAS-RVA5A",config:{amplitude:0,delayMs:13,apdMs:210,refractoryMs:250,polarity:.3,priority:2}},{id:"LV14AAS-RVA5A",from:"LV14AAS",to:"RVA5A",reversePathId:"RVA5A-LV14AAS",config:{amplitude:0,delayMs:13,apdMs:210,refractoryMs:250,polarity:.3,priority:2}},{id:"RVB2S-LV3BS",from:"RVB2S",to:"LV3BS",reversePathId:"LV3BS-RVB2S",config:{amplitude:0,delayMs:19,apdMs:210,refractoryMs:250,polarity:.3,priority:2}},{id:"LV3BS-RVB2S",from:"LV3BS",to:"RVB2S",reversePathId:"RVB2S-LV3BS",config:{amplitude:0,delayMs:19,apdMs:210,refractoryMs:250,polarity:.3,priority:2}},{id:"RVM4S-LV9MS",from:"RVM4S",to:"LV9MS",reversePathId:"LV9MS-RVM4S",config:{amplitude:0,delayMs:17,apdMs:210,refractoryMs:250,polarity:.3,priority:2}},{id:"RVA6S-LV15AI",from:"RVA6S",to:"LV15AI",reversePathId:"LV15AI-RVA6S",config:{amplitude:0,delayMs:13,apdMs:210,refractoryMs:250,polarity:.3,priority:2}},{id:"LV15AI-RVA6S",from:"LV15AI",to:"RVA6S",reversePathId:"RVA6S-LV15AI",config:{amplitude:0,delayMs:13,apdMs:210,refractoryMs:250,polarity:.3,priority:2}},{id:"RVB1A-RVM3A",from:"RVB1A",to:"RVM3A",reversePathId:"RVM3A-RVB1A",config:{amplitude:.05,delayMs:29,apdMs:210,refractoryMs:250,polarity:.3,priority:2}},{id:"RVM3A-RVA5A",from:"RVM3A",to:"RVA5A",reversePathId:"RVA5A-RVM3A",config:{amplitude:.05,delayMs:23,apdMs:210,refractoryMs:250,polarity:.3,priority:2}},{id:"RVB2S-RVM4S",from:"RVB2S",to:"RVM4S",reversePathId:"RVM4S-RVB2S",config:{amplitude:.05,delayMs:29,apdMs:210,refractoryMs:250,polarity:.3,priority:2}},{id:"RVM4S-RVA6S",from:"RVM4S",to:"RVA6S",reversePathId:"RVA6S-RVM4S",config:{amplitude:.05,delayMs:23,apdMs:210,refractoryMs:250,polarity:.3,priority:2}},{id:"RVM3A-RVB1A",from:"RVM3A",to:"RVB1A",reversePathId:"RVB1A-RVM3A",config:{amplitude:.05,delayMs:29,apdMs:210,refractoryMs:250,polarity:.3,priority:2}},{id:"RVA5A-RVM3A",from:"RVA5A",to:"RVM3A",reversePathId:"RVM3A-RVA5A",config:{amplitude:.05,delayMs:23,apdMs:210,refractoryMs:250,polarity:.3,priority:2}},{id:"RVM4S-RVB2S",from:"RVM4S",to:"RVB2S",reversePathId:"RVB2S-RVM4S",config:{amplitude:.05,delayMs:29,apdMs:210,refractoryMs:250,polarity:.3,priority:2}},{id:"RVA6S-RVM4S",from:"RVA6S",to:"RVM4S",reversePathId:"RVM4S-RVA6S",config:{amplitude:.05,delayMs:23,apdMs:210,refractoryMs:250,polarity:.3,priority:2}}]}class fp{constructor(t,n,s=0){_t(this,"debugLevel",0);_t(this,"debugResetTimer",null);_t(this,"pathMap",{});_t(this,"fromNodesCache",{});_t(this,"toNodesCache",{});_t(this,"reversePathIndex",new Map);_t(this,"scheduledFires",[]);_t(this,"nodes");this.debugLevel=s,this.nodes=Object.fromEntries(new Map(t.map(u=>[u.id,u])));const o=n.map(u=>new rS(u,this.nodes));this.buildPathCacheAndLinks(o)}getPaths(){return Object.values(this.pathMap)}getPath(t){return this.pathMap[t]}getNode(t){return this.nodes[t]}buildPathCacheAndLinks(t){var s,o,u,f;const n={};for(const d of t)((s=this.fromNodesCache)[o=d.from]||(s[o]=[])).push(d),((u=this.toNodesCache)[f=d.to]||(u[f]=[])).push(d),n[d.id]=d;this.pathMap=n;for(const d of t)if(d.reversePathId){const m=n[d.reversePathId];m&&(d.setReversePath(m),m.setReversePath(d),this.reversePathIndex.set(d,m),this.reversePathIndex.set(m,d))}}fromNodes(t){return this.fromNodesCache[t]||[]}toNodes(t){return this.toNodesCache[t]||[]}log(t,n,s){this.debugLevel<=2&&(n.includes("LA")||n.includes("LBB")||n.includes("RV")||n.includes("LV")||n.includes("BM")||n.includes("AN"))||this.debugLevel>=t&&console.log(`[${Math.round(s)}] ${n}`)}setDebugLevel(t,n){this.debugLevel=t,this.debugResetTimer!==null&&clearTimeout(this.debugResetTimer),t>0&&n&&(this.debugResetTimer=window.setTimeout(()=>{this.debugLevel=0,console.log("🔕 [GE] debugLevel auto-reset to 0")},n))}getLastFireTime(t){var n;return((n=this.nodes[t])==null?void 0:n.STATE.lastFiredAt)??-1}setPathCustomParams(t,n){const s=this.getPath(t);s&&(n.delayMs!==void 0&&(s.CONFIG.delayMs=n.delayMs),n.amplitude!==void 0&&(s.CONFIG.amplitude=n.amplitude),n.polarity!==void 0&&(s.CONFIG.polarity=n.polarity),s.updateParams&&s.updateParams(s.CONFIG.delayMs,s.CONFIG.apdMs,s.CONFIG.polarity))}getLastConductedAt(t){var n,s;return((s=(n=this.getPath(t))==null?void 0:n.STATE)==null?void 0:s.lastConductedAt)??-1}scheduleConduction(t,n){const s=this.fromNodes(t);for(const o of s){if(o.CONFIG.blocked){this.log(2,`  📨⛔ ${o.id} is blocked`,n);continue}if(!o.canConduct(n)){this.log(2,`  📨⛔ ${o.id} cannot conduct now`,n);continue}const u=n+o.getCurrentDelayMs();o.STATE.absoluteRefractoryUntil=n+o.CONFIG.refractoryMs,!this.scheduledFires.some(d=>d.via===o.id)&&(this.log(1,`📨 Scheduling ${o.id}: now=${n.toFixed(0)} → fireAt=${u.toFixed(0)} (delay=${(u-n).toFixed(0)})`,n),this.scheduledFires.push({target:o.to,via:o.id,fireAt:u}),this.log(2,`  📨 (${o.id}) scheduled at ${Math.round(u)}, but NOT fired yet.`,n),this.log(3,`[scheduledFires was pushed!]  ${JSON.stringify(this.scheduledFires)}`,n))}}tick(t){var u,f,d;this.scheduledFires.length>0&&this.log(3,`[TICK] scheduledFires: ${JSON.stringify(this.scheduledFires)}`,t);const n=[];for(const m of Object.values(this.nodes))((u=m.CONFIG)!=null&&u.autoFire||(f=m.CONFIG)!=null&&f.forceFiring)&&m.shouldAutoFire(t)&&(m.STATE.lastFiredAt=t,m.setNextFiringAt(t),n.push(m.id),this.log(1,`⚡⚡⚡ ${m.id} Auto firing (${m.bpm}bpm) ⚡⚡⚡`,t),this.scheduleConduction(m.id,t));const s=new Map;for(const m of this.scheduledFires){const g=s.get(m.target);(!g||m.fireAt<g.fireAt)&&s.set(m.target,m)}this.scheduledFires.length>0&&this.log(3,`[earliestMap] : ${JSON.stringify([...s.entries()].map(([m,g])=>[m,g]))}`,t);const o=[];for(const m of this.scheduledFires){if(m.fireAt>t){o.push(m);continue}const g=s.get(m.target);if(!g)continue;this.log(3,`[TICK] Evaluating: target=${m.target}, via=${m.via}, fireAt=${m.fireAt}`,t),this.log(3,`[TICK] selected: ${g?g.via:"none"}`,t);const y=this.nodes[m.target],A=this.getPath(m.via);if(!y){this.log(0,`🤬[WTF] scheduledFires.target=${m.target} not found in nodes`,t);continue}y.isRefractory(t)?this.log(2,`⛔ ${y.id} is refractory  ${(t-y.STATE.lastFiredAt).toFixed(0)} < ${y.getRefractoryMs()} last fired at ${y.STATE.lastFiredAt.toFixed(0)}`,t):(this.log(1,`🔥 ${y.id} Scheduled firing via (${m.via}). `,m.fireAt),y.STATE.lastFiredAt=m.fireAt,y.setNextFiringAt(m.fireAt),n.push(y.id),this.log(3,`[TICK] 🔥 Firing target=${m.target} via=${m.via}`,t),A&&(this.log(1,`✅[Path Conducted] ${A.id} : fireAt=${m.fireAt.toFixed(0)}`,t),A.conduct(m.fireAt),this.log(1,`  [Path Conducted] ${A.id} :  lastConductedAt=${((d=A.STATE.lastConductedAt)==null?void 0:d.toFixed(0))??-1}`,t),n.push(A.id),this.log(2,`    ${A.id}.lastConductedAt = ${Math.round(A.STATE.lastConductedAt??-1)}: `,t),this.log(3,`[TICK] path.absoluteRefractoryUntil: ${A.STATE.absoluteRefractoryUntil}`,t)),this.scheduleConduction(y.id,t),this.log(3,`[TICK] targetNode.STATE.lastFiredAt: ${y.STATE.lastFiredAt}`,t))}return this.scheduledFires=o,n}getReversePath(t){return this.reversePathIndex.get(t)}static createDefaultEngine(t=0){return new fp(iS,sS(),t)}}function aS(){const r=new(window.AudioContext||window.webkitAudioContext);return r.state==="suspended"&&r.resume(),r}function Uv(r,t){const n=t.nodes,s=t.getPaths();n.SA.bpm=r.sinusRate,n.NH.bpm=r.junctionRate,n.PLV3BS.bpm=r.ventricleRate;const o=r.statuses;console.log("[GC] statuses",o);const u=lp.filter(f=>o.includes(f.id));for(const f of u)if(f.effects){if(f.effects.node)for(const[d,m]of Object.entries(f.effects.node)){const g=n[d];!g||!m||(m.refractory!==void 0&&(g.CONFIG.refractoryMs=m.refractory),m.autofire!==void 0&&(g.CONFIG.autoFire=m.autofire),m.forceFiring!==void 0&&(g.CONFIG.forceFiring=m.forceFiring))}if(f.effects.path)for(const[d,m]of Object.entries(f.effects.path)){const g=s.find(y=>y.id===d);!g||!m||(m.block!==void 0&&(g.CONFIG.blocked=m.block),m.probability!==void 0&&(g.CONFIG.conductionProbability=m.probability),m.delayMs!==void 0&&(g.CONFIG.delayMs=m.delayMs),m.refractoryMs!==void 0&&(g.CONFIG.refractoryMs=m.refractoryMs),m.delayJitterMs!==void 0&&(g.CONFIG.delayJitterMs=m.delayJitterMs),m.apdMs!==void 0&&(g.CONFIG.apdMs=m.apdMs),m.amplitude!==void 0&&(g.CONFIG.amplitude=m.amplitude),m.decrementalStep!==void 0&&(g.CONFIG.decrementalStep=m.decrementalStep),m.wenckebachPhenomenon!==void 0&&(g.CONFIG.wenckebachPhenomenon=m.wenckebachPhenomenon))}if(f.updateGraph){const d=r.getOptionsForStatus(f.id);f.updateGraph(d,t)}}}class $o{constructor({label:t,unit:n,min:s,max:o,decimals:u=0,alarm:f,color:d,key:m}){_t(this,"label");_t(this,"unit");_t(this,"min");_t(this,"max");_t(this,"decimals");_t(this,"alarm");_t(this,"color","text-white");_t(this,"key");this.label=t,this.unit=n,this.min=s,this.max=o,this.decimals=u,this.alarm=f??{warnLow:0,warnHigh:100,critLow:0,critHigh:100},this.color=d||"text-white",this.key=m}clamp(t){return Math.min(this.max,Math.max(this.min,t))}format(t){return typeof t!="number"||!isFinite(t)||t<0?"--":t.toFixed(this.decimals)}getStatus(t){return t<this.alarm.critLow?{level:"critical",bound:"low"}:t>this.alarm.critHigh?{level:"critical",bound:"high"}:t<this.alarm.warnLow?{level:"warning",bound:"low"}:t>this.alarm.warnHigh?{level:"warning",bound:"high"}:{level:"normal",bound:null}}isCritical(t){return t?t<this.alarm.critLow||t>this.alarm.critHigh:!1}isWarning(t){return t?t<this.alarm.warnLow&&t>=this.alarm.critLow||t>this.alarm.warnHigh&&t<=this.alarm.critHigh:!1}getColor(){return this.color||"text-white"}}const A_=new $o({key:"hr",label:"HR",unit:"/min",min:5,max:250,decimals:0,color:"text-green-400",alarm:{warnLow:50,warnHigh:120,critLow:30,critHigh:180}}),b_=new $o({key:"spo2",label:"SpO₂",unit:"%",min:0,max:100,decimals:0,color:"text-cyan-400",alarm:{warnLow:90,warnHigh:100,critLow:80,critHigh:100}}),E_=new $o({key:"nibp_sys",label:"SysBP",unit:"mmHg",min:30,max:250,decimals:0,alarm:{warnLow:80,warnHigh:160,critLow:0,critHigh:300},color:"text-orange-400"}),T_=new $o({key:"nibp_dia",label:"DiaBP",unit:"mmHg",min:20,max:250,decimals:0,alarm:{warnLow:40,warnHigh:120,critLow:0,critHigh:300},color:"text-orange-400"}),S_=new $o({key:"etco2",label:"EtCO₂",unit:"mmHg",min:0,max:80,decimals:0,color:"text-yellow-400",alarm:{warnLow:30,warnHigh:50,critLow:0,critHigh:100}}),w_=new $o({key:"respRate",label:"RR",unit:"/min",min:0,max:40,decimals:0,color:"text-yellow-400",alarm:{warnLow:0,warnHigh:50,critLow:0,critHigh:100}}),zv={hr:A_,spo2:b_,nibp_sys:E_,nibp_dia:T_,etco2:S_,respRate:w_};class oS{constructor(t=1e3){_t(this,"lastTriggerAt",0);_t(this,"muteUntil",{normal:null,warning:null,critical:null});_t(this,"lastLevel","normal");_t(this,"lastStatuses",{hr:{level:"normal",bound:null},spo2:{level:"normal",bound:null},nibp_sys:{level:"normal",bound:null},nibp_dia:{level:"normal",bound:null}});this.intervalMs=t}evaluate(t){const n=Date.now();let s="normal";const o=[];let u=!1;const f=[];let d;for(const m of Object.keys(zv)){const g=zv[m],y=t[m];if(y==null||typeof y!="number"||y<0)continue;const{level:A,bound:E}=g.getStatus(y);A==="critical"?s="critical":A==="warning"&&s==="normal"&&(s="warning");const R=this.lastStatuses[m];A!=="normal"&&(A!==R.level||E!==R.bound)&&!this.isMuted(A)&&(u=!0,d||(d=m)),A==="critical"&&E&&o.push(`${this.capitalize(A)} ${E.toUpperCase()} ${g.label}`),A==="warning"&&E&&(o.push(`${E.toUpperCase()} ${g.label}`),f.push(m)),this.lastStatuses[m]={level:A,bound:E}}return u&&(this.lastTriggerAt=n,s==="critical"?this.muteUntil.critical=n+3e3:s==="warning"&&(this.muteUntil.warning=1/0)),this.lastLevel=s,{level:s,messages:o,shouldPlay:u,primaryWarningKey:d,activeWarningKeys:f.length>0?f:void 0}}isMuted(t){const n=this.muteUntil[t];return n!==null&&Date.now()<n}capitalize(t){return t.charAt(0).toUpperCase()+t.slice(1)}clearMute(t){this.muteUntil[t]=null}mute(t,n){console.log(`[AC]mute(${t}, ${n}) called.`);const s=Date.now();this.muteUntil[t]=t==="warning"?1/0:s+n}}let Xc=null,Sm=null;const xo=new Set,lS=(r,t,n,s=!0,o,u)=>{if(!t||!s)return;const f=Date.now();if(r==="normal"||Array.isArray(u)&&u.length===0){Xc||(Xc=f),f-Xc>3e3&&(t.paused||(t.pause(),console.log("🔕 Stopped alarm after normal sustained"))),xo.clear();return}if(r==="warning"){if(Array.isArray(u)){const y=new Set(u);for(const A of xo)y.has(A)||(xo.delete(A),console.log(`🔄 Unmuted ${A} (no longer active)`))}if(o){if(xo.has(o))return;xo.add(o)}else if(xo.size===0)console.log("⚠️ Warning with no key — triggering fallback alarm");else return}if(r==="critical"&&Sm&&f<Sm)return;Xc=null;const m=`${n}/sounds/alarm_${r}.mp3`;(t.src!==m||t.paused||t.ended||t.currentTime===0)&&(t.src!==m&&(t.pause(),t.src=m),t.currentTime=0,t.volume=1,t.muted=!1,t.play().catch(y=>{console.warn("Alarm play failed:",y)}))},mf=(r,t)=>{r&&(r.paused||(r.pause(),console.log("🔕 Alarm manually stopped")),t==="critical"&&(Sm=Date.now()+3e3,console.log("⏱️ Critical alarm will resume in 3 sec")))};function R_(r,t){const[n,s]=M.useState("normal"),[o,u]=M.useState([]),[f,d]=M.useState(!1),m=M.useRef(null),g=M.useMemo(()=>new oS,[]);M.useEffect(()=>{const E={...r.getRaw(),hr:t},R=g.evaluate(E);s(R.level),u(R.messages),lS(R.level,m.current,"/pulsedom/",f,R.primaryWarningKey,R.activeWarningKeys)},[r,t,f]);const y=M.useCallback(()=>{mf(m.current,n),d(!1)},[n]),A=M.useCallback(()=>{d(E=>(E&&mf(m.current,n),!E))},[n]);return{alarmLevel:n,alarmMessages:o,isAlarmOn:f,toggleAlarm:A,stopAlarm:y}}function Fv(r){const{respRate:t,etco2:n,iiEndValue:s,riseSharpness:o=1.7,fallSharpness:u=1.3,dt:f=10,durationMs:d=6e4/t,fallExpSteps:m=8,fallExpAlpha:g=2.5}=r,y=Math.floor(d/f),A=new Array(y),E=Math.floor(.1*y),R=E+Math.floor(.4*y),B=R+Math.floor(.075*y);for(let k=0;k<y;++k)if(k<E){const N=k/E;A[k]=s*Math.pow(Math.sin(Math.PI*N/2),o)}else if(k<R){const N=(k-E)/(R-E),X=3*N*N-2*N*N*N;A[k]=s+(n-s)*X}else if(k<B-m){const N=(k-R)/(B-m-R);A[k]=n*Math.pow(Math.cos(Math.PI*N/2),u)}else if(k<B){const N=k-(B-m),X=A[B-m-1]??n*.2,$=N/(m-1);A[k]=X*Math.exp(-g*$)}else A[k]=0;return function(k){if(k<0||k>=d)return 0;const N=Math.floor(k/f);return A[N]??0}}class uS{constructor(t){_t(this,"respRate");_t(this,"etco2");_t(this,"durationMs");_t(this,"breathEndAtMs");_t(this,"currentWaveFn");_t(this,"nextWaveFn",null);_t(this,"nextDurationMs",null);_t(this,"lastBreathStartAtMs");this.respRate=t.respRate,this.etco2=t.etco2,this.durationMs=Math.max(6e4/this.respRate,200),this.breathEndAtMs=this.durationMs,this.lastBreathStartAtMs=0,this.breathEndAtMs=this.lastBreathStartAtMs+this.durationMs;const n=this.etco2-3;this.currentWaveFn=Fv({respRate:this.respRate,etco2:this.etco2,iiEndValue:n,durationMs:this.durationMs})}getEtco2(t){if(t>=this.breathEndAtMs)for(this.nextWaveFn&&this.nextDurationMs!==null&&(this.currentWaveFn=this.nextWaveFn,this.durationMs=this.nextDurationMs,this.nextWaveFn=null,this.nextDurationMs=null);t>=this.breathEndAtMs;)this.lastBreathStartAtMs=this.breathEndAtMs,this.breathEndAtMs=this.lastBreathStartAtMs+this.durationMs;const n=t-this.lastBreathStartAtMs;return this.currentWaveFn(n)}update(t){t.respRate!==void 0&&(this.respRate=t.respRate),t.etco2!==void 0&&(this.etco2=t.etco2),this.nextDurationMs=Math.max(6e4/this.respRate,200);const n=this.etco2-3;this.nextWaveFn=Fv({respRate:this.respRate,etco2:this.etco2,iiEndValue:n,durationMs:this.nextDurationMs})}}let cS=(r=21)=>crypto.getRandomValues(new Uint8Array(r)).reduce((t,n)=>(n&=63,n<36?t+=n.toString(36):n<62?t+=(n-26).toString(36).toUpperCase():n>62?t+="-":t+="_",t),"");const fS=()=>{};var Hv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},hS=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],d=r[n++],m=((o&7)<<18|(u&63)<<12|(f&63)<<6|d&63)-65536;t[s++]=String.fromCharCode(55296+(m>>10)),t[s++]=String.fromCharCode(56320+(m&1023))}else{const u=r[n++],f=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},x_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,d=f?r[o+1]:0,m=o+2<r.length,g=m?r[o+2]:0,y=u>>2,A=(u&3)<<4|d>>4;let E=(d&15)<<2|g>>6,R=g&63;m||(R=64,f||(E=64)),s.push(n[y],n[A],n[E],n[R])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(M_(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):hS(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],d=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const A=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||d==null||g==null||A==null)throw new dS;const E=u<<2|d>>4;if(s.push(E),g!==64){const R=d<<4&240|g>>2;if(s.push(R),A!==64){const B=g<<6&192|A;s.push(B)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class dS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mS=function(r){const t=M_(r);return x_.encodeByteArray(t,!0)},pf=function(r){return mS(r).replace(/\./g,"")},pS=function(r){try{return x_.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS=()=>gS().__FIREBASE_DEFAULTS__,vS=()=>{if(typeof process>"u"||typeof Hv>"u")return;const r=Hv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},_S=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&pS(r[1]);return t&&JSON.parse(t)},hp=()=>{try{return fS()||yS()||vS()||_S()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},AS=r=>{var t,n;return(n=(t=hp())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[r]},bS=r=>{const t=AS(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},V_=()=>{var r;return(r=hp())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dp(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function TS(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SS(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[pf(JSON.stringify(n)),pf(JSON.stringify(f)),""].join(".")}const lu={};function wS(){const r={prod:[],emulator:[]};for(const t of Object.keys(lu))lu[t]?r.emulator.push(t):r.prod.push(t);return r}function RS(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let qv=!1;function MS(r,t){if(typeof window>"u"||typeof document>"u"||!dp(window.location.host)||lu[r]===t||lu[r]||qv)return;lu[r]=t;function n(E){return`__firebase__banner__${E}`}const s="__firebase__banner",u=wS().prod.length>0;function f(){const E=document.getElementById(s);E&&E.remove()}function d(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function m(E,R){E.setAttribute("width","24"),E.setAttribute("id",R),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function g(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{qv=!0,f()},E}function y(E,R){E.setAttribute("id",R),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function A(){const E=RS(s),R=n("text"),B=document.getElementById(R)||document.createElement("span"),k=n("learnmore"),N=document.getElementById(k)||document.createElement("a"),X=n("preprendIcon"),$=document.getElementById(X)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const et=E.element;d(et),y(N,k);const ot=g();m($,X),et.append($,B,N,ot),document.body.appendChild(et)}u?(B.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,B.innerText="Preview backend running in this workspace."),B.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function VS(){var r;const t=(r=hp())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function CS(){return!VS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function IS(){try{return typeof indexedDB=="object"}catch{return!1}}function LS(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS="FirebaseError";class Qo extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=NS,Object.setPrototypeOf(this,Qo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,C_.prototype.create)}}class C_{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?PS(u,s):"Error",d=`${this.serviceName}: ${f} (${o}).`;return new Qo(o,d,s)}}function PS(r,t){return r.replace(OS,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const OS=/\{\$([^}]+)}/g;function gf(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=t[o];if(Gv(u)&&Gv(f)){if(!gf(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Gv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gs(r){return r&&r._delegate?r._delegate:r}class pu{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let DS=class{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new ES;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(kS(t))try{this.getOrInitializeService({instanceIdentifier:Ia})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=Ia){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ia){return this.instances.has(t)}getOptions(t=Ia){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);s===d&&f.resolve(o)}return o}onInit(t,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(t),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&t(f,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:BS(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Ia){return this.component?this.component.multipleInstances?t:Ia:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function BS(r){return r===Ia?void 0:r}function kS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new DS(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var te;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(te||(te={}));const US={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},zS=te.INFO,FS={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},HS=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=FS[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class I_{constructor(t){this.name=t,this._logLevel=zS,this._logHandler=HS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in te))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?US[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...t),this._logHandler(this,te.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...t),this._logHandler(this,te.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,te.INFO,...t),this._logHandler(this,te.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,te.WARN,...t),this._logHandler(this,te.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...t),this._logHandler(this,te.ERROR,...t)}}const qS=(r,t)=>t.some(n=>r instanceof n);let $v,Qv;function GS(){return $v||($v=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $S(){return Qv||(Qv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const L_=new WeakMap,wm=new WeakMap,N_=new WeakMap,lm=new WeakMap,mp=new WeakMap;function QS(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(zs(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&L_.set(n,r)}).catch(()=>{}),mp.set(t,r),t}function YS(r){if(wm.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});wm.set(r,t)}let Rm={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return wm.get(r);if(t==="objectStoreNames")return r.objectStoreNames||N_.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zs(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function XS(r){Rm=r(Rm)}function KS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(um(this),t,...n);return N_.set(s,t.sort?t.sort():[t]),zs(s)}:$S().includes(r)?function(...t){return r.apply(um(this),t),zs(L_.get(this))}:function(...t){return zs(r.apply(um(this),t))}}function WS(r){return typeof r=="function"?KS(r):(r instanceof IDBTransaction&&YS(r),qS(r,GS())?new Proxy(r,Rm):r)}function zs(r){if(r instanceof IDBRequest)return QS(r);if(lm.has(r))return lm.get(r);const t=WS(r);return t!==r&&(lm.set(r,t),mp.set(t,r)),t}const um=r=>mp.get(r);function ZS(r,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),d=zs(f);return s&&f.addEventListener("upgradeneeded",m=>{s(zs(f.result),m.oldVersion,m.newVersion,zs(f.transaction),m)}),n&&f.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),d.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const JS=["get","getKey","getAll","getAllKeys","count"],tw=["put","add","delete","clear"],cm=new Map;function Yv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(cm.get(t))return cm.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=tw.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||JS.includes(n)))return;const u=async function(f,...d){const m=this.transaction(f,o?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[n](...d),o&&m.done]))[0]};return cm.set(t,u),u}XS(r=>({...r,get:(t,n,s)=>Yv(t,n)||r.get(t,n,s),has:(t,n)=>!!Yv(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(nw(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function nw(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Mm="@firebase/app",Xv="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es=new I_("@firebase/app"),rw="@firebase/app-compat",iw="@firebase/analytics-compat",sw="@firebase/analytics",aw="@firebase/app-check-compat",ow="@firebase/app-check",lw="@firebase/auth",uw="@firebase/auth-compat",cw="@firebase/database",fw="@firebase/data-connect",hw="@firebase/database-compat",dw="@firebase/functions",mw="@firebase/functions-compat",pw="@firebase/installations",gw="@firebase/installations-compat",yw="@firebase/messaging",vw="@firebase/messaging-compat",_w="@firebase/performance",Aw="@firebase/performance-compat",bw="@firebase/remote-config",Ew="@firebase/remote-config-compat",Tw="@firebase/storage",Sw="@firebase/storage-compat",ww="@firebase/firestore",Rw="@firebase/ai",Mw="@firebase/firestore-compat",xw="firebase",Vw="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xm="[DEFAULT]",Cw={[Mm]:"fire-core",[rw]:"fire-core-compat",[sw]:"fire-analytics",[iw]:"fire-analytics-compat",[ow]:"fire-app-check",[aw]:"fire-app-check-compat",[lw]:"fire-auth",[uw]:"fire-auth-compat",[cw]:"fire-rtdb",[fw]:"fire-data-connect",[hw]:"fire-rtdb-compat",[dw]:"fire-fn",[mw]:"fire-fn-compat",[pw]:"fire-iid",[gw]:"fire-iid-compat",[yw]:"fire-fcm",[vw]:"fire-fcm-compat",[_w]:"fire-perf",[Aw]:"fire-perf-compat",[bw]:"fire-rc",[Ew]:"fire-rc-compat",[Tw]:"fire-gcs",[Sw]:"fire-gcs-compat",[ww]:"fire-fst",[Mw]:"fire-fst-compat",[Rw]:"fire-vertex","fire-js":"fire-js",[xw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yf=new Map,Iw=new Map,Vm=new Map;function Kv(r,t){try{r.container.addComponent(t)}catch(n){es.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function vf(r){const t=r.name;if(Vm.has(t))return es.debug(`There were multiple attempts to register component ${t}.`),!1;Vm.set(t,r);for(const n of yf.values())Kv(n,r);for(const n of Iw.values())Kv(n,r);return!0}function Lw(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function Nw(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fs=new C_("app","Firebase",Pw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new pu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Fs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw=Vw;function P_(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s=Object.assign({name:xm,automaticDataCollectionEnabled:!0},t),o=s.name;if(typeof o!="string"||!o)throw Fs.create("bad-app-name",{appName:String(o)});if(n||(n=V_()),!n)throw Fs.create("no-options");const u=yf.get(o);if(u){if(gf(n,u.options)&&gf(s,u.config))return u;throw Fs.create("duplicate-app",{appName:o})}const f=new jS(o);for(const m of Vm.values())f.addComponent(m);const d=new Ow(n,s,f);return yf.set(o,d),d}function Bw(r=xm){const t=yf.get(r);if(!t&&r===xm&&V_())return P_();if(!t)throw Fs.create("no-app",{appName:r});return t}function Po(r,t,n){var s;let o=(s=Cw[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=t.match(/\s|\//);if(u||f){const d=[`Unable to register library "${o}" with version "${t}":`];u&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&d.push("and"),f&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),es.warn(d.join(" "));return}vf(new pu(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw="firebase-heartbeat-database",jw=1,gu="firebase-heartbeat-store";let fm=null;function O_(){return fm||(fm=ZS(kw,jw,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(gu)}catch(n){console.warn(n)}}}}).catch(r=>{throw Fs.create("idb-open",{originalErrorMessage:r.message})})),fm}async function Uw(r){try{const n=(await O_()).transaction(gu),s=await n.objectStore(gu).get(D_(r));return await n.done,s}catch(t){if(t instanceof Qo)es.warn(t.message);else{const n=Fs.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});es.warn(n.message)}}}async function Wv(r,t){try{const s=(await O_()).transaction(gu,"readwrite");await s.objectStore(gu).put(t,D_(r)),await s.done}catch(n){if(n instanceof Qo)es.warn(n.message);else{const s=Fs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});es.warn(s.message)}}}function D_(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw=1024,Fw=30;class Hw{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Gw(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Zv();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>Fw){const f=$w(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){es.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Zv(),{heartbeatsToSend:s,unsentEntries:o}=qw(this._heartbeatsCache.heartbeats),u=pf(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return es.warn(n),""}}}function Zv(){return new Date().toISOString().substring(0,10)}function qw(r,t=zw){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Jv(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Jv(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Gw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return IS()?LS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Uw(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Wv(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Wv(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function Jv(r){return pf(JSON.stringify({version:2,heartbeats:r})).length}function $w(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(r){vf(new pu("platform-logger",t=>new ew(t),"PRIVATE")),vf(new pu("heartbeat",t=>new Hw(t),"PRIVATE")),Po(Mm,Xv,r),Po(Mm,Xv,"esm2017"),Po("fire-js","")}Qw("");var t1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hs,B_;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(I,S){function V(){}V.prototype=S.prototype,I.D=S.prototype,I.prototype=new V,I.prototype.constructor=I,I.C=function(D,j,U){for(var C=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)C[Ot-2]=arguments[Ot];return S.prototype[j].apply(D,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,S,V){V||(V=0);var D=Array(16);if(typeof S=="string")for(var j=0;16>j;++j)D[j]=S.charCodeAt(V++)|S.charCodeAt(V++)<<8|S.charCodeAt(V++)<<16|S.charCodeAt(V++)<<24;else for(j=0;16>j;++j)D[j]=S[V++]|S[V++]<<8|S[V++]<<16|S[V++]<<24;S=I.g[0],V=I.g[1],j=I.g[2];var U=I.g[3],C=S+(U^V&(j^U))+D[0]+3614090360&4294967295;S=V+(C<<7&4294967295|C>>>25),C=U+(j^S&(V^j))+D[1]+3905402710&4294967295,U=S+(C<<12&4294967295|C>>>20),C=j+(V^U&(S^V))+D[2]+606105819&4294967295,j=U+(C<<17&4294967295|C>>>15),C=V+(S^j&(U^S))+D[3]+3250441966&4294967295,V=j+(C<<22&4294967295|C>>>10),C=S+(U^V&(j^U))+D[4]+4118548399&4294967295,S=V+(C<<7&4294967295|C>>>25),C=U+(j^S&(V^j))+D[5]+1200080426&4294967295,U=S+(C<<12&4294967295|C>>>20),C=j+(V^U&(S^V))+D[6]+2821735955&4294967295,j=U+(C<<17&4294967295|C>>>15),C=V+(S^j&(U^S))+D[7]+4249261313&4294967295,V=j+(C<<22&4294967295|C>>>10),C=S+(U^V&(j^U))+D[8]+1770035416&4294967295,S=V+(C<<7&4294967295|C>>>25),C=U+(j^S&(V^j))+D[9]+2336552879&4294967295,U=S+(C<<12&4294967295|C>>>20),C=j+(V^U&(S^V))+D[10]+4294925233&4294967295,j=U+(C<<17&4294967295|C>>>15),C=V+(S^j&(U^S))+D[11]+2304563134&4294967295,V=j+(C<<22&4294967295|C>>>10),C=S+(U^V&(j^U))+D[12]+1804603682&4294967295,S=V+(C<<7&4294967295|C>>>25),C=U+(j^S&(V^j))+D[13]+4254626195&4294967295,U=S+(C<<12&4294967295|C>>>20),C=j+(V^U&(S^V))+D[14]+2792965006&4294967295,j=U+(C<<17&4294967295|C>>>15),C=V+(S^j&(U^S))+D[15]+1236535329&4294967295,V=j+(C<<22&4294967295|C>>>10),C=S+(j^U&(V^j))+D[1]+4129170786&4294967295,S=V+(C<<5&4294967295|C>>>27),C=U+(V^j&(S^V))+D[6]+3225465664&4294967295,U=S+(C<<9&4294967295|C>>>23),C=j+(S^V&(U^S))+D[11]+643717713&4294967295,j=U+(C<<14&4294967295|C>>>18),C=V+(U^S&(j^U))+D[0]+3921069994&4294967295,V=j+(C<<20&4294967295|C>>>12),C=S+(j^U&(V^j))+D[5]+3593408605&4294967295,S=V+(C<<5&4294967295|C>>>27),C=U+(V^j&(S^V))+D[10]+38016083&4294967295,U=S+(C<<9&4294967295|C>>>23),C=j+(S^V&(U^S))+D[15]+3634488961&4294967295,j=U+(C<<14&4294967295|C>>>18),C=V+(U^S&(j^U))+D[4]+3889429448&4294967295,V=j+(C<<20&4294967295|C>>>12),C=S+(j^U&(V^j))+D[9]+568446438&4294967295,S=V+(C<<5&4294967295|C>>>27),C=U+(V^j&(S^V))+D[14]+3275163606&4294967295,U=S+(C<<9&4294967295|C>>>23),C=j+(S^V&(U^S))+D[3]+4107603335&4294967295,j=U+(C<<14&4294967295|C>>>18),C=V+(U^S&(j^U))+D[8]+1163531501&4294967295,V=j+(C<<20&4294967295|C>>>12),C=S+(j^U&(V^j))+D[13]+2850285829&4294967295,S=V+(C<<5&4294967295|C>>>27),C=U+(V^j&(S^V))+D[2]+4243563512&4294967295,U=S+(C<<9&4294967295|C>>>23),C=j+(S^V&(U^S))+D[7]+1735328473&4294967295,j=U+(C<<14&4294967295|C>>>18),C=V+(U^S&(j^U))+D[12]+2368359562&4294967295,V=j+(C<<20&4294967295|C>>>12),C=S+(V^j^U)+D[5]+4294588738&4294967295,S=V+(C<<4&4294967295|C>>>28),C=U+(S^V^j)+D[8]+2272392833&4294967295,U=S+(C<<11&4294967295|C>>>21),C=j+(U^S^V)+D[11]+1839030562&4294967295,j=U+(C<<16&4294967295|C>>>16),C=V+(j^U^S)+D[14]+4259657740&4294967295,V=j+(C<<23&4294967295|C>>>9),C=S+(V^j^U)+D[1]+2763975236&4294967295,S=V+(C<<4&4294967295|C>>>28),C=U+(S^V^j)+D[4]+1272893353&4294967295,U=S+(C<<11&4294967295|C>>>21),C=j+(U^S^V)+D[7]+4139469664&4294967295,j=U+(C<<16&4294967295|C>>>16),C=V+(j^U^S)+D[10]+3200236656&4294967295,V=j+(C<<23&4294967295|C>>>9),C=S+(V^j^U)+D[13]+681279174&4294967295,S=V+(C<<4&4294967295|C>>>28),C=U+(S^V^j)+D[0]+3936430074&4294967295,U=S+(C<<11&4294967295|C>>>21),C=j+(U^S^V)+D[3]+3572445317&4294967295,j=U+(C<<16&4294967295|C>>>16),C=V+(j^U^S)+D[6]+76029189&4294967295,V=j+(C<<23&4294967295|C>>>9),C=S+(V^j^U)+D[9]+3654602809&4294967295,S=V+(C<<4&4294967295|C>>>28),C=U+(S^V^j)+D[12]+3873151461&4294967295,U=S+(C<<11&4294967295|C>>>21),C=j+(U^S^V)+D[15]+530742520&4294967295,j=U+(C<<16&4294967295|C>>>16),C=V+(j^U^S)+D[2]+3299628645&4294967295,V=j+(C<<23&4294967295|C>>>9),C=S+(j^(V|~U))+D[0]+4096336452&4294967295,S=V+(C<<6&4294967295|C>>>26),C=U+(V^(S|~j))+D[7]+1126891415&4294967295,U=S+(C<<10&4294967295|C>>>22),C=j+(S^(U|~V))+D[14]+2878612391&4294967295,j=U+(C<<15&4294967295|C>>>17),C=V+(U^(j|~S))+D[5]+4237533241&4294967295,V=j+(C<<21&4294967295|C>>>11),C=S+(j^(V|~U))+D[12]+1700485571&4294967295,S=V+(C<<6&4294967295|C>>>26),C=U+(V^(S|~j))+D[3]+2399980690&4294967295,U=S+(C<<10&4294967295|C>>>22),C=j+(S^(U|~V))+D[10]+4293915773&4294967295,j=U+(C<<15&4294967295|C>>>17),C=V+(U^(j|~S))+D[1]+2240044497&4294967295,V=j+(C<<21&4294967295|C>>>11),C=S+(j^(V|~U))+D[8]+1873313359&4294967295,S=V+(C<<6&4294967295|C>>>26),C=U+(V^(S|~j))+D[15]+4264355552&4294967295,U=S+(C<<10&4294967295|C>>>22),C=j+(S^(U|~V))+D[6]+2734768916&4294967295,j=U+(C<<15&4294967295|C>>>17),C=V+(U^(j|~S))+D[13]+1309151649&4294967295,V=j+(C<<21&4294967295|C>>>11),C=S+(j^(V|~U))+D[4]+4149444226&4294967295,S=V+(C<<6&4294967295|C>>>26),C=U+(V^(S|~j))+D[11]+3174756917&4294967295,U=S+(C<<10&4294967295|C>>>22),C=j+(S^(U|~V))+D[2]+718787259&4294967295,j=U+(C<<15&4294967295|C>>>17),C=V+(U^(j|~S))+D[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(j+(C<<21&4294967295|C>>>11))&4294967295,I.g[2]=I.g[2]+j&4294967295,I.g[3]=I.g[3]+U&4294967295}s.prototype.u=function(I,S){S===void 0&&(S=I.length);for(var V=S-this.blockSize,D=this.B,j=this.h,U=0;U<S;){if(j==0)for(;U<=V;)o(this,I,U),U+=this.blockSize;if(typeof I=="string"){for(;U<S;)if(D[j++]=I.charCodeAt(U++),j==this.blockSize){o(this,D),j=0;break}}else for(;U<S;)if(D[j++]=I[U++],j==this.blockSize){o(this,D),j=0;break}}this.h=j,this.o+=S},s.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;var V=8*this.o;for(S=I.length-8;S<I.length;++S)I[S]=V&255,V/=256;for(this.u(I),I=Array(16),S=V=0;4>S;++S)for(var D=0;32>D;D+=8)I[V++]=this.g[S]>>>D&255;return I};function u(I,S){var V=d;return Object.prototype.hasOwnProperty.call(V,I)?V[I]:V[I]=S(I)}function f(I,S){this.h=S;for(var V=[],D=!0,j=I.length-1;0<=j;j--){var U=I[j]|0;D&&U==S||(V[j]=U,D=!1)}this.g=V}var d={};function m(I){return-128<=I&&128>I?u(I,function(S){return new f([S|0],0>S?-1:0)}):new f([I|0],0>I?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return A;if(0>I)return N(g(-I));for(var S=[],V=1,D=0;I>=V;D++)S[D]=I/V|0,V*=4294967296;return new f(S,0)}function y(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return N(y(I.substring(1),S));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var V=g(Math.pow(S,8)),D=A,j=0;j<I.length;j+=8){var U=Math.min(8,I.length-j),C=parseInt(I.substring(j,j+U),S);8>U?(U=g(Math.pow(S,U)),D=D.j(U).add(g(C))):(D=D.j(V),D=D.add(g(C)))}return D}var A=m(0),E=m(1),R=m(16777216);r=f.prototype,r.m=function(){if(k(this))return-N(this).m();for(var I=0,S=1,V=0;V<this.g.length;V++){var D=this.i(V);I+=(0<=D?D:4294967296+D)*S,S*=4294967296}return I},r.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(B(this))return"0";if(k(this))return"-"+N(this).toString(I);for(var S=g(Math.pow(I,6)),V=this,D="";;){var j=ot(V,S).g;V=X(V,j.j(S));var U=((0<V.g.length?V.g[0]:V.h)>>>0).toString(I);if(V=j,B(V))return U+D;for(;6>U.length;)U="0"+U;D=U+D}},r.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function B(I){if(I.h!=0)return!1;for(var S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function k(I){return I.h==-1}r.l=function(I){return I=X(this,I),k(I)?-1:B(I)?0:1};function N(I){for(var S=I.g.length,V=[],D=0;D<S;D++)V[D]=~I.g[D];return new f(V,~I.h).add(E)}r.abs=function(){return k(this)?N(this):this},r.add=function(I){for(var S=Math.max(this.g.length,I.g.length),V=[],D=0,j=0;j<=S;j++){var U=D+(this.i(j)&65535)+(I.i(j)&65535),C=(U>>>16)+(this.i(j)>>>16)+(I.i(j)>>>16);D=C>>>16,U&=65535,C&=65535,V[j]=C<<16|U}return new f(V,V[V.length-1]&-2147483648?-1:0)};function X(I,S){return I.add(N(S))}r.j=function(I){if(B(this)||B(I))return A;if(k(this))return k(I)?N(this).j(N(I)):N(N(this).j(I));if(k(I))return N(this.j(N(I)));if(0>this.l(R)&&0>I.l(R))return g(this.m()*I.m());for(var S=this.g.length+I.g.length,V=[],D=0;D<2*S;D++)V[D]=0;for(D=0;D<this.g.length;D++)for(var j=0;j<I.g.length;j++){var U=this.i(D)>>>16,C=this.i(D)&65535,Ot=I.i(j)>>>16,Et=I.i(j)&65535;V[2*D+2*j]+=C*Et,$(V,2*D+2*j),V[2*D+2*j+1]+=U*Et,$(V,2*D+2*j+1),V[2*D+2*j+1]+=C*Ot,$(V,2*D+2*j+1),V[2*D+2*j+2]+=U*Ot,$(V,2*D+2*j+2)}for(D=0;D<S;D++)V[D]=V[2*D+1]<<16|V[2*D];for(D=S;D<2*S;D++)V[D]=0;return new f(V,0)};function $(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function et(I,S){this.g=I,this.h=S}function ot(I,S){if(B(S))throw Error("division by zero");if(B(I))return new et(A,A);if(k(I))return S=ot(N(I),S),new et(N(S.g),N(S.h));if(k(S))return S=ot(I,N(S)),new et(N(S.g),S.h);if(30<I.g.length){if(k(I)||k(S))throw Error("slowDivide_ only works with positive integers.");for(var V=E,D=S;0>=D.l(I);)V=st(V),D=st(D);var j=ht(V,1),U=ht(D,1);for(D=ht(D,2),V=ht(V,2);!B(D);){var C=U.add(D);0>=C.l(I)&&(j=j.add(V),U=C),D=ht(D,1),V=ht(V,1)}return S=X(I,j.j(S)),new et(j,S)}for(j=A;0<=I.l(S);){for(V=Math.max(1,Math.floor(I.m()/S.m())),D=Math.ceil(Math.log(V)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),U=g(V),C=U.j(S);k(C)||0<C.l(I);)V-=D,U=g(V),C=U.j(S);B(U)&&(U=E),j=j.add(U),I=X(I,C)}return new et(j,I)}r.A=function(I){return ot(this,I).h},r.and=function(I){for(var S=Math.max(this.g.length,I.g.length),V=[],D=0;D<S;D++)V[D]=this.i(D)&I.i(D);return new f(V,this.h&I.h)},r.or=function(I){for(var S=Math.max(this.g.length,I.g.length),V=[],D=0;D<S;D++)V[D]=this.i(D)|I.i(D);return new f(V,this.h|I.h)},r.xor=function(I){for(var S=Math.max(this.g.length,I.g.length),V=[],D=0;D<S;D++)V[D]=this.i(D)^I.i(D);return new f(V,this.h^I.h)};function st(I){for(var S=I.g.length+1,V=[],D=0;D<S;D++)V[D]=I.i(D)<<1|I.i(D-1)>>>31;return new f(V,I.h)}function ht(I,S){var V=S>>5;S%=32;for(var D=I.g.length-V,j=[],U=0;U<D;U++)j[U]=0<S?I.i(U+V)>>>S|I.i(U+V+1)<<32-S:I.i(U+V);return new f(j,I.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,B_=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=y,Hs=f}).apply(typeof t1<"u"?t1:typeof self<"u"?self:typeof window<"u"?window:{});var Kc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var k_,Jl,j_,af,Cm,U_,z_,F_;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,v,_){return c==Array.prototype||c==Object.prototype||(c[v]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Kc=="object"&&Kc];for(var v=0;v<c.length;++v){var _=c[v];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,v){if(v)t:{var _=s;c=c.split(".");for(var w=0;w<c.length-1;w++){var G=c[w];if(!(G in _))break t;_=_[G]}c=c[c.length-1],w=_[c],v=v(w),v!=w&&v!=null&&t(_,c,{configurable:!0,writable:!0,value:v})}}function u(c,v){c instanceof String&&(c+="");var _=0,w=!1,G={next:function(){if(!w&&_<c.length){var J=_++;return{value:v(J,c[J]),done:!1}}return w=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}o("Array.prototype.values",function(c){return c||function(){return u(this,function(v,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},d=this||self;function m(c){var v=typeof c;return v=v!="object"?v:c?Array.isArray(c)?"array":v:"null",v=="array"||v=="object"&&typeof c.length=="number"}function g(c){var v=typeof c;return v=="object"&&c!=null||v=="function"}function y(c,v,_){return c.call.apply(c.bind,arguments)}function A(c,v,_){if(!c)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,w),c.apply(v,G)}}return function(){return c.apply(v,arguments)}}function E(c,v,_){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:A,E.apply(null,arguments)}function R(c,v){var _=Array.prototype.slice.call(arguments,1);return function(){var w=_.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function B(c,v){function _(){}_.prototype=v.prototype,c.aa=v.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(w,G,J){for(var pt=Array(arguments.length-2),Kt=2;Kt<arguments.length;Kt++)pt[Kt-2]=arguments[Kt];return v.prototype[G].apply(w,pt)}}function k(c){const v=c.length;if(0<v){const _=Array(v);for(let w=0;w<v;w++)_[w]=c[w];return _}return[]}function N(c,v){for(let _=1;_<arguments.length;_++){const w=arguments[_];if(m(w)){const G=c.length||0,J=w.length||0;c.length=G+J;for(let pt=0;pt<J;pt++)c[G+pt]=w[pt]}else c.push(w)}}class X{constructor(v,_){this.i=v,this.j=_,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function $(c){return/^[\s\xa0]*$/.test(c)}function et(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function ot(c){return ot[" "](c),c}ot[" "]=function(){};var st=et().indexOf("Gecko")!=-1&&!(et().toLowerCase().indexOf("webkit")!=-1&&et().indexOf("Edge")==-1)&&!(et().indexOf("Trident")!=-1||et().indexOf("MSIE")!=-1)&&et().indexOf("Edge")==-1;function ht(c,v,_){for(const w in c)v.call(_,c[w],w,c)}function I(c,v){for(const _ in c)v.call(void 0,c[_],_,c)}function S(c){const v={};for(const _ in c)v[_]=c[_];return v}const V="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,v){let _,w;for(let G=1;G<arguments.length;G++){w=arguments[G];for(_ in w)c[_]=w[_];for(let J=0;J<V.length;J++)_=V[J],Object.prototype.hasOwnProperty.call(w,_)&&(c[_]=w[_])}}function j(c){var v=1;c=c.split(":");const _=[];for(;0<v&&c.length;)_.push(c.shift()),v--;return c.length&&_.push(c.join(":")),_}function U(c){d.setTimeout(()=>{throw c},0)}function C(){var c=Rt;let v=null;return c.g&&(v=c.g,c.g=c.g.next,c.g||(c.h=null),v.next=null),v}class Ot{constructor(){this.h=this.g=null}add(v,_){const w=Et.get();w.set(v,_),this.h?this.h.next=w:this.g=w,this.h=w}}var Et=new X(()=>new q,c=>c.reset());class q{constructor(){this.next=this.g=this.h=null}set(v,_){this.h=v,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let at,Z=!1,Rt=new Ot,P=()=>{const c=d.Promise.resolve(void 0);at=()=>{c.then(rt)}};var rt=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(_){U(_)}var v=Et;v.j(c),100>v.h&&(v.h++,c.next=v.g,v.g=c)}Z=!1};function mt(){this.s=this.s,this.C=this.C}mt.prototype.s=!1,mt.prototype.ma=function(){this.s||(this.s=!0,this.N())},mt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function lt(c,v){this.type=c,this.g=this.target=v,this.defaultPrevented=!1}lt.prototype.h=function(){this.defaultPrevented=!0};var gt=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,v=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};d.addEventListener("test",_,v),d.removeEventListener("test",_,v)}catch{}return c}();function yt(c,v){if(lt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=v,v=c.relatedTarget){if(st){t:{try{ot(v.nodeName);var G=!0;break t}catch{}G=!1}G||(v=null)}}else _=="mouseover"?v=c.fromElement:_=="mouseout"&&(v=c.toElement);this.relatedTarget=v,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Vt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&yt.aa.h.call(this)}}B(yt,lt);var Vt={2:"touch",3:"pen",4:"mouse"};yt.prototype.h=function(){yt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var kt="closure_listenable_"+(1e6*Math.random()|0),dt=0;function Ut(c,v,_,w,G){this.listener=c,this.proxy=null,this.src=v,this.type=_,this.capture=!!w,this.ha=G,this.key=++dt,this.da=this.fa=!1}function me(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Se(c){this.src=c,this.g={},this.h=0}Se.prototype.add=function(c,v,_,w,G){var J=c.toString();c=this.g[J],c||(c=this.g[J]=[],this.h++);var pt=bn(c,v,w,G);return-1<pt?(v=c[pt],_||(v.fa=!1)):(v=new Ut(v,this.src,J,!!w,G),v.fa=_,c.push(v)),v};function pe(c,v){var _=v.type;if(_ in c.g){var w=c.g[_],G=Array.prototype.indexOf.call(w,v,void 0),J;(J=0<=G)&&Array.prototype.splice.call(w,G,1),J&&(me(v),c.g[_].length==0&&(delete c.g[_],c.h--))}}function bn(c,v,_,w){for(var G=0;G<c.length;++G){var J=c[G];if(!J.da&&J.listener==v&&J.capture==!!_&&J.ha==w)return G}return-1}var Jn="closure_lm_"+(1e6*Math.random()|0),Mi={};function as(c,v,_,w,G){if(Array.isArray(v)){for(var J=0;J<v.length;J++)as(c,v[J],_,w,G);return null}return _=za(_),c&&c[kt]?c.K(v,_,g(w)?!!w.capture:!1,G):En(c,v,_,!1,w,G)}function En(c,v,_,w,G,J){if(!v)throw Error("Invalid event type");var pt=g(G)?!!G.capture:!!G,Kt=ls(c);if(Kt||(c[Jn]=Kt=new Se(c)),_=Kt.add(v,_,w,pt,J),_.proxy)return _;if(w=ia(),_.proxy=w,w.src=c,w.listener=_,c.addEventListener)gt||(G=pt),G===void 0&&(G=!1),c.addEventListener(v.toString(),w,G);else if(c.attachEvent)c.attachEvent(xi(v.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return _}function ia(){function c(_){return v.call(c.src,c.listener,_)}const v=nl;return c}function pr(c,v,_,w,G){if(Array.isArray(v))for(var J=0;J<v.length;J++)pr(c,v[J],_,w,G);else w=g(w)?!!w.capture:!!w,_=za(_),c&&c[kt]?(c=c.i,v=String(v).toString(),v in c.g&&(J=c.g[v],_=bn(J,_,w,G),-1<_&&(me(J[_]),Array.prototype.splice.call(J,_,1),J.length==0&&(delete c.g[v],c.h--)))):c&&(c=ls(c))&&(v=c.g[v.toString()],c=-1,v&&(c=bn(v,_,w,G)),(_=-1<c?v[c]:null)&&os(_))}function os(c){if(typeof c!="number"&&c&&!c.da){var v=c.src;if(v&&v[kt])pe(v.i,c);else{var _=c.type,w=c.proxy;v.removeEventListener?v.removeEventListener(_,w,c.capture):v.detachEvent?v.detachEvent(xi(_),w):v.addListener&&v.removeListener&&v.removeListener(w),(_=ls(v))?(pe(_,c),_.h==0&&(_.src=null,v[Jn]=null)):me(c)}}}function xi(c){return c in Mi?Mi[c]:Mi[c]="on"+c}function nl(c,v){if(c.da)c=!0;else{v=new yt(v,this);var _=c.listener,w=c.ha||c.src;c.fa&&os(c),c=_.call(w,v)}return c}function ls(c){return c=c[Jn],c instanceof Se?c:null}var sa="__closure_events_fn_"+(1e9*Math.random()>>>0);function za(c){return typeof c=="function"?c:(c[sa]||(c[sa]=function(v){return c.handleEvent(v)}),c[sa])}function Ee(){mt.call(this),this.i=new Se(this),this.M=this,this.F=null}B(Ee,mt),Ee.prototype[kt]=!0,Ee.prototype.removeEventListener=function(c,v,_,w){pr(this,c,v,_,w)};function Xt(c,v){var _,w=c.F;if(w)for(_=[];w;w=w.F)_.push(w);if(c=c.M,w=v.type||v,typeof v=="string")v=new lt(v,c);else if(v instanceof lt)v.target=v.target||c;else{var G=v;v=new lt(w,c),D(v,G)}if(G=!0,_)for(var J=_.length-1;0<=J;J--){var pt=v.g=_[J];G=ln(pt,w,!0,v)&&G}if(pt=v.g=c,G=ln(pt,w,!0,v)&&G,G=ln(pt,w,!1,v)&&G,_)for(J=0;J<_.length;J++)pt=v.g=_[J],G=ln(pt,w,!1,v)&&G}Ee.prototype.N=function(){if(Ee.aa.N.call(this),this.i){var c=this.i,v;for(v in c.g){for(var _=c.g[v],w=0;w<_.length;w++)me(_[w]);delete c.g[v],c.h--}}this.F=null},Ee.prototype.K=function(c,v,_,w){return this.i.add(String(c),v,!1,_,w)},Ee.prototype.L=function(c,v,_,w){return this.i.add(String(c),v,!0,_,w)};function ln(c,v,_,w){if(v=c.i.g[String(v)],!v)return!0;v=v.concat();for(var G=!0,J=0;J<v.length;++J){var pt=v[J];if(pt&&!pt.da&&pt.capture==_){var Kt=pt.listener,Ye=pt.ha||pt.src;pt.fa&&pe(c.i,pt),G=Kt.call(Ye,w)!==!1&&G}}return G&&!w.defaultPrevented}function Ge(c,v,_){if(typeof c=="function")_&&(c=E(c,_));else if(c&&typeof c.handleEvent=="function")c=E(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:d.setTimeout(c,v||0)}function Pn(c){c.g=Ge(()=>{c.g=null,c.i&&(c.i=!1,Pn(c))},c.l);const v=c.h;c.h=null,c.m.apply(null,v)}class Fa extends mt{constructor(v,_){super(),this.m=v,this.l=_,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Pn(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xr(c){mt.call(this),this.h=c,this.g={}}B(Xr,mt);var Vi=[];function Kr(c){ht(c.g,function(v,_){this.g.hasOwnProperty(_)&&os(v)},c),c.g={}}Xr.prototype.N=function(){Xr.aa.N.call(this),Kr(this)},Xr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Tn=d.JSON.stringify,Ci=d.JSON.parse,Wr=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function aa(){}aa.prototype.h=null;function tr(c){return c.h||(c.h=c.i())}function us(){}var Nr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Pr(){lt.call(this,"d")}B(Pr,lt);function Ii(){lt.call(this,"c")}B(Ii,lt);var Sn={},Li=null;function gr(){return Li=Li||new Ee}Sn.La="serverreachability";function Zr(c){lt.call(this,Sn.La,c)}B(Zr,lt);function zn(c){const v=gr();Xt(v,new Zr(v))}Sn.STAT_EVENT="statevent";function Ha(c,v){lt.call(this,Sn.STAT_EVENT,c),this.stat=v}B(Ha,lt);function ye(c){const v=gr();Xt(v,new Ha(v,c))}Sn.Ma="timingevent";function Pe(c,v){lt.call(this,Sn.Ma,c),this.size=v}B(Pe,lt);function Ve(c,v){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},v)}function Fn(){this.g=!0}Fn.prototype.xa=function(){this.g=!1};function cs(c,v,_,w,G,J){c.info(function(){if(c.g)if(J)for(var pt="",Kt=J.split("&"),Ye=0;Ye<Kt.length;Ye++){var Wt=Kt[Ye].split("=");if(1<Wt.length){var nn=Wt[0];Wt=Wt[1];var Xe=nn.split("_");pt=2<=Xe.length&&Xe[1]=="type"?pt+(nn+"="+Wt+"&"):pt+(nn+"=redacted&")}}else pt=null;else pt=J;return"XMLHTTP REQ ("+w+") [attempt "+G+"]: "+v+`
`+_+`
`+pt})}function oa(c,v,_,w,G,J,pt){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+G+"]: "+v+`
`+_+`
`+J+" "+pt})}function wn(c,v,_,w){c.info(function(){return"XMLHTTP TEXT ("+v+"): "+Ni(c,_)+(w?" "+w:"")})}function qa(c,v){c.info(function(){return"TIMEOUT: "+v})}Fn.prototype.info=function(){};function Ni(c,v){if(!c.g)return v;if(!v)return null;try{var _=JSON.parse(v);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var w=_[c];if(!(2>w.length)){var G=w[1];if(Array.isArray(G)&&!(1>G.length)){var J=G[0];if(J!="noop"&&J!="stop"&&J!="close")for(var pt=1;pt<G.length;pt++)G[pt]=""}}}}return Tn(_)}catch{return v}}var Jr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Or={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},yr;function ke(){}B(ke,aa),ke.prototype.g=function(){return new XMLHttpRequest},ke.prototype.i=function(){return{}},yr=new ke;function un(c,v,_,w){this.j=c,this.i=v,this.l=_,this.R=w||1,this.U=new Xr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new we}function we(){this.i=null,this.g="",this.h=!1}var la={},fs={};function er(c,v,_){c.L=1,c.v=ri(Dn(v)),c.m=_,c.P=!0,cn(c,null)}function cn(c,v){c.F=Date.now(),Pi(c),c.A=Dn(c.v);var _=c.A,w=c.R;Array.isArray(w)||(w=[String(w)]),fa(_.i,"t",w),c.C=0,_=c.j.J,c.h=new we,c.g=Hu(c.j,_?v:null,!c.m),0<c.O&&(c.M=new Fa(E(c.Y,c,c.g),c.O)),v=c.U,_=c.g,w=c.ca;var G="readystatechange";Array.isArray(G)||(G&&(Vi[0]=G.toString()),G=Vi);for(var J=0;J<G.length;J++){var pt=as(_,G[J],w||v.handleEvent,!1,v.h||v);if(!pt)break;v.g[pt.key]=pt}v=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,v)):(c.u="GET",c.g.ea(c.A,c.u,null,v)),zn(),cs(c.i,c.u,c.A,c.l,c.R,c.m)}un.prototype.ca=function(c){c=c.target;const v=this.M;v&&ve(c)==3?v.j():this.Y(c)},un.prototype.Y=function(c){try{if(c==this.g)t:{const Xe=ve(this.g);var v=this.g.Ba();const ji=this.g.Z();if(!(3>Xe)&&(Xe!=3||this.g&&(this.h.h||this.g.oa()||Rn(this.g)))){this.J||Xe!=4||v==7||(v==8||0>=ji?zn(3):zn(2)),ti(this);var _=this.g.Z();this.X=_;e:if(Ga(this)){var w=Rn(this.g);c="";var G=w.length,J=ve(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){$e(this),On(this);var pt="";break e}this.h.i=new d.TextDecoder}for(v=0;v<G;v++)this.h.h=!0,c+=this.h.i.decode(w[v],{stream:!(J&&v==G-1)});w.length=0,this.h.g+=c,this.C=0,pt=this.h.g}else pt=this.g.oa();if(this.o=_==200,oa(this.i,this.u,this.A,this.l,this.R,Xe,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Kt,Ye=this.g;if((Kt=Ye.g?Ye.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(Kt)){var Wt=Kt;break e}}Wt=null}if(_=Wt)wn(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Oi(this,_);else{this.o=!1,this.s=3,ye(12),$e(this),On(this);break t}}if(this.P){_=!0;let mn;for(;!this.J&&this.C<pt.length;)if(mn=$a(this,pt),mn==fs){Xe==4&&(this.s=4,ye(14),_=!1),wn(this.i,this.l,null,"[Incomplete Response]");break}else if(mn==la){this.s=4,ye(15),wn(this.i,this.l,pt,"[Invalid Chunk]"),_=!1;break}else wn(this.i,this.l,mn,null),Oi(this,mn);if(Ga(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Xe!=4||pt.length!=0||this.h.h||(this.s=1,ye(16),_=!1),this.o=this.o&&_,!_)wn(this.i,this.l,pt,"[Invalid Chunked Response]"),$e(this),On(this);else if(0<pt.length&&!this.W){this.W=!0;var nn=this.j;nn.g==this&&nn.ba&&!nn.M&&(nn.j.info("Great, no buffering proxy detected. Bytes received: "+pt.length),ma(nn),nn.M=!0,ye(11))}}else wn(this.i,this.l,pt,null),Oi(this,pt);Xe==4&&$e(this),this.o&&!this.J&&(Xe==4?Uu(this.j,this):(this.o=!1,Pi(this)))}else je(this.g),_==400&&0<pt.indexOf("Unknown SID")?(this.s=3,ye(12)):(this.s=0,ye(13)),$e(this),On(this)}}}catch{}finally{}};function Ga(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function $a(c,v){var _=c.C,w=v.indexOf(`
`,_);return w==-1?fs:(_=Number(v.substring(_,w)),isNaN(_)?la:(w+=1,w+_>v.length?fs:(v=v.slice(w,w+_),c.C=w+_,v)))}un.prototype.cancel=function(){this.J=!0,$e(this)};function Pi(c){c.S=Date.now()+c.I,Qa(c,c.I)}function Qa(c,v){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ve(E(c.ba,c),v)}function ti(c){c.B&&(d.clearTimeout(c.B),c.B=null)}un.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(qa(this.i,this.A),this.L!=2&&(zn(),ye(17)),$e(this),this.s=2,On(this)):Qa(this,this.S-c)};function On(c){c.j.G==0||c.J||Uu(c.j,c)}function $e(c){ti(c);var v=c.M;v&&typeof v.ma=="function"&&v.ma(),c.M=null,Kr(c.U),c.g&&(v=c.g,c.g=null,v.abort(),v.ma())}function Oi(c,v){try{var _=c.j;if(_.G!=0&&(_.g==c||ua(_.h,c))){if(!c.K&&ua(_.h,c)&&_.G==3){try{var w=_.Da.g.parse(v)}catch{w=null}if(Array.isArray(w)&&w.length==3){var G=w;if(G[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Ka(_),Mn(_);else break t;ol(_),ye(18)}}else _.za=G[1],0<_.za-_.T&&37500>G[2]&&_.F&&_.v==0&&!_.C&&(_.C=Ve(E(_.Za,_),6e3));if(1>=ds(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else ki(_,11)}else if((c.K||_.g==c)&&Ka(_),!$(v))for(G=_.Da.g.parse(v),v=0;v<G.length;v++){let Wt=G[v];if(_.T=Wt[0],Wt=Wt[1],_.G==2)if(Wt[0]=="c"){_.K=Wt[1],_.ia=Wt[2];const nn=Wt[3];nn!=null&&(_.la=nn,_.j.info("VER="+_.la));const Xe=Wt[4];Xe!=null&&(_.Aa=Xe,_.j.info("SVER="+_.Aa));const ji=Wt[5];ji!=null&&typeof ji=="number"&&0<ji&&(w=1.5*ji,_.L=w,_.j.info("backChannelRequestTimeoutMs_="+w)),w=_;const mn=c.g;if(mn){const oi=mn.g?mn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oi){var J=w.h;J.g||oi.indexOf("spdy")==-1&&oi.indexOf("quic")==-1&&oi.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(ms(J,J.h),J.h=null))}if(w.D){const ul=mn.g?mn.g.getResponseHeader("X-HTTP-Session-Id"):null;ul&&(w.ya=ul,se(w.I,w.D,ul))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),w=_;var pt=c;if(w.qa=Fu(w,w.J?w.ia:null,w.W),pt.K){fn(w.h,pt);var Kt=pt,Ye=w.L;Ye&&(Kt.I=Ye),Kt.B&&(ti(Kt),Pi(Kt)),w.g=pt}else ku(w);0<_.i.length&&Bi(_)}else Wt[0]!="stop"&&Wt[0]!="close"||ki(_,7);else _.G==3&&(Wt[0]=="stop"||Wt[0]=="close"?Wt[0]=="stop"?ki(_,7):Qn(_):Wt[0]!="noop"&&_.l&&_.l.ta(Wt),_.v=0)}}zn(4)}catch{}}var nr=class{constructor(c,v){this.g=c,this.map=v}};function Dr(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function hs(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ds(c){return c.h?1:c.g?c.g.size:0}function ua(c,v){return c.h?c.h==v:c.g?c.g.has(v):!1}function ms(c,v){c.g?c.g.add(v):c.h=v}function fn(c,v){c.h&&c.h==v?c.h=null:c.g&&c.g.has(v)&&c.g.delete(v)}Dr.prototype.cancel=function(){if(this.i=ei(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function ei(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let v=c.i;for(const _ of c.g.values())v=v.concat(_.D);return v}return k(c.i)}function rl(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(m(c)){for(var v=[],_=c.length,w=0;w<_;w++)v.push(c[w]);return v}v=[],_=0;for(w in c)v[_++]=c[w];return v}function vr(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(m(c)||typeof c=="string"){var v=[];c=c.length;for(var _=0;_<c;_++)v.push(_);return v}v=[],_=0;for(const w in c)v[_++]=w;return v}}}function ps(c,v){if(c.forEach&&typeof c.forEach=="function")c.forEach(v,void 0);else if(m(c)||typeof c=="string")Array.prototype.forEach.call(c,v,void 0);else for(var _=vr(c),w=rl(c),G=w.length,J=0;J<G;J++)v.call(void 0,w[J],_&&_[J],c)}var ni=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function il(c,v){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var w=c[_].indexOf("="),G=null;if(0<=w){var J=c[_].substring(0,w);G=c[_].substring(w+1)}else J=c[_];v(J,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Ce(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ce){this.h=c.h,Di(this,c.j),this.o=c.o,this.g=c.g,Br(this,c.s),this.l=c.l;var v=c.i,_=new jr;_.i=v.i,v.g&&(_.g=new Map(v.g),_.h=v.h),kr(this,_),this.m=c.m}else c&&(v=String(c).match(ni))?(this.h=!1,Di(this,v[1]||"",!0),this.o=hn(v[2]||""),this.g=hn(v[3]||"",!0),Br(this,v[4]),this.l=hn(v[5]||"",!0),kr(this,v[6]||"",!0),this.m=hn(v[7]||"")):(this.h=!1,this.i=new jr(null,this.h))}Ce.prototype.toString=function(){var c=[],v=this.j;v&&c.push(Hn(v,ca,!0),":");var _=this.g;return(_||v=="file")&&(c.push("//"),(v=this.o)&&c.push(Hn(v,ca,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Hn(_,_.charAt(0)=="/"?sl:qn,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Hn(_,gs)),c.join("")};function Dn(c){return new Ce(c)}function Di(c,v,_){c.j=_?hn(v,!0):v,c.j&&(c.j=c.j.replace(/:$/,""))}function Br(c,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);c.s=v}else c.s=null}function kr(c,v,_){v instanceof jr?(c.i=v,Xa(c.i,c.h)):(_||(v=Hn(v,al)),c.i=new jr(v,c.h))}function se(c,v,_){c.i.set(v,_)}function ri(c){return se(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function hn(c,v){return c?v?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Hn(c,v,_){return typeof c=="string"?(c=encodeURI(c).replace(v,Ya),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Ya(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ca=/[#\/\?@]/g,qn=/[#\?:]/g,sl=/[#\?]/g,al=/[#\?@]/g,gs=/#/g;function jr(c,v){this.h=this.g=null,this.i=c||null,this.j=!!v}function Gn(c){c.g||(c.g=new Map,c.h=0,c.i&&il(c.i,function(v,_){c.add(decodeURIComponent(v.replace(/\+/g," ")),_)}))}r=jr.prototype,r.add=function(c,v){Gn(this),this.i=null,c=Bn(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(v),this.h+=1,this};function dn(c,v){Gn(c),v=Bn(c,v),c.g.has(v)&&(c.i=null,c.h-=c.g.get(v).length,c.g.delete(v))}function _r(c,v){return Gn(c),v=Bn(c,v),c.g.has(v)}r.forEach=function(c,v){Gn(this),this.g.forEach(function(_,w){_.forEach(function(G){c.call(v,G,w,this)},this)},this)},r.na=function(){Gn(this);const c=Array.from(this.g.values()),v=Array.from(this.g.keys()),_=[];for(let w=0;w<v.length;w++){const G=c[w];for(let J=0;J<G.length;J++)_.push(v[w])}return _},r.V=function(c){Gn(this);let v=[];if(typeof c=="string")_r(this,c)&&(v=v.concat(this.g.get(Bn(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)v=v.concat(c[_])}return v},r.set=function(c,v){return Gn(this),this.i=null,c=Bn(this,c),_r(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[v]),this.h+=1,this},r.get=function(c,v){return c?(c=this.V(c),0<c.length?String(c[0]):v):v};function fa(c,v,_){dn(c,v),0<_.length&&(c.i=null,c.g.set(Bn(c,v),k(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],v=Array.from(this.g.keys());for(var _=0;_<v.length;_++){var w=v[_];const J=encodeURIComponent(String(w)),pt=this.V(w);for(w=0;w<pt.length;w++){var G=J;pt[w]!==""&&(G+="="+encodeURIComponent(String(pt[w]))),c.push(G)}}return this.i=c.join("&")};function Bn(c,v){return v=String(v),c.j&&(v=v.toLowerCase()),v}function Xa(c,v){v&&!c.j&&(Gn(c),c.i=null,c.g.forEach(function(_,w){var G=w.toLowerCase();w!=G&&(dn(this,w),fa(this,G,_))},c)),c.j=v}function Ur(c,v){const _=new Fn;if(d.Image){const w=new Image;w.onload=R(kn,_,"TestLoadImage: loaded",!0,v,w),w.onerror=R(kn,_,"TestLoadImage: error",!1,v,w),w.onabort=R(kn,_,"TestLoadImage: abort",!1,v,w),w.ontimeout=R(kn,_,"TestLoadImage: timeout",!1,v,w),d.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else v(!1)}function rr(c,v){const _=new Fn,w=new AbortController,G=setTimeout(()=>{w.abort(),kn(_,"TestPingServer: timeout",!1,v)},1e4);fetch(c,{signal:w.signal}).then(J=>{clearTimeout(G),J.ok?kn(_,"TestPingServer: ok",!0,v):kn(_,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(G),kn(_,"TestPingServer: error",!1,v)})}function kn(c,v,_,w,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),w(_)}catch{}}function ii(){this.g=new Wr}function ir(c,v,_){const w=_||"";try{ps(c,function(G,J){let pt=G;g(G)&&(pt=Tn(G)),v.push(w+J+"="+encodeURIComponent(pt))})}catch(G){throw v.push(w+"type="+encodeURIComponent("_badmap")),G}}function $n(c){this.l=c.Ub||null,this.j=c.eb||!1}B($n,aa),$n.prototype.g=function(){return new Ar(this.l,this.j)},$n.prototype.i=function(c){return function(){return c}}({});function Ar(c,v){Ee.call(this),this.D=c,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}B(Ar,Ee),r=Ar.prototype,r.open=function(c,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=v,this.readyState=1,Er(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(v.body=c),(this.D||d).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,br(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Er(this)),this.g&&(this.readyState=3,Er(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ha(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function ha(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var v=c.value?c.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!c.done}))&&(this.response=this.responseText+=v)}c.done?br(this):Er(this),this.readyState==3&&ha(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,br(this))},r.Qa=function(c){this.g&&(this.response=c,br(this))},r.ga=function(){this.g&&br(this)};function br(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Er(c)}r.setRequestHeader=function(c,v){this.u.append(c,v)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],v=this.h.entries();for(var _=v.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=v.next();return c.join(`\r
`)};function Er(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ar.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function x(c){let v="";return ht(c,function(_,w){v+=w,v+=":",v+=_,v+=`\r
`}),v}function F(c,v,_){t:{for(w in _){var w=!1;break t}w=!0}w||(_=x(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):se(c,v,_))}function tt(c){Ee.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}B(tt,Ee);var vt=/^https?$/i,ee=["POST","PUT"];r=tt.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,v,_,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);v=v?v.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():yr.g(),this.v=this.o?tr(this.o):tr(yr),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(v,String(c),!0),this.B=!1}catch(J){Dt(this,J);return}if(c=_||"",_=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var G in w)_.set(G,w[G]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const J of w.keys())_.set(J,w.get(J));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(_.keys()).find(J=>J.toLowerCase()=="content-type"),G=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(ee,v,void 0))||w||G||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,pt]of _)this.g.setRequestHeader(J,pt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{re(this),this.u=!0,this.g.send(c),this.u=!1}catch(J){Dt(this,J)}};function Dt(c,v){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=v,c.m=5,oe(c),ce(c)}function oe(c){c.A||(c.A=!0,Xt(c,"complete"),Xt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Xt(this,"complete"),Xt(this,"abort"),ce(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ce(this,!0)),tt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ae(this):this.bb())},r.bb=function(){Ae(this)};function Ae(c){if(c.h&&typeof f<"u"&&(!c.v[1]||ve(c)!=4||c.Z()!=2)){if(c.u&&ve(c)==4)Ge(c.Ea,0,c);else if(Xt(c,"readystatechange"),ve(c)==4){c.h=!1;try{const pt=c.Z();t:switch(pt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var _;if(!(_=v)){var w;if(w=pt===0){var G=String(c.D).match(ni)[1]||null;!G&&d.self&&d.self.location&&(G=d.self.location.protocol.slice(0,-1)),w=!vt.test(G?G.toLowerCase():"")}_=w}if(_)Xt(c,"complete"),Xt(c,"success");else{c.m=6;try{var J=2<ve(c)?c.g.statusText:""}catch{J=""}c.l=J+" ["+c.Z()+"]",oe(c)}}finally{ce(c)}}}}function ce(c,v){if(c.g){re(c);const _=c.g,w=c.v[0]?()=>{}:null;c.g=null,c.v=null,v||Xt(c,"ready");try{_.onreadystatechange=w}catch{}}}function re(c){c.I&&(d.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function ve(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<ve(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var v=this.g.responseText;return c&&v.indexOf(c)==0&&(v=v.substring(c.length)),Ci(v)}};function Rn(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function je(c){const v={};c=(c.g&&2<=ve(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if($(c[w]))continue;var _=j(c[w]);const G=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const J=v[G]||[];v[G]=J,J.push(_)}I(v,function(w){return w.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ue(c,v,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||v}function Qe(c){this.Aa=0,this.i=[],this.j=new Fn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ue("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ue("baseRetryDelayMs",5e3,c),this.cb=Ue("retryDelaySeedMs",1e4,c),this.Wa=Ue("forwardChannelMaxRetries",2,c),this.wa=Ue("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Dr(c&&c.concurrentRequestLimit),this.Da=new ii,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Qe.prototype,r.la=8,r.G=1,r.connect=function(c,v,_,w){ye(0),this.W=c,this.H=v||{},_&&w!==void 0&&(this.H.OSID=_,this.H.OAID=w),this.F=this.X,this.I=Fu(this,null,this.W),Bi(this)};function Qn(c){if(Tr(c),c.G==3){var v=c.U++,_=Dn(c.I);if(se(_,"SID",c.K),se(_,"RID",v),se(_,"TYPE","terminate"),da(c,_),v=new un(c,c.j,v),v.L=2,v.v=ri(Dn(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(v.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=v.v,_=!0),_||(v.g=Hu(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Pi(v)}zu(c)}function Mn(c){c.g&&(ma(c),c.g.cancel(),c.g=null)}function Tr(c){Mn(c),c.u&&(d.clearTimeout(c.u),c.u=null),Ka(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function Bi(c){if(!hs(c.h)&&!c.s){c.s=!0;var v=c.Ga;at||P(),Z||(at(),Z=!0),Rt.add(v,c),c.B=0}}function ys(c,v){return ds(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=v.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ve(E(c.Ga,c,v),ll(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const G=new un(this,this.j,c);let J=this.o;if(this.S&&(J?(J=S(J),D(J,this.S)):J=this.S),this.m!==null||this.O||(G.H=J,J=null),this.P)t:{for(var v=0,_=0;_<this.i.length;_++){e:{var w=this.i[_];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break e}w=void 0}if(w===void 0)break;if(v+=w,4096<v){v=_;break t}if(v===4096||_===this.i.length-1){v=_+1;break t}}v=1e3}else v=1e3;v=Bu(this,G,v),_=Dn(this.I),se(_,"RID",c),se(_,"CVER",22),this.D&&se(_,"X-HTTP-Session-Id",this.D),da(this,_),J&&(this.O?v="headers="+encodeURIComponent(String(x(J)))+"&"+v:this.m&&F(_,this.m,J)),ms(this.h,G),this.Ua&&se(_,"TYPE","init"),this.P?(se(_,"$req",v),se(_,"SID","null"),G.T=!0,er(G,_,null)):er(G,_,v),this.G=2}}else this.G==3&&(c?si(this,c):this.i.length==0||hs(this.h)||si(this))};function si(c,v){var _;v?_=v.l:_=c.U++;const w=Dn(c.I);se(w,"SID",c.K),se(w,"RID",_),se(w,"AID",c.T),da(c,w),c.m&&c.o&&F(w,c.m,c.o),_=new un(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),v&&(c.i=v.D.concat(c.i)),v=Bu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ms(c.h,_),er(_,w,v)}function da(c,v){c.H&&ht(c.H,function(_,w){se(v,w,_)}),c.l&&ps({},function(_,w){se(v,w,_)})}function Bu(c,v,_){_=Math.min(c.i.length,_);var w=c.l?E(c.l.Na,c.l,c):null;t:{var G=c.i;let J=-1;for(;;){const pt=["count="+_];J==-1?0<_?(J=G[0].g,pt.push("ofs="+J)):J=0:pt.push("ofs="+J);let Kt=!0;for(let Ye=0;Ye<_;Ye++){let Wt=G[Ye].g;const nn=G[Ye].map;if(Wt-=J,0>Wt)J=Math.max(0,G[Ye].g-100),Kt=!1;else try{ir(nn,pt,"req"+Wt+"_")}catch{w&&w(nn)}}if(Kt){w=pt.join("&");break t}}}return c=c.i.splice(0,_),v.D=c,w}function ku(c){if(!c.g&&!c.u){c.Y=1;var v=c.Fa;at||P(),Z||(at(),Z=!0),Rt.add(v,c),c.v=0}}function ol(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ve(E(c.Fa,c),ll(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,ju(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ve(E(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ye(10),Mn(this),ju(this))};function ma(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function ju(c){c.g=new un(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var v=Dn(c.qa);se(v,"RID","rpc"),se(v,"SID",c.K),se(v,"AID",c.T),se(v,"CI",c.F?"0":"1"),!c.F&&c.ja&&se(v,"TO",c.ja),se(v,"TYPE","xmlhttp"),da(c,v),c.m&&c.o&&F(v,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=ri(Dn(v)),_.m=null,_.P=!0,cn(_,c)}r.Za=function(){this.C!=null&&(this.C=null,Mn(this),ol(this),ye(19))};function Ka(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Uu(c,v){var _=null;if(c.g==v){Ka(c),ma(c),c.g=null;var w=2}else if(ua(c.h,v))_=v.D,fn(c.h,v),w=1;else return;if(c.G!=0){if(v.o)if(w==1){_=v.m?v.m.length:0,v=Date.now()-v.F;var G=c.B;w=gr(),Xt(w,new Pe(w,_)),Bi(c)}else ku(c);else if(G=v.s,G==3||G==0&&0<v.X||!(w==1&&ys(c,v)||w==2&&ol(c)))switch(_&&0<_.length&&(v=c.h,v.i=v.i.concat(_)),G){case 1:ki(c,5);break;case 4:ki(c,10);break;case 3:ki(c,6);break;default:ki(c,2)}}}function ll(c,v){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*v}function ki(c,v){if(c.j.info("Error code "+v),v==2){var _=E(c.fb,c),w=c.Xa;const G=!w;w=new Ce(w||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Di(w,"https"),ri(w),G?Ur(w.toString(),_):rr(w.toString(),_)}else ye(2);c.G=0,c.l&&c.l.sa(v),zu(c),Tr(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ye(2)):(this.j.info("Failed to ping google.com"),ye(1))};function zu(c){if(c.G=0,c.ka=[],c.l){const v=ei(c.h);(v.length!=0||c.i.length!=0)&&(N(c.ka,v),N(c.ka,c.i),c.h.i.length=0,k(c.i),c.i.length=0),c.l.ra()}}function Fu(c,v,_){var w=_ instanceof Ce?Dn(_):new Ce(_);if(w.g!="")v&&(w.g=v+"."+w.g),Br(w,w.s);else{var G=d.location;w=G.protocol,v=v?v+"."+G.hostname:G.hostname,G=+G.port;var J=new Ce(null);w&&Di(J,w),v&&(J.g=v),G&&Br(J,G),_&&(J.l=_),w=J}return _=c.D,v=c.ya,_&&v&&se(w,_,v),se(w,"VER",c.la),da(c,w),w}function Hu(c,v,_){if(v&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=c.Ca&&!c.pa?new tt(new $n({eb:_})):new tt(c.pa),v.Ha(c.J),v}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function qu(){}r=qu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Wa(){}Wa.prototype.g=function(c,v){return new jn(c,v)};function jn(c,v){Ee.call(this),this.g=new Qe(v),this.l=c,this.h=v&&v.messageUrlParams||null,c=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(c?c["X-WebChannel-Content-Type"]=v.messageContentType:c={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(c?c["X-WebChannel-Client-Profile"]=v.va:c={"X-WebChannel-Client-Profile":v.va}),this.g.S=c,(c=v&&v.Sb)&&!$(c)&&(this.g.m=c),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!$(v)&&(this.g.D=v,c=this.h,c!==null&&v in c&&(c=this.h,v in c&&delete c[v])),this.j=new ai(this)}B(jn,Ee),jn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},jn.prototype.close=function(){Qn(this.g)},jn.prototype.o=function(c){var v=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Tn(c),c=_);v.i.push(new nr(v.Ya++,c)),v.G==3&&Bi(v)},jn.prototype.N=function(){this.g.l=null,delete this.j,Qn(this.g),delete this.g,jn.aa.N.call(this)};function Gu(c){Pr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var v=c.__sm__;if(v){t:{for(const _ in v){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,v=v!==null&&c in v?v[c]:void 0),this.data=v}else this.data=c}B(Gu,Pr);function $u(){Ii.call(this),this.status=1}B($u,Ii);function ai(c){this.g=c}B(ai,qu),ai.prototype.ua=function(){Xt(this.g,"a")},ai.prototype.ta=function(c){Xt(this.g,new Gu(c))},ai.prototype.sa=function(c){Xt(this.g,new $u)},ai.prototype.ra=function(){Xt(this.g,"b")},Wa.prototype.createWebChannel=Wa.prototype.g,jn.prototype.send=jn.prototype.o,jn.prototype.open=jn.prototype.m,jn.prototype.close=jn.prototype.close,F_=function(){return new Wa},z_=function(){return gr()},U_=Sn,Cm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Jr.NO_ERROR=0,Jr.TIMEOUT=8,Jr.HTTP_ERROR=6,af=Jr,Or.COMPLETE="complete",j_=Or,us.EventType=Nr,Nr.OPEN="a",Nr.CLOSE="b",Nr.ERROR="c",Nr.MESSAGE="d",Ee.prototype.listen=Ee.prototype.K,Jl=us,tt.prototype.listenOnce=tt.prototype.L,tt.prototype.getLastError=tt.prototype.Ka,tt.prototype.getLastErrorCode=tt.prototype.Ba,tt.prototype.getStatus=tt.prototype.Z,tt.prototype.getResponseJson=tt.prototype.Oa,tt.prototype.getResponseText=tt.prototype.oa,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Ha,k_=tt}).apply(typeof Kc<"u"?Kc:typeof self<"u"?self:typeof window<"u"?window:{});const e1="@firebase/firestore",n1="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}In.UNAUTHENTICATED=new In(null),In.GOOGLE_CREDENTIALS=new In("google-credentials-uid"),In.FIRST_PARTY=new In("first-party-uid"),In.MOCK_USER=new In("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yo="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa=new I_("@firebase/firestore");function Co(){return Oa.logLevel}function At(r,...t){if(Oa.logLevel<=te.DEBUG){const n=t.map(pp);Oa.debug(`Firestore (${Yo}): ${r}`,...n)}}function ns(r,...t){if(Oa.logLevel<=te.ERROR){const n=t.map(pp);Oa.error(`Firestore (${Yo}): ${r}`,...n)}}function $s(r,...t){if(Oa.logLevel<=te.WARN){const n=t.map(pp);Oa.warn(`Firestore (${Yo}): ${r}`,...n)}}function pp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,H_(r,s,n)}function H_(r,t,n){let s=`FIRESTORE (${Yo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw ns(s),new Error(s)}function ae(r,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||H_(t,o,s)}function jt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ft={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xt extends Qo{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q_{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Yw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(In.UNAUTHENTICATED))}shutdown(){}}class Xw{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Kw{constructor(t){this.t=t,this.currentUser=In.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){ae(this.o===void 0,42304);let s=this.i;const o=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let u=new Na;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Na,t.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const m=u;t.enqueueRetryable(async()=>{await m.promise,await o(this.currentUser)})},d=m=>{At("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(At("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Na)}},0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(At("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ae(typeof s.accessToken=="string",31837,{l:s}),new q_(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ae(t===null||typeof t=="string",2055,{h:t}),new In(t)}}class Ww{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=In.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Zw{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new Ww(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(In.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class r1{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Jw{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Nw(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){ae(this.o===void 0,3512);const s=u=>{u.error!=null&&At("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,At("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>s(u))};const o=u=>{At("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):At("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new r1(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(ae(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new r1(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tR(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G_(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=tR(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function qt(r,t){return r<t?-1:r>t?1:0}function Im(r,t){let n=0;for(;n<r.length&&n<t.length;){const s=r.codePointAt(n),o=t.codePointAt(n);if(s!==o){if(s<128&&o<128)return qt(s,o);{const u=G_(),f=eR(u.encode(i1(r,n)),u.encode(i1(t,n)));return f!==0?f:qt(s,o)}}n+=s>65535?2:1}return qt(r.length,t.length)}function i1(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function eR(r,t){for(let n=0;n<r.length&&n<t.length;++n)if(r[n]!==t[n])return qt(r[n],t[n]);return qt(r.length,t.length)}function jo(r,t,n){return r.length===t.length&&r.every((s,o)=>n(s,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1="__name__";class pi{constructor(t,n,s){n===void 0?n=0:n>t.length&&Nt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&Nt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return pi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof pi?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=pi.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return qt(t.length,n.length)}static compareSegments(t,n){const s=pi.isNumericId(t),o=pi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?pi.extractNumericId(t).compare(pi.extractNumericId(n)):Im(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Hs.fromString(t.substring(4,t.length-2))}}class Me extends pi{construct(t,n,s){return new Me(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new xt(ft.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new Me(n)}static emptyPath(){return new Me([])}}const nR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _n extends pi{construct(t,n,s){return new _n(t,n,s)}static isValidIdentifier(t){return nR.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_n.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===s1}static keyField(){return new _n([s1])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new xt(ft.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const d=t[o];if(d==="\\"){if(o+1===t.length)throw new xt(ft.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new xt(ft.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=m,o+=2}else d==="`"?(f=!f,o++):d!=="."||f?(s+=d,o++):(u(),o++)}if(u(),f)throw new xt(ft.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new _n(n)}static emptyPath(){return new _n([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(t){this.path=t}static fromPath(t){return new Ct(Me.fromString(t))}static fromName(t){return new Ct(Me.fromString(t).popFirst(5))}static empty(){return new Ct(Me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Me.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Me.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ct(new Me(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(r,t,n){if(!n)throw new xt(ft.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function iR(r,t,n,s){if(t===!0&&s===!0)throw new xt(ft.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function a1(r){if(!Ct.isDocumentKey(r))throw new xt(ft.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function $_(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function yp(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Nt(12329,{type:typeof r})}function qs(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new xt(ft.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=yp(r);throw new xt(ft.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qe(r,t){const n={typeString:r};return t&&(n.value=t),n}function Vu(r,t){if(!$_(r))throw new xt(ft.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new xt(ft.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1=-62135596800,l1=1e6;class be{static now(){return be.fromMillis(Date.now())}static fromDate(t){return be.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*l1);return new be(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new xt(ft.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new xt(ft.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<o1)throw new xt(ft.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new xt(ft.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/l1}_compareTo(t){return this.seconds===t.seconds?qt(this.nanoseconds,t.nanoseconds):qt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:be._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Vu(t,be._jsonSchema))return new be(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-o1;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}be._jsonSchemaVersion="firestore/timestamp/1.0",be._jsonSchema={type:qe("string",be._jsonSchemaVersion),seconds:qe("number"),nanoseconds:qe("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{static fromTimestamp(t){return new Bt(t)}static min(){return new Bt(new be(0,0))}static max(){return new Bt(new be(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yu=-1;function sR(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Bt.fromTimestamp(s===1e9?new be(n+1,0):new be(n,s));return new Qs(o,Ct.empty(),t)}function aR(r){return new Qs(r.readTime,r.key,yu)}class Qs{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Qs(Bt.min(),Ct.empty(),yu)}static max(){return new Qs(Bt.max(),Ct.empty(),yu)}}function oR(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=Ct.comparator(r.documentKey,t.documentKey),n!==0?n:qt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xo(r){if(r.code!==ft.FAILED_PRECONDITION||r.message!==lR)throw r;At("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Nt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new ct((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof ct?n:ct.resolve(n)}catch(n){return ct.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):ct.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):ct.reject(n)}static resolve(t){return new ct((n,s)=>{n(t)})}static reject(t){return new ct((n,s)=>{s(t)})}static waitFor(t){return new ct((n,s)=>{let o=0,u=0,f=!1;t.forEach(d=>{++o,d.next(()=>{++u,f&&u===o&&n()},m=>s(m))}),f=!0,u===o&&n()})}static or(t){let n=ct.resolve(!1);for(const s of t)n=n.next(o=>o?ct.resolve(o):s());return n}static forEach(t,n){const s=[];return t.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(t,n){return new ct((s,o)=>{const u=t.length,f=new Array(u);let d=0;for(let m=0;m<u;m++){const g=m;n(t[g]).next(y=>{f[g]=y,++d,d===u&&s(f)},y=>o(y))}})}static doWhile(t,n){return new ct((s,o)=>{const u=()=>{t()===!0?n().next(()=>{u()},o):s()};u()})}}function cR(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ko(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this._e(s),this.ae=s=>n.writeSequenceNumber(s))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ae&&this.ae(t),t}}Bf.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp=-1;function kf(r){return r==null}function _f(r){return r===0&&1/r==-1/0}function fR(r){return typeof r=="number"&&Number.isInteger(r)&&!_f(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_="";function hR(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=u1(t)),t=dR(r.get(n),t);return u1(t)}function dR(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case Q_:n+="";break;default:n+=u}}return n}function u1(r){return r+Q_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function na(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function Y_(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(t,n){this.comparator=t,this.root=n||vn.EMPTY}insert(t,n){return new xe(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,vn.BLACK,null,null))}remove(t){return new xe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,vn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Wc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Wc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Wc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Wc(this.root,t,this.comparator,!0)}}class Wc{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class vn{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??vn.RED,this.left=o??vn.EMPTY,this.right=u??vn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new vn(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return vn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return vn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,vn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,vn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Nt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Nt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Nt(27949);return t+(this.isRed()?0:1)}}vn.EMPTY=null,vn.RED=!0,vn.BLACK=!1;vn.EMPTY=new class{constructor(){this.size=0}get key(){throw Nt(57766)}get value(){throw Nt(16141)}get color(){throw Nt(16727)}get left(){throw Nt(29726)}get right(){throw Nt(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new vn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(t){this.comparator=t,this.data=new xe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new f1(this.data.getIterator())}getIteratorFrom(t){return new f1(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof en)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new en(this.comparator);return n.data=t,n}}class f1{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(t){this.fields=t,t.sort(_n.comparator)}static empty(){return new dr([])}unionWith(t){let n=new en(_n.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new dr(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return jo(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new X_("Invalid base64 string: "+u):u}}(t);return new An(n)}static fromUint8Array(t){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(t);return new An(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return qt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}An.EMPTY_BYTE_STRING=new An("");const mR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ys(r){if(ae(!!r,39018),typeof r=="string"){let t=0;const n=mR.exec(r);if(ae(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Be(r.seconds),nanos:Be(r.nanos)}}function Be(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Xs(r){return typeof r=="string"?An.fromBase64String(r):An.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_="server_timestamp",W_="__type__",Z_="__previous_value__",J_="__local_write_time__";function _p(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[W_])===null||n===void 0?void 0:n.stringValue)===K_}function jf(r){const t=r.mapValue.fields[Z_];return _p(t)?jf(t):t}function vu(r){const t=Ys(r.mapValue.fields[J_].timestampValue);return new be(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(t,n,s,o,u,f,d,m,g,y){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=y}}const Af="(default)";class _u{constructor(t,n){this.projectId=t,this.database=n||Af}static empty(){return new _u("","")}get isDefaultDatabase(){return this.database===Af}isEqual(t){return t instanceof _u&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA="__type__",gR="__max__",Zc={mapValue:{}},eA="__vector__",bf="value";function Ks(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?_p(r)?4:vR(r)?9007199254740991:yR(r)?10:11:Nt(28295,{value:r})}function Ei(r,t){if(r===t)return!0;const n=Ks(r);if(n!==Ks(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return vu(r).isEqual(vu(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Ys(o.timestampValue),d=Ys(u.timestampValue);return f.seconds===d.seconds&&f.nanos===d.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(o,u){return Xs(o.bytesValue).isEqual(Xs(u.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(o,u){return Be(o.geoPointValue.latitude)===Be(u.geoPointValue.latitude)&&Be(o.geoPointValue.longitude)===Be(u.geoPointValue.longitude)}(r,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Be(o.integerValue)===Be(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Be(o.doubleValue),d=Be(u.doubleValue);return f===d?_f(f)===_f(d):isNaN(f)&&isNaN(d)}return!1}(r,t);case 9:return jo(r.arrayValue.values||[],t.arrayValue.values||[],Ei);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},d=u.mapValue.fields||{};if(c1(f)!==c1(d))return!1;for(const m in f)if(f.hasOwnProperty(m)&&(d[m]===void 0||!Ei(f[m],d[m])))return!1;return!0}(r,t);default:return Nt(52216,{left:r})}}function Au(r,t){return(r.values||[]).find(n=>Ei(n,t))!==void 0}function Uo(r,t){if(r===t)return 0;const n=Ks(r),s=Ks(t);if(n!==s)return qt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return qt(r.booleanValue,t.booleanValue);case 2:return function(u,f){const d=Be(u.integerValue||u.doubleValue),m=Be(f.integerValue||f.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(r,t);case 3:return h1(r.timestampValue,t.timestampValue);case 4:return h1(vu(r),vu(t));case 5:return Im(r.stringValue,t.stringValue);case 6:return function(u,f){const d=Xs(u),m=Xs(f);return d.compareTo(m)}(r.bytesValue,t.bytesValue);case 7:return function(u,f){const d=u.split("/"),m=f.split("/");for(let g=0;g<d.length&&g<m.length;g++){const y=qt(d[g],m[g]);if(y!==0)return y}return qt(d.length,m.length)}(r.referenceValue,t.referenceValue);case 8:return function(u,f){const d=qt(Be(u.latitude),Be(f.latitude));return d!==0?d:qt(Be(u.longitude),Be(f.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return d1(r.arrayValue,t.arrayValue);case 10:return function(u,f){var d,m,g,y;const A=u.fields||{},E=f.fields||{},R=(d=A[bf])===null||d===void 0?void 0:d.arrayValue,B=(m=E[bf])===null||m===void 0?void 0:m.arrayValue,k=qt(((g=R==null?void 0:R.values)===null||g===void 0?void 0:g.length)||0,((y=B==null?void 0:B.values)===null||y===void 0?void 0:y.length)||0);return k!==0?k:d1(R,B)}(r.mapValue,t.mapValue);case 11:return function(u,f){if(u===Zc.mapValue&&f===Zc.mapValue)return 0;if(u===Zc.mapValue)return 1;if(f===Zc.mapValue)return-1;const d=u.fields||{},m=Object.keys(d),g=f.fields||{},y=Object.keys(g);m.sort(),y.sort();for(let A=0;A<m.length&&A<y.length;++A){const E=Im(m[A],y[A]);if(E!==0)return E;const R=Uo(d[m[A]],g[y[A]]);if(R!==0)return R}return qt(m.length,y.length)}(r.mapValue,t.mapValue);default:throw Nt(23264,{le:n})}}function h1(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return qt(r,t);const n=Ys(r),s=Ys(t),o=qt(n.seconds,s.seconds);return o!==0?o:qt(n.nanos,s.nanos)}function d1(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Uo(n[o],s[o]);if(u)return u}return qt(n.length,s.length)}function zo(r){return Lm(r)}function Lm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Ys(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Xs(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return Ct.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Lm(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Lm(n.fields[f])}`;return o+"}"}(r.mapValue):Nt(61005,{value:r})}function of(r){switch(Ks(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=jf(r);return t?16+of(t):16;case 5:return 2*r.stringValue.length;case 6:return Xs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+of(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return na(s.fields,(u,f)=>{o+=u.length+of(f)}),o}(r.mapValue);default:throw Nt(13486,{value:r})}}function Nm(r){return!!r&&"integerValue"in r}function Ap(r){return!!r&&"arrayValue"in r}function m1(r){return!!r&&"nullValue"in r}function p1(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function lf(r){return!!r&&"mapValue"in r}function yR(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[tA])===null||n===void 0?void 0:n.stringValue)===eA}function uu(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return na(r.mapValue.fields,(n,s)=>t.mapValue.fields[n]=uu(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=uu(r.arrayValue.values[n]);return t}return Object.assign({},r)}function vR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===gR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(t){this.value=t}static empty(){return new Zn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!lf(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=uu(n)}setAll(t){let n=_n.emptyPath(),s={},o=[];t.forEach((f,d)=>{if(!n.isImmediateParentOf(d)){const m=this.getFieldsMap(n);this.applyChanges(m,s,o),s={},o=[],n=d.popLast()}f?s[d.lastSegment()]=uu(f):o.push(d.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());lf(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Ei(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];lf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){na(n,(o,u)=>t[o]=u);for(const o of s)delete t[o]}clone(){return new Zn(uu(this.value))}}function nA(r){const t=[];return na(r.fields,(n,s)=>{const o=new _n([n]);if(lf(s)){const u=nA(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)}),new dr(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(t,n,s,o,u,f,d){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=d}static newInvalidDocument(t){return new Nn(t,0,Bt.min(),Bt.min(),Bt.min(),Zn.empty(),0)}static newFoundDocument(t,n,s,o){return new Nn(t,1,n,Bt.min(),s,o,0)}static newNoDocument(t,n){return new Nn(t,2,n,Bt.min(),Bt.min(),Zn.empty(),0)}static newUnknownDocument(t,n){return new Nn(t,3,n,Bt.min(),Bt.min(),Zn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Zn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Bt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Nn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(t,n){this.position=t,this.inclusive=n}}function g1(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?s=Ct.comparator(Ct.fromName(f.referenceValue),n.key):s=Uo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function y1(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Ei(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(t,n="asc"){this.field=t,this.dir=n}}function _R(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{}class Je extends rA{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new bR(t,n,s):n==="array-contains"?new SR(t,s):n==="in"?new wR(t,s):n==="not-in"?new RR(t,s):n==="array-contains-any"?new MR(t,s):new Je(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new ER(t,s):new TR(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Uo(n,this.value)):n!==null&&Ks(this.value)===Ks(n)&&this.matchesComparison(Uo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Nt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ti extends rA{constructor(t,n){super(),this.filters=t,this.op=n,this.he=null}static create(t,n){return new Ti(t,n)}matches(t){return iA(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function iA(r){return r.op==="and"}function sA(r){return AR(r)&&iA(r)}function AR(r){for(const t of r.filters)if(t instanceof Ti)return!1;return!0}function Pm(r){if(r instanceof Je)return r.field.canonicalString()+r.op.toString()+zo(r.value);if(sA(r))return r.filters.map(t=>Pm(t)).join(",");{const t=r.filters.map(n=>Pm(n)).join(",");return`${r.op}(${t})`}}function aA(r,t){return r instanceof Je?function(s,o){return o instanceof Je&&s.op===o.op&&s.field.isEqual(o.field)&&Ei(s.value,o.value)}(r,t):r instanceof Ti?function(s,o){return o instanceof Ti&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,d)=>u&&aA(f,o.filters[d]),!0):!1}(r,t):void Nt(19439)}function oA(r){return r instanceof Je?function(n){return`${n.field.canonicalString()} ${n.op} ${zo(n.value)}`}(r):r instanceof Ti?function(n){return n.op.toString()+" {"+n.getFilters().map(oA).join(" ,")+"}"}(r):"Filter"}class bR extends Je{constructor(t,n,s){super(t,n,s),this.key=Ct.fromName(s.referenceValue)}matches(t){const n=Ct.comparator(t.key,this.key);return this.matchesComparison(n)}}class ER extends Je{constructor(t,n){super(t,"in",n),this.keys=lA("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class TR extends Je{constructor(t,n){super(t,"not-in",n),this.keys=lA("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function lA(r,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>Ct.fromName(s.referenceValue))}class SR extends Je{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Ap(n)&&Au(n.arrayValue,this.value)}}class wR extends Je{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Au(this.value.arrayValue,n)}}class RR extends Je{constructor(t,n){super(t,"not-in",n)}matches(t){if(Au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Au(this.value.arrayValue,n)}}class MR extends Je{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Ap(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Au(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(t,n=null,s=[],o=[],u=null,f=null,d=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=d,this.Pe=null}}function v1(r,t=null,n=[],s=[],o=null,u=null,f=null){return new xR(r,t,n,s,o,u,f)}function bp(r){const t=jt(r);if(t.Pe===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>Pm(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),kf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>zo(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>zo(s)).join(",")),t.Pe=n}return t.Pe}function Ep(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!_R(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!aA(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!y1(r.startAt,t.startAt)&&y1(r.endAt,t.endAt)}function Om(r){return Ct.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(t,n=null,s=[],o=[],u=null,f="F",d=null,m=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=d,this.endAt=m,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function VR(r,t,n,s,o,u,f,d){return new Uf(r,t,n,s,o,u,f,d)}function Tp(r){return new Uf(r)}function _1(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function CR(r){return r.collectionGroup!==null}function cu(r){const t=jt(r);if(t.Te===null){t.Te=[];const n=new Set;for(const u of t.explicitOrderBy)t.Te.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let d=new en(_n.comparator);return f.filters.forEach(m=>{m.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(t).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||t.Te.push(new Tf(u,s))}),n.has(_n.keyField().canonicalString())||t.Te.push(new Tf(_n.keyField(),s))}return t.Te}function gi(r){const t=jt(r);return t.Ie||(t.Ie=IR(t,cu(r))),t.Ie}function IR(r,t){if(r.limitType==="F")return v1(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Tf(o.field,u)});const n=r.endAt?new Ef(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Ef(r.startAt.position,r.startAt.inclusive):null;return v1(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function Dm(r,t,n){return new Uf(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function zf(r,t){return Ep(gi(r),gi(t))&&r.limitType===t.limitType}function uA(r){return`${bp(gi(r))}|lt:${r.limitType}`}function Io(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>oA(o)).join(", ")}]`),kf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>zo(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>zo(o)).join(",")),`Target(${s})`}(gi(r))}; limitType=${r.limitType})`}function Ff(r,t){return t.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Ct.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,t)&&function(s,o){for(const u of cu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,t)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,t)&&function(s,o){return!(s.startAt&&!function(f,d,m){const g=g1(f,d,m);return f.inclusive?g<=0:g<0}(s.startAt,cu(s),o)||s.endAt&&!function(f,d,m){const g=g1(f,d,m);return f.inclusive?g>=0:g>0}(s.endAt,cu(s),o))}(r,t)}function LR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function cA(r){return(t,n)=>{let s=!1;for(const o of cu(r)){const u=NR(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function NR(r,t,n){const s=r.field.isKeyField()?Ct.comparator(t.key,n.key):function(u,f,d){const m=f.data.field(u),g=d.data.field(u);return m!==null&&g!==null?Uo(m,g):Nt(42886)}(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Nt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){na(this.inner,(n,s)=>{for(const[o,u]of s)t(o,u)})}isEmpty(){return Y_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR=new xe(Ct.comparator);function rs(){return PR}const fA=new xe(Ct.comparator);function tu(...r){let t=fA;for(const n of r)t=t.insert(n.key,n);return t}function hA(r){let t=fA;return r.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function La(){return fu()}function dA(){return fu()}function fu(){return new ka(r=>r.toString(),(r,t)=>r.isEqual(t))}const OR=new xe(Ct.comparator),DR=new en(Ct.comparator);function Yt(...r){let t=DR;for(const n of r)t=t.add(n);return t}const BR=new en(qt);function kR(){return BR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sp(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_f(t)?"-0":t}}function mA(r){return{integerValue:""+r}}function jR(r,t){return fR(t)?mA(t):Sp(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(){this._=void 0}}function UR(r,t,n){return r instanceof Sf?function(o,u){const f={fields:{[W_]:{stringValue:K_},[J_]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&_p(u)&&(u=jf(u)),u&&(f.fields[Z_]=u),{mapValue:f}}(n,t):r instanceof bu?gA(r,t):r instanceof Eu?yA(r,t):function(o,u){const f=pA(o,u),d=A1(f)+A1(o.Ee);return Nm(f)&&Nm(o.Ee)?mA(d):Sp(o.serializer,d)}(r,t)}function zR(r,t,n){return r instanceof bu?gA(r,t):r instanceof Eu?yA(r,t):n}function pA(r,t){return r instanceof wf?function(s){return Nm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(t)?t:{integerValue:0}:null}class Sf extends Hf{}class bu extends Hf{constructor(t){super(),this.elements=t}}function gA(r,t){const n=vA(t);for(const s of r.elements)n.some(o=>Ei(o,s))||n.push(s);return{arrayValue:{values:n}}}class Eu extends Hf{constructor(t){super(),this.elements=t}}function yA(r,t){let n=vA(t);for(const s of r.elements)n=n.filter(o=>!Ei(o,s));return{arrayValue:{values:n}}}class wf extends Hf{constructor(t,n){super(),this.serializer=t,this.Ee=n}}function A1(r){return Be(r.integerValue||r.doubleValue)}function vA(r){return Ap(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function FR(r,t){return r.field.isEqual(t.field)&&function(s,o){return s instanceof bu&&o instanceof bu||s instanceof Eu&&o instanceof Eu?jo(s.elements,o.elements,Ei):s instanceof wf&&o instanceof wf?Ei(s.Ee,o.Ee):s instanceof Sf&&o instanceof Sf}(r.transform,t.transform)}class HR{constructor(t,n){this.version=t,this.transformResults=n}}class yi{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new yi}static exists(t){return new yi(void 0,t)}static updateTime(t){return new yi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function uf(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class qf{}function _A(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new bA(r.key,yi.none()):new Cu(r.key,r.data,yi.none());{const n=r.data,s=Zn.empty();let o=new en(_n.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new ra(r.key,s,new dr(o.toArray()),yi.none())}}function qR(r,t,n){r instanceof Cu?function(o,u,f){const d=o.value.clone(),m=E1(o.fieldTransforms,u,f.transformResults);d.setAll(m),u.convertToFoundDocument(f.version,d).setHasCommittedMutations()}(r,t,n):r instanceof ra?function(o,u,f){if(!uf(o.precondition,u))return void u.convertToUnknownDocument(f.version);const d=E1(o.fieldTransforms,u,f.transformResults),m=u.data;m.setAll(AA(o)),m.setAll(d),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,t,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,n)}function hu(r,t,n,s){return r instanceof Cu?function(u,f,d,m){if(!uf(u.precondition,f))return d;const g=u.value.clone(),y=T1(u.fieldTransforms,m,f);return g.setAll(y),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(r,t,n,s):r instanceof ra?function(u,f,d,m){if(!uf(u.precondition,f))return d;const g=T1(u.fieldTransforms,m,f),y=f.data;return y.setAll(AA(u)),y.setAll(g),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(A=>A.field))}(r,t,n,s):function(u,f,d){return uf(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):d}(r,t,n)}function GR(r,t){let n=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),u=pA(s.transform,o||null);u!=null&&(n===null&&(n=Zn.empty()),n.set(s.field,u))}return n||null}function b1(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&jo(s,o,(u,f)=>FR(u,f))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Cu extends qf{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ra extends qf{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function AA(r){const t=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}}),t}function E1(r,t,n){const s=new Map;ae(r.length===n.length,32656,{Ae:n.length,Re:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,d=t.data.field(u.field);s.set(u.field,zR(f,d,n[o]))}return s}function T1(r,t,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,UR(u,f,t))}return s}class bA extends qf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $R extends qf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&qR(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=hu(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=hu(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=dA();return this.mutations.forEach(o=>{const u=t.get(o.key),f=u.overlayedDocument;let d=this.applyToLocalView(f,u.mutatedFields);d=n.has(o.key)?null:d;const m=_A(f,d);m!==null&&s.set(o.key,m),f.isValidDocument()||f.convertToNoDocument(Bt.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Yt())}isEqual(t){return this.batchId===t.batchId&&jo(this.mutations,t.mutations,(n,s)=>b1(n,s))&&jo(this.baseMutations,t.baseMutations,(n,s)=>b1(n,s))}}class wp{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){ae(t.mutations.length===s.length,58842,{Ve:t.mutations.length,me:s.length});let o=function(){return OR}();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new wp(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He,Jt;function KR(r){switch(r){case ft.OK:return Nt(64938);case ft.CANCELLED:case ft.UNKNOWN:case ft.DEADLINE_EXCEEDED:case ft.RESOURCE_EXHAUSTED:case ft.INTERNAL:case ft.UNAVAILABLE:case ft.UNAUTHENTICATED:return!1;case ft.INVALID_ARGUMENT:case ft.NOT_FOUND:case ft.ALREADY_EXISTS:case ft.PERMISSION_DENIED:case ft.FAILED_PRECONDITION:case ft.ABORTED:case ft.OUT_OF_RANGE:case ft.UNIMPLEMENTED:case ft.DATA_LOSS:return!0;default:return Nt(15467,{code:r})}}function EA(r){if(r===void 0)return ns("GRPC error has no .code"),ft.UNKNOWN;switch(r){case He.OK:return ft.OK;case He.CANCELLED:return ft.CANCELLED;case He.UNKNOWN:return ft.UNKNOWN;case He.DEADLINE_EXCEEDED:return ft.DEADLINE_EXCEEDED;case He.RESOURCE_EXHAUSTED:return ft.RESOURCE_EXHAUSTED;case He.INTERNAL:return ft.INTERNAL;case He.UNAVAILABLE:return ft.UNAVAILABLE;case He.UNAUTHENTICATED:return ft.UNAUTHENTICATED;case He.INVALID_ARGUMENT:return ft.INVALID_ARGUMENT;case He.NOT_FOUND:return ft.NOT_FOUND;case He.ALREADY_EXISTS:return ft.ALREADY_EXISTS;case He.PERMISSION_DENIED:return ft.PERMISSION_DENIED;case He.FAILED_PRECONDITION:return ft.FAILED_PRECONDITION;case He.ABORTED:return ft.ABORTED;case He.OUT_OF_RANGE:return ft.OUT_OF_RANGE;case He.UNIMPLEMENTED:return ft.UNIMPLEMENTED;case He.DATA_LOSS:return ft.DATA_LOSS;default:return Nt(39323,{code:r})}}(Jt=He||(He={}))[Jt.OK=0]="OK",Jt[Jt.CANCELLED=1]="CANCELLED",Jt[Jt.UNKNOWN=2]="UNKNOWN",Jt[Jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Jt[Jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Jt[Jt.NOT_FOUND=5]="NOT_FOUND",Jt[Jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Jt[Jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Jt[Jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Jt[Jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Jt[Jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Jt[Jt.ABORTED=10]="ABORTED",Jt[Jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Jt[Jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Jt[Jt.INTERNAL=13]="INTERNAL",Jt[Jt.UNAVAILABLE=14]="UNAVAILABLE",Jt[Jt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR=new Hs([4294967295,4294967295],0);function S1(r){const t=G_().encode(r),n=new B_;return n.update(t),new Uint8Array(n.digest())}function w1(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Hs([n,s],0),new Hs([o,u],0)]}class Rp{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new eu(`Invalid padding: ${n}`);if(s<0)throw new eu(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new eu(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new eu(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*t.length-n,this.ge=Hs.fromNumber(this.fe)}pe(t,n,s){let o=t.add(n.multiply(Hs.fromNumber(s)));return o.compare(WR)===1&&(o=new Hs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.fe===0)return!1;const n=S1(t),[s,o]=w1(n);for(let u=0;u<this.hashCount;u++){const f=this.pe(s,o,u);if(!this.ye(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new Rp(u,o,n);return s.forEach(d=>f.insert(d)),f}insert(t){if(this.fe===0)return;const n=S1(t),[s,o]=w1(n);for(let u=0;u<this.hashCount;u++){const f=this.pe(s,o,u);this.we(f)}}we(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class eu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,Iu.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new Gf(Bt.min(),o,new xe(qt),rs(),Yt())}}class Iu{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Iu(s,n,Yt(),Yt(),Yt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(t,n,s,o){this.Se=t,this.removedTargetIds=n,this.key=s,this.be=o}}class TA{constructor(t,n){this.targetId=t,this.De=n}}class SA{constructor(t,n,s=An.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class R1{constructor(){this.ve=0,this.Ce=M1(),this.Fe=An.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(t){t.approximateByteSize()>0&&(this.xe=!0,this.Fe=t)}Le(){let t=Yt(),n=Yt(),s=Yt();return this.Ce.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Nt(38017,{changeType:u})}}),new Iu(this.Fe,this.Me,t,n,s)}ke(){this.xe=!1,this.Ce=M1()}qe(t,n){this.xe=!0,this.Ce=this.Ce.insert(t,n)}Qe(t){this.xe=!0,this.Ce=this.Ce.remove(t)}$e(){this.ve+=1}Ue(){this.ve-=1,ae(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class ZR{constructor(t){this.We=t,this.Ge=new Map,this.ze=rs(),this.je=Jc(),this.Je=Jc(),this.He=new xe(qt)}Ye(t){for(const n of t.Se)t.be&&t.be.isFoundDocument()?this.Ze(n,t.be):this.Xe(n,t.key,t.be);for(const n of t.removedTargetIds)this.Xe(n,t.key,t.be)}et(t){this.forEachTarget(t,n=>{const s=this.tt(n);switch(t.state){case 0:this.nt(n)&&s.Be(t.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(t.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(s.Ke(),s.Be(t.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),s.Be(t.resumeToken));break;default:Nt(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Ge.forEach((s,o)=>{this.nt(o)&&n(o)})}it(t){const n=t.targetId,s=t.De.count,o=this.st(n);if(o){const u=o.target;if(Om(u))if(s===0){const f=new Ct(u.path);this.Xe(n,f,Nn.newNoDocument(f,Bt.min()))}else ae(s===1,20013,{expectedCount:s});else{const f=this.ot(n);if(f!==s){const d=this._t(t),m=d?this.ut(d,t,f):1;if(m!==0){this.rt(n);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,g)}}}}}_t(t){const n=t.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,d;try{f=Xs(s).toUint8Array()}catch(m){if(m instanceof X_)return $s("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new Rp(f,o,u)}catch(m){return $s(m instanceof eu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.fe===0?null:d}ut(t,n,s){return n.De.count===s-this.ht(t,n.targetId)?0:2}ht(t,n){const s=this.We.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.We.lt(),d=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(d)||(this.Xe(n,u,null),o++)}),o}Pt(t){const n=new Map;this.Ge.forEach((u,f)=>{const d=this.st(f);if(d){if(u.current&&Om(d.target)){const m=new Ct(d.target.path);this.Tt(m).has(f)||this.It(f,m)||this.Xe(f,m,Nn.newNoDocument(m,t))}u.Ne&&(n.set(f,u.Le()),u.ke())}});let s=Yt();this.Je.forEach((u,f)=>{let d=!0;f.forEachWhile(m=>{const g=this.st(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(u))}),this.ze.forEach((u,f)=>f.setReadTime(t));const o=new Gf(t,n,this.He,this.ze,s);return this.ze=rs(),this.je=Jc(),this.Je=Jc(),this.He=new xe(qt),o}Ze(t,n){if(!this.nt(t))return;const s=this.It(t,n.key)?2:0;this.tt(t).qe(n.key,s),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(t)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(t))}Xe(t,n,s){if(!this.nt(t))return;const o=this.tt(t);this.It(t,n)?o.qe(n,1):o.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(t)),this.Je=this.Je.insert(n,this.dt(n).add(t)),s&&(this.ze=this.ze.insert(n,s))}removeTarget(t){this.Ge.delete(t)}ot(t){const n=this.tt(t).Le();return this.We.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.tt(t).$e()}tt(t){let n=this.Ge.get(t);return n||(n=new R1,this.Ge.set(t,n)),n}dt(t){let n=this.Je.get(t);return n||(n=new en(qt),this.Je=this.Je.insert(t,n)),n}Tt(t){let n=this.je.get(t);return n||(n=new en(qt),this.je=this.je.insert(t,n)),n}nt(t){const n=this.st(t)!==null;return n||At("WatchChangeAggregator","Detected inactive target",t),n}st(t){const n=this.Ge.get(t);return n&&n.Oe?null:this.We.Et(t)}rt(t){this.Ge.set(t,new R1),this.We.getRemoteKeysForTarget(t).forEach(n=>{this.Xe(t,n,null)})}It(t,n){return this.We.getRemoteKeysForTarget(t).has(n)}}function Jc(){return new xe(Ct.comparator)}function M1(){return new xe(Ct.comparator)}const JR={asc:"ASCENDING",desc:"DESCENDING"},tM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},eM={and:"AND",or:"OR"};class nM{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Bm(r,t){return r.useProto3Json||kf(t)?t:{value:t}}function Rf(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function wA(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function rM(r,t){return Rf(r,t.toTimestamp())}function vi(r){return ae(!!r,49232),Bt.fromTimestamp(function(n){const s=Ys(n);return new be(s.seconds,s.nanos)}(r))}function Mp(r,t){return km(r,t).canonicalString()}function km(r,t){const n=function(o){return new Me(["projects",o.projectId,"databases",o.database])}(r).child("documents");return t===void 0?n:n.child(t)}function RA(r){const t=Me.fromString(r);return ae(IA(t),10190,{key:t.toString()}),t}function jm(r,t){return Mp(r.databaseId,t.path)}function hm(r,t){const n=RA(t);if(n.get(1)!==r.databaseId.projectId)throw new xt(ft.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new xt(ft.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Ct(xA(n))}function MA(r,t){return Mp(r.databaseId,t)}function iM(r){const t=RA(r);return t.length===4?Me.emptyPath():xA(t)}function Um(r){return new Me(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function xA(r){return ae(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function x1(r,t,n){return{name:jm(r,t),fields:n.value.mapValue.fields}}function sM(r,t){let n;if("targetChange"in t){t.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Nt(39313,{state:g})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(g,y){return g.useProto3Json?(ae(y===void 0||typeof y=="string",58123),An.fromBase64String(y||"")):(ae(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),An.fromUint8Array(y||new Uint8Array))}(r,t.targetChange.resumeToken),f=t.targetChange.cause,d=f&&function(g){const y=g.code===void 0?ft.UNKNOWN:EA(g.code);return new xt(y,g.message||"")}(f);n=new SA(s,o,u,d||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=hm(r,s.document.name),u=vi(s.document.updateTime),f=s.document.createTime?vi(s.document.createTime):Bt.min(),d=new Zn({mapValue:{fields:s.document.fields}}),m=Nn.newFoundDocument(o,u,f,d),g=s.targetIds||[],y=s.removedTargetIds||[];n=new cf(g,y,m.key,m)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=hm(r,s.document),u=s.readTime?vi(s.readTime):Bt.min(),f=Nn.newNoDocument(o,u),d=s.removedTargetIds||[];n=new cf([],d,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=hm(r,s.document),u=s.removedTargetIds||[];n=new cf([],u,o,null)}else{if(!("filter"in t))return Nt(11601,{At:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new XR(o,u),d=s.targetId;n=new TA(d,f)}}return n}function aM(r,t){let n;if(t instanceof Cu)n={update:x1(r,t.key,t.value)};else if(t instanceof bA)n={delete:jm(r,t.key)};else if(t instanceof ra)n={update:x1(r,t.key,t.data),updateMask:pM(t.fieldMask)};else{if(!(t instanceof $R))return Nt(16599,{Rt:t.type});n={verify:jm(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(u,f){const d=f.transform;if(d instanceof Sf)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof bu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Eu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof wf)return{fieldPath:f.field.canonicalString(),increment:d.Ee};throw Nt(20930,{transform:f.transform})}(0,s))),t.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:rM(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Nt(27497)}(r,t.precondition)),n}function oM(r,t){return r&&r.length>0?(ae(t!==void 0,14353),r.map(n=>function(o,u){let f=o.updateTime?vi(o.updateTime):vi(u);return f.isEqual(Bt.min())&&(f=vi(u)),new HR(f,o.transformResults||[])}(n,t))):[]}function lM(r,t){return{documents:[MA(r,t.path)]}}function uM(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=MA(r,o);const u=function(g){if(g.length!==0)return CA(Ti.create(g,"and"))}(t.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(y=>function(E){return{field:Lo(E.field),direction:hM(E.dir)}}(y))}(t.orderBy);f&&(n.structuredQuery.orderBy=f);const d=Bm(r,t.limit);return d!==null&&(n.structuredQuery.limit=d),t.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),{Vt:n,parent:o}}function cM(r){let t=iM(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){ae(s===1,65062);const y=n.from[0];y.allDescendants?o=y.collectionId:t=t.child(y.collectionId)}let u=[];n.where&&(u=function(A){const E=VA(A);return E instanceof Ti&&sA(E)?E.getFilters():[E]}(n.where));let f=[];n.orderBy&&(f=function(A){return A.map(E=>function(B){return new Tf(No(B.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(B.direction))}(E))}(n.orderBy));let d=null;n.limit&&(d=function(A){let E;return E=typeof A=="object"?A.value:A,kf(E)?null:E}(n.limit));let m=null;n.startAt&&(m=function(A){const E=!!A.before,R=A.values||[];return new Ef(R,E)}(n.startAt));let g=null;return n.endAt&&(g=function(A){const E=!A.before,R=A.values||[];return new Ef(R,E)}(n.endAt)),VR(t,o,f,u,d,"F",m,g)}function fM(r,t){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Nt(28987,{purpose:o})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function VA(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=No(n.unaryFilter.field);return Je.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=No(n.unaryFilter.field);return Je.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=No(n.unaryFilter.field);return Je.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=No(n.unaryFilter.field);return Je.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Nt(61313);default:return Nt(60726)}}(r):r.fieldFilter!==void 0?function(n){return Je.create(No(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Nt(58110);default:return Nt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Ti.create(n.compositeFilter.filters.map(s=>VA(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Nt(1026)}}(n.compositeFilter.op))}(r):Nt(30097,{filter:r})}function hM(r){return JR[r]}function dM(r){return tM[r]}function mM(r){return eM[r]}function Lo(r){return{fieldPath:r.canonicalString()}}function No(r){return _n.fromServerFormat(r.fieldPath)}function CA(r){return r instanceof Je?function(n){if(n.op==="=="){if(p1(n.value))return{unaryFilter:{field:Lo(n.field),op:"IS_NAN"}};if(m1(n.value))return{unaryFilter:{field:Lo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(p1(n.value))return{unaryFilter:{field:Lo(n.field),op:"IS_NOT_NAN"}};if(m1(n.value))return{unaryFilter:{field:Lo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lo(n.field),op:dM(n.op),value:n.value}}}(r):r instanceof Ti?function(n){const s=n.getFilters().map(o=>CA(o));return s.length===1?s[0]:{compositeFilter:{op:mM(n.op),filters:s}}}(r):Nt(54877,{filter:r})}function pM(r){const t=[];return r.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function IA(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(t,n,s,o,u=Bt.min(),f=Bt.min(),d=An.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(t){return new Us(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(t){this.gt=t}}function yM(r){const t=cM({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Dm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(){this.Dn=new _M}addToCollectionParentIndex(t,n){return this.Dn.add(n),ct.resolve()}getCollectionParents(t,n){return ct.resolve(this.Dn.getEntries(n))}addFieldIndex(t,n){return ct.resolve()}deleteFieldIndex(t,n){return ct.resolve()}deleteAllFieldIndexes(t){return ct.resolve()}createTargetIndexes(t,n){return ct.resolve()}getDocumentsMatchingTarget(t,n){return ct.resolve(null)}getIndexType(t,n){return ct.resolve(0)}getFieldIndexes(t,n){return ct.resolve([])}getNextCollectionGroupToUpdate(t){return ct.resolve(null)}getMinOffset(t,n){return ct.resolve(Qs.min())}getMinOffsetFromCollectionGroup(t,n){return ct.resolve(Qs.min())}updateCollectionGroup(t,n,s){return ct.resolve()}updateIndexEntries(t,n){return ct.resolve()}}class _M{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new en(Me.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new en(Me.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},LA=41943040;class Wn{static withCacheSize(t){return new Wn(t,Wn.DEFAULT_COLLECTION_PERCENTILE,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wn.DEFAULT_COLLECTION_PERCENTILE=10,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wn.DEFAULT=new Wn(LA,Wn.DEFAULT_COLLECTION_PERCENTILE,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wn.DISABLED=new Wn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(t){this._r=t}next(){return this._r+=2,this._r}static ar(){return new Fo(0)}static ur(){return new Fo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1="LruGarbageCollector",AM=1048576;function I1([r,t],[n,s]){const o=qt(r,n);return o===0?qt(t,s):o}class bM{constructor(t){this.Tr=t,this.buffer=new en(I1),this.Ir=0}dr(){return++this.Ir}Er(t){const n=[t,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();I1(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class EM{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(t){At(C1,`Garbage collection scheduled in ${t}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ko(n)?At(C1,"Ignoring IndexedDB error during garbage collection: ",n):await Xo(n)}await this.Rr(3e5)})}}class TM{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.mr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return ct.resolve(Bf.ue);const s=new bM(n);return this.Vr.forEachTarget(t,o=>s.Er(o.sequenceNumber)).next(()=>this.Vr.gr(t,o=>s.Er(o))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.Vr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(At("LruGarbageCollector","Garbage collection skipped; disabled"),ct.resolve(V1)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(At("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),V1):this.pr(t,n))}getCacheSize(t){return this.Vr.getCacheSize(t)}pr(t,n){let s,o,u,f,d,m,g;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(At("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,f=Date.now(),this.nthSequenceNumber(t,o))).next(A=>(s=A,d=Date.now(),this.removeTargets(t,s,n))).next(A=>(u=A,m=Date.now(),this.removeOrphanedDocuments(t,s))).next(A=>(g=Date.now(),Co()<=te.DEBUG&&At("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-y}ms
	Determined least recently used ${o} in `+(d-f)+`ms
	Removed ${u} targets in `+(m-d)+`ms
	Removed ${A} documents in `+(g-m)+`ms
Total Duration: ${g-y}ms`),ct.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A})))}}function SM(r,t){return new TM(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(){this.changes=new ka(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Nn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ct.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(t,n))).next(o=>(s!==null&&hu(s.mutation,o,dr.empty(),be.now()),o))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,Yt()).next(()=>s))}getLocalViewOfDocuments(t,n,s=Yt()){const o=La();return this.populateOverlays(t,o,n).next(()=>this.computeViews(t,n,o,s).next(u=>{let f=tu();return u.forEach((d,m)=>{f=f.insert(d,m.overlayedDocument)}),f}))}getOverlayedDocuments(t,n){const s=La();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,Yt()))}populateOverlays(t,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((f,d)=>{n.set(f,d)})})}computeViews(t,n,s,o){let u=rs();const f=fu(),d=function(){return fu()}();return n.forEach((m,g)=>{const y=s.get(g.key);o.has(g.key)&&(y===void 0||y.mutation instanceof ra)?u=u.insert(g.key,g):y!==void 0?(f.set(g.key,y.mutation.getFieldMask()),hu(y.mutation,g,y.mutation.getFieldMask(),be.now())):f.set(g.key,dr.empty())}),this.recalculateAndSaveOverlays(t,u).next(m=>(m.forEach((g,y)=>f.set(g,y)),n.forEach((g,y)=>{var A;return d.set(g,new RM(y,(A=f.get(g))!==null&&A!==void 0?A:null))}),d))}recalculateAndSaveOverlays(t,n){const s=fu();let o=new xe((f,d)=>f-d),u=Yt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(f=>{for(const d of f)d.keys().forEach(m=>{const g=n.get(m);if(g===null)return;let y=s.get(m)||dr.empty();y=d.applyToLocalView(g,y),s.set(m,y);const A=(o.get(d.batchId)||Yt()).add(m);o=o.insert(d.batchId,A)})}).next(()=>{const f=[],d=o.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,y=m.value,A=dA();y.forEach(E=>{if(!u.has(E)){const R=_A(n.get(E),s.get(E));R!==null&&A.set(E,R),u=u.add(E)}}),f.push(this.documentOverlayCache.saveOverlays(t,g,A))}return ct.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,o){return function(f){return Ct.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):CR(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):ct.resolve(La());let d=yu,m=u;return f.next(g=>ct.forEach(g,(y,A)=>(d<A.largestBatchId&&(d=A.largestBatchId),u.get(y)?ct.resolve():this.remoteDocumentCache.getEntry(t,y).next(E=>{m=m.insert(y,E)}))).next(()=>this.populateOverlays(t,g,u)).next(()=>this.computeViews(t,m,g,Yt())).next(y=>({batchId:d,changes:hA(y)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Ct(n)).next(s=>{let o=tu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=tu();return this.indexManager.getCollectionParents(t,u).next(d=>ct.forEach(d,m=>{const g=function(A,E){return new Uf(E,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(n,m.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,s,o).next(y=>{y.forEach((A,E)=>{f=f.insert(A,E)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o))).next(f=>{u.forEach((m,g)=>{const y=g.getKey();f.get(y)===null&&(f=f.insert(y,Nn.newInvalidDocument(y)))});let d=tu();return f.forEach((m,g)=>{const y=u.get(m);y!==void 0&&hu(y.mutation,g,dr.empty(),be.now()),Ff(n,g)&&(d=d.insert(m,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(t){this.serializer=t,this.Br=new Map,this.Lr=new Map}getBundleMetadata(t,n){return ct.resolve(this.Br.get(n))}saveBundleMetadata(t,n){return this.Br.set(n.id,function(o){return{id:o.id,version:o.version,createTime:vi(o.createTime)}}(n)),ct.resolve()}getNamedQuery(t,n){return ct.resolve(this.Lr.get(n))}saveNamedQuery(t,n){return this.Lr.set(n.name,function(o){return{name:o.name,query:yM(o.bundledQuery),readTime:vi(o.readTime)}}(n)),ct.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(){this.overlays=new xe(Ct.comparator),this.kr=new Map}getOverlay(t,n){return ct.resolve(this.overlays.get(n))}getOverlays(t,n){const s=La();return ct.forEach(n,o=>this.getOverlay(t,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((o,u)=>{this.wt(t,n,u)}),ct.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.kr.delete(s)),ct.resolve()}getOverlaysForCollection(t,n,s){const o=La(),u=n.length+1,f=new Ct(n.child("")),d=this.overlays.getIteratorFrom(f);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&m.largestBatchId>s&&o.set(m.getKey(),m)}return ct.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new xe((g,y)=>g-y);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let y=u.get(g.largestBatchId);y===null&&(y=La(),u=u.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const d=La(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,y)=>d.set(g,y)),!(d.size()>=o)););return ct.resolve(d)}wt(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new YR(n,s));let u=this.kr.get(n);u===void 0&&(u=Yt(),this.kr.set(n,u)),this.kr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(){this.sessionToken=An.EMPTY_BYTE_STRING}getSessionToken(t){return ct.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,ct.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(){this.qr=new en(on.Qr),this.$r=new en(on.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(t,n){const s=new on(t,n);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.Wr(new on(t,n))}Gr(t,n){t.forEach(s=>this.removeReference(s,n))}zr(t){const n=new Ct(new Me([])),s=new on(n,t),o=new on(n,t+1),u=[];return this.$r.forEachInRange([s,o],f=>{this.Wr(f),u.push(f.key)}),u}jr(){this.qr.forEach(t=>this.Wr(t))}Wr(t){this.qr=this.qr.delete(t),this.$r=this.$r.delete(t)}Jr(t){const n=new Ct(new Me([])),s=new on(n,t),o=new on(n,t+1);let u=Yt();return this.$r.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(t){const n=new on(t,0),s=this.qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class on{constructor(t,n){this.key=t,this.Hr=n}static Qr(t,n){return Ct.comparator(t.key,n.key)||qt(t.Hr,n.Hr)}static Ur(t,n){return qt(t.Hr,n.Hr)||Ct.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new en(on.Qr)}checkEmpty(t){return ct.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new QR(u,n,s,o);this.mutationQueue.push(f);for(const d of o)this.Yr=this.Yr.add(new on(d.key,u)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return ct.resolve(f)}lookupMutationBatch(t,n){return ct.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return ct.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ct.resolve(this.mutationQueue.length===0?vp:this.er-1)}getAllMutationBatches(t){return ct.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new on(n,0),o=new on(n,Number.POSITIVE_INFINITY),u=[];return this.Yr.forEachInRange([s,o],f=>{const d=this.Zr(f.Hr);u.push(d)}),ct.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new en(qt);return n.forEach(o=>{const u=new on(o,0),f=new on(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([u,f],d=>{s=s.add(d.Hr)})}),ct.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;Ct.isDocumentKey(u)||(u=u.child(""));const f=new on(new Ct(u),0);let d=new en(qt);return this.Yr.forEachWhile(m=>{const g=m.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(d=d.add(m.Hr)),!0)},f),ct.resolve(this.ei(d))}ei(t){const n=[];return t.forEach(s=>{const o=this.Zr(s);o!==null&&n.push(o)}),n}removeMutationBatch(t,n){ae(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return ct.forEach(n.mutations,o=>{const u=new on(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Yr=s})}rr(t){}containsKey(t,n){const s=new on(n,0),o=this.Yr.firstAfterOrEqual(s);return ct.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,ct.resolve()}ti(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(t){this.ni=t,this.docs=function(){return new xe(Ct.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ni(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return ct.resolve(s?s.document.mutableCopy():Nn.newInvalidDocument(n))}getEntries(t,n){let s=rs();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Nn.newInvalidDocument(o))}),ct.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=rs();const f=n.path,d=new Ct(f.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:y}}=m.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||oR(aR(y),s)<=0||(o.has(y.key)||Ff(n,y))&&(u=u.insert(y.key,y.mutableCopy()))}return ct.resolve(u)}getAllFromCollectionGroup(t,n,s,o){Nt(9500)}ri(t,n){return ct.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new NM(this)}getSize(t){return ct.resolve(this.size)}}class NM extends wM{constructor(t){super(),this.Or=t}applyChanges(t){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Or.addEntry(t,o)):this.Or.removeEntry(s)}),ct.waitFor(n)}getFromCache(t,n){return this.Or.getEntry(t,n)}getAllFromCache(t,n){return this.Or.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(t){this.persistence=t,this.ii=new ka(n=>bp(n),Ep),this.lastRemoteSnapshotVersion=Bt.min(),this.highestTargetId=0,this.si=0,this.oi=new xp,this.targetCount=0,this._i=Fo.ar()}forEachTarget(t,n){return this.ii.forEach((s,o)=>n(o)),ct.resolve()}getLastRemoteSnapshotVersion(t){return ct.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ct.resolve(this.si)}allocateTargetId(t){return this.highestTargetId=this._i.next(),ct.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.si&&(this.si=n),ct.resolve()}hr(t){this.ii.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this._i=new Fo(n),this.highestTargetId=n),t.sequenceNumber>this.si&&(this.si=t.sequenceNumber)}addTargetData(t,n){return this.hr(n),this.targetCount+=1,ct.resolve()}updateTargetData(t,n){return this.hr(n),ct.resolve()}removeTargetData(t,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,ct.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.ii.forEach((f,d)=>{d.sequenceNumber<=n&&s.get(d.targetId)===null&&(this.ii.delete(f),u.push(this.removeMatchingKeysForTargetId(t,d.targetId)),o++)}),ct.waitFor(u).next(()=>o)}getTargetCount(t){return ct.resolve(this.targetCount)}getTargetData(t,n){const s=this.ii.get(n)||null;return ct.resolve(s)}addMatchingKeys(t,n,s){return this.oi.Kr(n,s),ct.resolve()}removeMatchingKeys(t,n,s){this.oi.Gr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(t,f))}),ct.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.oi.zr(n),ct.resolve()}getMatchingKeysForTargetId(t,n){const s=this.oi.Jr(n);return ct.resolve(s)}containsKey(t,n){return ct.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(t,n){this.ai={},this.overlays={},this.ui=new Bf(0),this.ci=!1,this.ci=!0,this.li=new CM,this.referenceDelegate=t(this),this.hi=new PM(this),this.indexManager=new vM,this.remoteDocumentCache=function(o){return new LM(o)}(s=>this.referenceDelegate.Pi(s)),this.serializer=new gM(n),this.Ti=new xM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new VM,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ai[t.toKey()];return s||(s=new IM(n,this.referenceDelegate),this.ai[t.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(t,n,s){At("MemoryPersistence","Starting transaction:",t);const o=new OM(this.ui.next());return this.referenceDelegate.Ii(),s(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ei(t,n){return ct.or(Object.values(this.ai).map(s=>()=>s.containsKey(t,n)))}}class OM extends uR{constructor(t){super(),this.currentSequenceNumber=t}}class Vp{constructor(t){this.persistence=t,this.Ai=new xp,this.Ri=null}static Vi(t){return new Vp(t)}get mi(){if(this.Ri)return this.Ri;throw Nt(60996)}addReference(t,n,s){return this.Ai.addReference(s,n),this.mi.delete(s.toString()),ct.resolve()}removeReference(t,n,s){return this.Ai.removeReference(s,n),this.mi.add(s.toString()),ct.resolve()}markPotentiallyOrphaned(t,n){return this.mi.add(n.toString()),ct.resolve()}removeTarget(t,n){this.Ai.zr(n.targetId).forEach(o=>this.mi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(o=>{o.forEach(u=>this.mi.add(u.toString()))}).next(()=>s.removeTargetData(t,n))}Ii(){this.Ri=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ct.forEach(this.mi,s=>{const o=Ct.fromPath(s);return this.fi(t,o).next(u=>{u||n.removeEntry(o,Bt.min())})}).next(()=>(this.Ri=null,n.apply(t)))}updateLimboDocument(t,n){return this.fi(t,n).next(s=>{s?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(t){return 0}fi(t,n){return ct.or([()=>ct.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class Mf{constructor(t,n){this.persistence=t,this.gi=new ka(s=>hR(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=SM(this,n)}static Vi(t,n){return new Mf(t,n)}Ii(){}di(t){return ct.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}mr(t){const n=this.yr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(o=>s+o))}yr(t){let n=0;return this.gr(t,s=>{n++}).next(()=>n)}gr(t,n){return ct.forEach(this.gi,(s,o)=>this.Sr(t,s,o).next(u=>u?ct.resolve():n(o)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ri(t,f=>this.Sr(t,f,n).next(d=>{d||(s++,u.removeEntry(f,Bt.min()))})).next(()=>u.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.gi.set(n,t.currentSequenceNumber),ct.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.gi.set(s,t.currentSequenceNumber),ct.resolve()}removeReference(t,n,s){return this.gi.set(s,t.currentSequenceNumber),ct.resolve()}updateLimboDocument(t,n){return this.gi.set(n,t.currentSequenceNumber),ct.resolve()}Pi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=of(t.data.value)),n}Sr(t,n,s){return ct.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.gi.get(n);return ct.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Is=s,this.ds=o}static Es(t,n){let s=Yt(),o=Yt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Cp(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return CS()?8:cR(xS())>0?6:4}()}initialize(t,n){this.gs=t,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.ps(t,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ys(t,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new DM;return this.ws(t,n,f).next(d=>{if(u.result=d,this.Rs)return this.Ss(t,n,f,d.size)})}).next(()=>u.result)}Ss(t,n,s,o){return s.documentReadCount<this.Vs?(Co()<=te.DEBUG&&At("QueryEngine","SDK will not create cache indexes for query:",Io(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ct.resolve()):(Co()<=te.DEBUG&&At("QueryEngine","Query:",Io(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(Co()<=te.DEBUG&&At("QueryEngine","The SDK decides to create cache indexes for query:",Io(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,gi(n))):ct.resolve())}ps(t,n){if(_1(n))return ct.resolve(null);let s=gi(n);return this.indexManager.getIndexType(t,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Dm(n,null,"F"),s=gi(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(u=>{const f=Yt(...u);return this.gs.getDocuments(t,f).next(d=>this.indexManager.getMinOffset(t,s).next(m=>{const g=this.bs(n,d);return this.Ds(n,g,f,m.readTime)?this.ps(t,Dm(n,null,"F")):this.vs(t,g,n,m)}))})))}ys(t,n,s,o){return _1(n)||o.isEqual(Bt.min())?ct.resolve(null):this.gs.getDocuments(t,s).next(u=>{const f=this.bs(n,u);return this.Ds(n,f,s,o)?ct.resolve(null):(Co()<=te.DEBUG&&At("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Io(n)),this.vs(t,f,n,sR(o,yu)).next(d=>d))})}bs(t,n){let s=new en(cA(t));return n.forEach((o,u)=>{Ff(t,u)&&(s=s.add(u))}),s}Ds(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ws(t,n,s){return Co()<=te.DEBUG&&At("QueryEngine","Using full collection scan to execute query:",Io(n)),this.gs.getDocumentsMatchingQuery(t,n,Qs.min(),s)}vs(t,n,s,o){return this.gs.getDocumentsMatchingQuery(t,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip="LocalStore",kM=3e8;class jM{constructor(t,n,s,o){this.persistence=t,this.Cs=n,this.serializer=o,this.Fs=new xe(qt),this.Ms=new ka(u=>bp(u),Ep),this.xs=new Map,this.Os=t.getRemoteDocumentCache(),this.hi=t.getTargetCache(),this.Ti=t.getBundleCache(),this.Ns(s)}Ns(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new MM(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Fs))}}function UM(r,t,n,s){return new jM(r,t,n,s)}async function PA(r,t){const n=jt(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Ns(t),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],d=[];let m=Yt();for(const g of o){f.push(g.batchId);for(const y of g.mutations)m=m.add(y.key)}for(const g of u){d.push(g.batchId);for(const y of g.mutations)m=m.add(y.key)}return n.localDocuments.getDocuments(s,m).next(g=>({Bs:g,removedBatchIds:f,addedBatchIds:d}))})})}function zM(r,t){const n=jt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=t.batch.keys(),u=n.Os.newChangeBuffer({trackRemovals:!0});return function(d,m,g,y){const A=g.batch,E=A.keys();let R=ct.resolve();return E.forEach(B=>{R=R.next(()=>y.getEntry(m,B)).next(k=>{const N=g.docVersions.get(B);ae(N!==null,48541),k.version.compareTo(N)<0&&(A.applyToRemoteDocument(k,g),k.isValidDocument()&&(k.setReadTime(g.commitVersion),y.addEntry(k)))})}),R.next(()=>d.mutationQueue.removeMutationBatch(m,A))}(n,s,t,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let m=Yt();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m}(t))).next(()=>n.localDocuments.getDocuments(s,o))})}function OA(r){const t=jt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.hi.getLastRemoteSnapshotVersion(n))}function FM(r,t){const n=jt(r),s=t.snapshotVersion;let o=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Os.newChangeBuffer({trackRemovals:!0});o=n.Fs;const d=[];t.targetChanges.forEach((y,A)=>{const E=o.get(A);if(!E)return;d.push(n.hi.removeMatchingKeys(u,y.removedDocuments,A).next(()=>n.hi.addMatchingKeys(u,y.addedDocuments,A)));let R=E.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(A)!==null?R=R.withResumeToken(An.EMPTY_BYTE_STRING,Bt.min()).withLastLimboFreeSnapshotVersion(Bt.min()):y.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(y.resumeToken,s)),o=o.insert(A,R),function(k,N,X){return k.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=kM?!0:X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0}(E,R,y)&&d.push(n.hi.updateTargetData(u,R))});let m=rs(),g=Yt();if(t.documentUpdates.forEach(y=>{t.resolvedLimboDocuments.has(y)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(u,y))}),d.push(HM(u,f,t.documentUpdates).next(y=>{m=y.Ls,g=y.ks})),!s.isEqual(Bt.min())){const y=n.hi.getLastRemoteSnapshotVersion(u).next(A=>n.hi.setTargetsMetadata(u,u.currentSequenceNumber,s));d.push(y)}return ct.waitFor(d).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,m,g)).next(()=>m)}).then(u=>(n.Fs=o,u))}function HM(r,t,n){let s=Yt(),o=Yt();return n.forEach(u=>s=s.add(u)),t.getEntries(r,s).next(u=>{let f=rs();return n.forEach((d,m)=>{const g=u.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),m.isNoDocument()&&m.version.isEqual(Bt.min())?(t.removeEntry(d,m.readTime),f=f.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(m),f=f.insert(d,m)):At(Ip,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)}),{Ls:f,ks:o}})}function qM(r,t){const n=jt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=vp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function GM(r,t){const n=jt(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.hi.getTargetData(s,t).next(u=>u?(o=u,ct.resolve(o)):n.hi.allocateTargetId(s).next(f=>(o=new Us(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.hi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(s.targetId,s),n.Ms.set(t,s.targetId)),s})}async function zm(r,t,n){const s=jt(r),o=s.Fs.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!Ko(f))throw f;At(Ip,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Fs=s.Fs.remove(t),s.Ms.delete(o.target)}function L1(r,t,n){const s=jt(r);let o=Bt.min(),u=Yt();return s.persistence.runTransaction("Execute query","readwrite",f=>function(m,g,y){const A=jt(m),E=A.Ms.get(y);return E!==void 0?ct.resolve(A.Fs.get(E)):A.hi.getTargetData(g,y)}(s,f,gi(t)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(f,d.targetId).next(m=>{u=m})}).next(()=>s.Cs.getDocumentsMatchingQuery(f,t,n?o:Bt.min(),n?u:Yt())).next(d=>($M(s,LR(t),d),{documents:d,qs:u})))}function $M(r,t,n){let s=r.xs.get(t)||Bt.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.xs.set(t,s)}class N1{constructor(){this.activeTargetIds=kR()}Gs(t){this.activeTargetIds=this.activeTargetIds.add(t)}zs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class QM{constructor(){this.Fo=new N1,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Fo.Gs(t),this.Mo[t]||"not-current"}updateQueryState(t,n,s){this.Mo[t]=n}removeLocalQueryTarget(t){this.Fo.zs(t)}isLocalQueryTarget(t){return this.Fo.activeTargetIds.has(t)}clearQueryState(t){delete this.Mo[t]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(t){return this.Fo.activeTargetIds.has(t)}start(){return this.Fo=new N1,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{xo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1="ConnectivityMonitor";class O1{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(t){this.ko.push(t)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){At(P1,"Network connectivity changed: AVAILABLE");for(const t of this.ko)t(0)}Lo(){At(P1,"Network connectivity changed: UNAVAILABLE");for(const t of this.ko)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tf=null;function Fm(){return tf===null?tf=function(){return 268435456+Math.round(2147483648*Math.random())}():tf++,"0x"+tf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dm="RestConnection",XM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class KM{get Qo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+t.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===Af?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(t,n,s,o,u){const f=Fm(),d=this.Go(t,n.toUriEncodedString());At(dm,`Sending RPC '${t}' ${f}:`,d,s);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(m,o,u);const{host:g}=new URL(d),y=dp(g);return this.jo(t,d,m,s,y).then(A=>(At(dm,`Received RPC '${t}' ${f}: `,A),A),A=>{throw $s(dm,`RPC '${t}' ${f} failed with error: `,A,"url: ",d,"request:",s),A})}Jo(t,n,s,o,u,f){return this.Wo(t,n,s,o,u)}zo(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Yo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>t[u]=o),s&&s.headers.forEach((o,u)=>t[u]=o)}Go(t,n){const s=XM[t];return`${this.$o}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(t){this.Ho=t.Ho,this.Yo=t.Yo}Zo(t){this.Xo=t}e_(t){this.t_=t}n_(t){this.r_=t}onMessage(t){this.i_=t}close(){this.Yo()}send(t){this.Ho(t)}s_(){this.Xo()}o_(){this.t_()}__(t){this.r_(t)}a_(t){this.i_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cn="WebChannelConnection";class ZM extends KM{constructor(t){super(t),this.u_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}jo(t,n,s,o,u){const f=Fm();return new Promise((d,m)=>{const g=new k_;g.setWithCredentials(!0),g.listenOnce(j_.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case af.NO_ERROR:const A=g.getResponseJson();At(Cn,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(A)),d(A);break;case af.TIMEOUT:At(Cn,`RPC '${t}' ${f} timed out`),m(new xt(ft.DEADLINE_EXCEEDED,"Request time out"));break;case af.HTTP_ERROR:const E=g.getStatus();if(At(Cn,`RPC '${t}' ${f} failed with status:`,E,"response text:",g.getResponseText()),E>0){let R=g.getResponseJson();Array.isArray(R)&&(R=R[0]);const B=R==null?void 0:R.error;if(B&&B.status&&B.message){const k=function(X){const $=X.toLowerCase().replace(/_/g,"-");return Object.values(ft).indexOf($)>=0?$:ft.UNKNOWN}(B.status);m(new xt(k,B.message))}else m(new xt(ft.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new xt(ft.UNAVAILABLE,"Connection failed."));break;default:Nt(9055,{c_:t,streamId:f,l_:g.getLastErrorCode(),h_:g.getLastError()})}}finally{At(Cn,`RPC '${t}' ${f} completed.`)}});const y=JSON.stringify(o);At(Cn,`RPC '${t}' ${f} sending request:`,o),g.send(n,"POST",y,s,15)})}P_(t,n,s){const o=Fm(),u=[this.$o,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=F_(),d=z_(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.zo(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const y=u.join("");At(Cn,`Creating RPC '${t}' stream ${o}: ${y}`,m);const A=f.createWebChannel(y,m);this.T_(A);let E=!1,R=!1;const B=new WM({Ho:N=>{R?At(Cn,`Not sending because RPC '${t}' stream ${o} is closed:`,N):(E||(At(Cn,`Opening RPC '${t}' stream ${o} transport.`),A.open(),E=!0),At(Cn,`RPC '${t}' stream ${o} sending:`,N),A.send(N))},Yo:()=>A.close()}),k=(N,X,$)=>{N.listen(X,et=>{try{$(et)}catch(ot){setTimeout(()=>{throw ot},0)}})};return k(A,Jl.EventType.OPEN,()=>{R||(At(Cn,`RPC '${t}' stream ${o} transport opened.`),B.s_())}),k(A,Jl.EventType.CLOSE,()=>{R||(R=!0,At(Cn,`RPC '${t}' stream ${o} transport closed`),B.__(),this.I_(A))}),k(A,Jl.EventType.ERROR,N=>{R||(R=!0,$s(Cn,`RPC '${t}' stream ${o} transport errored. Name:`,N.name,"Message:",N.message),B.__(new xt(ft.UNAVAILABLE,"The operation could not be completed")))}),k(A,Jl.EventType.MESSAGE,N=>{var X;if(!R){const $=N.data[0];ae(!!$,16349);const et=$,ot=(et==null?void 0:et.error)||((X=et[0])===null||X===void 0?void 0:X.error);if(ot){At(Cn,`RPC '${t}' stream ${o} received error:`,ot);const st=ot.status;let ht=function(V){const D=He[V];if(D!==void 0)return EA(D)}(st),I=ot.message;ht===void 0&&(ht=ft.INTERNAL,I="Unknown error status: "+st+" with message "+ot.message),R=!0,B.__(new xt(ht,I)),A.close()}else At(Cn,`RPC '${t}' stream ${o} received:`,$),B.a_($)}}),k(d,U_.STAT_EVENT,N=>{N.stat===Cm.PROXY?At(Cn,`RPC '${t}' stream ${o} detected buffering proxy`):N.stat===Cm.NOPROXY&&At(Cn,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{B.o_()},0),B}terminate(){this.u_.forEach(t=>t.close()),this.u_=[]}T_(t){this.u_.push(t)}I_(t){this.u_=this.u_.filter(n=>n===t)}}function mm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $f(r){return new nM(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Fi=t,this.timerId=n,this.d_=s,this.E_=o,this.A_=u,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(t){this.cancel();const n=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,n-s);o>0&&At("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,()=>(this.m_=Date.now(),t())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1="PersistentStream";class BA{constructor(t,n,s,o,u,f,d,m){this.Fi=t,this.w_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new DA(t,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(t){this.q_(),this.stream.send(t)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,t!==4?this.F_.reset():n&&n.code===ft.RESOURCE_EXHAUSTED?(ns(n.toString()),ns("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===ft.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.n_(n)}U_(){}auth(){this.state=1;const t=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.b_===n&&this.W_(s,o)},s=>{t(()=>{const o=new xt(ft.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)})})}W_(t,n){const s=this.K_(this.b_);this.stream=this.z_(t,n),this.stream.Zo(()=>{s(()=>this.listener.Zo())}),this.stream.e_(()=>{s(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(o=>{s(()=>this.G_(o))}),this.stream.onMessage(o=>{s(()=>++this.C_==1?this.j_(o):this.onNext(o))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(t){return At(D1,`close with error: ${t}`),this.stream=null,this.close(4,t)}K_(t){return n=>{this.Fi.enqueueAndForget(()=>this.b_===t?n():(At(D1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class JM extends BA{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}z_(t,n){return this.connection.P_("Listen",t,n)}j_(t){return this.onNext(t)}onNext(t){this.F_.reset();const n=sM(this.serializer,t),s=function(u){if(!("targetChange"in u))return Bt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Bt.min():f.readTime?vi(f.readTime):Bt.min()}(t);return this.listener.J_(n,s)}H_(t){const n={};n.database=Um(this.serializer),n.addTarget=function(u,f){let d;const m=f.target;if(d=Om(m)?{documents:lM(u,m)}:{query:uM(u,m).Vt},d.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){d.resumeToken=wA(u,f.resumeToken);const g=Bm(u,f.expectedCount);g!==null&&(d.expectedCount=g)}else if(f.snapshotVersion.compareTo(Bt.min())>0){d.readTime=Rf(u,f.snapshotVersion.toTimestamp());const g=Bm(u,f.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,t);const s=fM(this.serializer,t);s&&(n.labels=s),this.k_(n)}Y_(t){const n={};n.database=Um(this.serializer),n.removeTarget=t,this.k_(n)}}class tx extends BA{constructor(t,n,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(t,n){return this.connection.P_("Write",t,n)}j_(t){return ae(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,ae(!t.writeResults||t.writeResults.length===0,55816),this.listener.ea()}onNext(t){ae(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.F_.reset();const n=oM(t.writeResults,t.commitTime),s=vi(t.commitTime);return this.listener.ta(s,n)}na(){const t={};t.database=Um(this.serializer),this.k_(t)}X_(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>aM(this.serializer,s))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{}class nx extends ex{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new xt(ft.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Wo(t,km(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ft.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new xt(ft.UNKNOWN,u.toString())})}Jo(t,n,s,o,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,d])=>this.connection.Jo(t,km(n,s),o,f,d,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===ft.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new xt(ft.UNKNOWN,f.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class rx{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(t){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ua("Offline")))}set(t){this.ha(),this.sa=0,t==="Online"&&(this._a=!1),this.ua(t)}ua(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ca(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(ns(n),this._a=!1):At("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da="RemoteStore";class ix{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=u,this.Ea.xo(f=>{s.enqueueAndForget(async()=>{ja(this)&&(At(Da,"Restarting streams for network reachability change."),await async function(m){const g=jt(m);g.Ia.add(4),await Lu(g),g.Aa.set("Unknown"),g.Ia.delete(4),await Qf(g)}(this))})}),this.Aa=new rx(s,o)}}async function Qf(r){if(ja(r))for(const t of r.da)await t(!0)}async function Lu(r){for(const t of r.da)await t(!1)}function kA(r,t){const n=jt(r);n.Ta.has(t.targetId)||(n.Ta.set(t.targetId,t),Op(n)?Pp(n):Wo(n).x_()&&Np(n,t))}function Lp(r,t){const n=jt(r),s=Wo(n);n.Ta.delete(t),s.x_()&&jA(n,t),n.Ta.size===0&&(s.x_()?s.B_():ja(n)&&n.Aa.set("Unknown"))}function Np(r,t){if(r.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Bt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Wo(r).H_(t)}function jA(r,t){r.Ra.$e(t),Wo(r).Y_(t)}function Pp(r){r.Ra=new ZR({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>r.Ta.get(t)||null,lt:()=>r.datastore.serializer.databaseId}),Wo(r).start(),r.Aa.aa()}function Op(r){return ja(r)&&!Wo(r).M_()&&r.Ta.size>0}function ja(r){return jt(r).Ia.size===0}function UA(r){r.Ra=void 0}async function sx(r){r.Aa.set("Online")}async function ax(r){r.Ta.forEach((t,n)=>{Np(r,t)})}async function ox(r,t){UA(r),Op(r)?(r.Aa.la(t),Pp(r)):r.Aa.set("Unknown")}async function lx(r,t,n){if(r.Aa.set("Online"),t instanceof SA&&t.state===2&&t.cause)try{await async function(o,u){const f=u.cause;for(const d of u.targetIds)o.Ta.has(d)&&(await o.remoteSyncer.rejectListen(d,f),o.Ta.delete(d),o.Ra.removeTarget(d))}(r,t)}catch(s){At(Da,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await xf(r,s)}else if(t instanceof cf?r.Ra.Ye(t):t instanceof TA?r.Ra.it(t):r.Ra.et(t),!n.isEqual(Bt.min()))try{const s=await OA(r.localStore);n.compareTo(s)>=0&&await function(u,f){const d=u.Ra.Pt(f);return d.targetChanges.forEach((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const y=u.Ta.get(g);y&&u.Ta.set(g,y.withResumeToken(m.resumeToken,f))}}),d.targetMismatches.forEach((m,g)=>{const y=u.Ta.get(m);if(!y)return;u.Ta.set(m,y.withResumeToken(An.EMPTY_BYTE_STRING,y.snapshotVersion)),jA(u,m);const A=new Us(y.target,m,g,y.sequenceNumber);Np(u,A)}),u.remoteSyncer.applyRemoteEvent(d)}(r,n)}catch(s){At(Da,"Failed to raise snapshot:",s),await xf(r,s)}}async function xf(r,t,n){if(!Ko(t))throw t;r.Ia.add(1),await Lu(r),r.Aa.set("Offline"),n||(n=()=>OA(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{At(Da,"Retrying IndexedDB access"),await n(),r.Ia.delete(1),await Qf(r)})}function zA(r,t){return t().catch(n=>xf(r,n,t))}async function Yf(r){const t=jt(r),n=Ws(t);let s=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:vp;for(;ux(t);)try{const o=await qM(t.localStore,s);if(o===null){t.Pa.length===0&&n.B_();break}s=o.batchId,cx(t,o)}catch(o){await xf(t,o)}FA(t)&&HA(t)}function ux(r){return ja(r)&&r.Pa.length<10}function cx(r,t){r.Pa.push(t);const n=Ws(r);n.x_()&&n.Z_&&n.X_(t.mutations)}function FA(r){return ja(r)&&!Ws(r).M_()&&r.Pa.length>0}function HA(r){Ws(r).start()}async function fx(r){Ws(r).na()}async function hx(r){const t=Ws(r);for(const n of r.Pa)t.X_(n.mutations)}async function dx(r,t,n){const s=r.Pa.shift(),o=wp.from(s,t,n);await zA(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Yf(r)}async function mx(r,t){t&&Ws(r).Z_&&await async function(s,o){if(function(f){return KR(f)&&f!==ft.ABORTED}(o.code)){const u=s.Pa.shift();Ws(s).N_(),await zA(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Yf(s)}}(r,t),FA(r)&&HA(r)}async function B1(r,t){const n=jt(r);n.asyncQueue.verifyOperationInProgress(),At(Da,"RemoteStore received new credentials");const s=ja(n);n.Ia.add(3),await Lu(n),s&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ia.delete(3),await Qf(n)}async function px(r,t){const n=jt(r);t?(n.Ia.delete(2),await Qf(n)):t||(n.Ia.add(2),await Lu(n),n.Aa.set("Unknown"))}function Wo(r){return r.Va||(r.Va=function(n,s,o){const u=jt(n);return u.ia(),new JM(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Zo:sx.bind(null,r),e_:ax.bind(null,r),n_:ox.bind(null,r),J_:lx.bind(null,r)}),r.da.push(async t=>{t?(r.Va.N_(),Op(r)?Pp(r):r.Aa.set("Unknown")):(await r.Va.stop(),UA(r))})),r.Va}function Ws(r){return r.ma||(r.ma=function(n,s,o){const u=jt(n);return u.ia(),new tx(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),e_:fx.bind(null,r),n_:mx.bind(null,r),ea:hx.bind(null,r),ta:dx.bind(null,r)}),r.da.push(async t=>{t?(r.ma.N_(),await Yf(r)):(await r.ma.stop(),r.Pa.length>0&&(At(Da,`Stopping write stream with ${r.Pa.length} pending writes`),r.Pa=[]))})),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Na,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,d=new Dp(t,n,f,o,u);return d.start(s),d}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xt(ft.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bp(r,t){if(ns("AsyncQueue",`${t}: ${r}`),Ko(r))return new xt(ft.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{static emptySet(t){return new Oo(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||Ct.comparator(n.key,s.key):(n,s)=>Ct.comparator(n.key,s.key),this.keyedMap=tu(),this.sortedSet=new xe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Oo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Oo;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(){this.fa=new xe(Ct.comparator)}track(t){const n=t.doc.key,s=this.fa.get(n);s?t.type!==0&&s.type===3?this.fa=this.fa.insert(n,t):t.type===3&&s.type!==1?this.fa=this.fa.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.fa=this.fa.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.fa=this.fa.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.fa=this.fa.remove(n):t.type===1&&s.type===2?this.fa=this.fa.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.fa=this.fa.insert(n,{type:2,doc:t.doc}):Nt(63341,{At:t,ga:s}):this.fa=this.fa.insert(n,t)}pa(){const t=[];return this.fa.inorderTraversal((n,s)=>{t.push(s)}),t}}class Ho{constructor(t,n,s,o,u,f,d,m,g){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach(d=>{f.push({type:0,doc:d})}),new Ho(t,n,Oo.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&zf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(t=>t.ba())}}class yx{constructor(){this.queries=j1(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,s){const o=jt(n),u=o.queries;o.queries=j1(),u.forEach((f,d)=>{for(const m of d.wa)m.onError(s)})})(this,new xt(ft.ABORTED,"Firestore shutting down"))}}function j1(){return new ka(r=>uA(r),zf)}async function vx(r,t){const n=jt(r);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.Sa()&&t.ba()&&(s=2):(u=new gx,s=t.ba()?0:1);try{switch(s){case 0:u.ya=await n.onListen(o,!0);break;case 1:u.ya=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const d=Bp(f,`Initialization of query '${Io(t.query)}' failed`);return void t.onError(d)}n.queries.set(o,u),u.wa.push(t),t.va(n.onlineState),u.ya&&t.Ca(u.ya)&&kp(n)}async function _x(r,t){const n=jt(r),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.wa.indexOf(t);f>=0&&(u.wa.splice(f,1),u.wa.length===0?o=t.ba()?0:1:!u.Sa()&&t.ba()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function Ax(r,t){const n=jt(r);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const d of f.wa)d.Ca(o)&&(s=!0);f.ya=o}}s&&kp(n)}function bx(r,t,n){const s=jt(r),o=s.queries.get(t);if(o)for(const u of o.wa)u.onError(n);s.queries.delete(t)}function kp(r){r.Da.forEach(t=>{t.next()})}var Hm,U1;(U1=Hm||(Hm={})).Fa="default",U1.Cache="cache";class Ex{constructor(t,n,s){this.query=t,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new Ho(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.xa?this.Na(t)&&(this.Ma.next(t),n=!0):this.Ba(t,this.onlineState)&&(this.La(t),n=!0),this.Oa=t,n}onError(t){this.Ma.error(t)}va(t){this.onlineState=t;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,t)&&(this.La(this.Oa),n=!0),n}Ba(t,n){if(!t.fromCache||!this.ba())return!0;const s=n!=="Offline";return(!this.options.ka||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Na(t){if(t.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(t){t=Ho.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.xa=!0,this.Ma.next(t)}ba(){return this.options.source!==Hm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(t){this.key=t}}class GA{constructor(t){this.key=t}}class Tx{constructor(t,n){this.query=t,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Yt(),this.mutatedKeys=Yt(),this.Xa=cA(t),this.eu=new Oo(this.Xa)}get tu(){return this.Ha}nu(t,n){const s=n?n.ru:new k1,o=n?n.eu:this.eu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,d=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((y,A)=>{const E=o.get(y),R=Ff(this.query,A)?A:null,B=!!E&&this.mutatedKeys.has(E.key),k=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let N=!1;E&&R?E.data.isEqual(R.data)?B!==k&&(s.track({type:3,doc:R}),N=!0):this.iu(E,R)||(s.track({type:2,doc:R}),N=!0,(m&&this.Xa(R,m)>0||g&&this.Xa(R,g)<0)&&(d=!0)):!E&&R?(s.track({type:0,doc:R}),N=!0):E&&!R&&(s.track({type:1,doc:E}),N=!0,(m||g)&&(d=!0)),N&&(R?(f=f.add(R),u=k?u.add(y):u.delete(y)):(f=f.delete(y),u=u.delete(y)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const y=this.query.limitType==="F"?f.last():f.first();f=f.delete(y.key),u=u.delete(y.key),s.track({type:1,doc:y})}return{eu:f,ru:s,Ds:d,mutatedKeys:u}}iu(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.eu;this.eu=t.eu,this.mutatedKeys=t.mutatedKeys;const f=t.ru.pa();f.sort((y,A)=>function(R,B){const k=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Nt(20277,{At:N})}};return k(R)-k(B)}(y.type,A.type)||this.Xa(y.doc,A.doc)),this.su(s),o=o!=null&&o;const d=n&&!o?this.ou():[],m=this.Za.size===0&&this.current&&!o?1:0,g=m!==this.Ya;return this.Ya=m,f.length!==0||g?{snapshot:new Ho(this.query,t.eu,u,f,t.mutatedKeys,m===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:d}:{_u:d}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new k1,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(t){return!this.Ha.has(t)&&!!this.eu.has(t)&&!this.eu.get(t).hasLocalMutations}su(t){t&&(t.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=t.current)}ou(){if(!this.current)return[];const t=this.Za;this.Za=Yt(),this.eu.forEach(s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))});const n=[];return t.forEach(s=>{this.Za.has(s)||n.push(new GA(s))}),this.Za.forEach(s=>{t.has(s)||n.push(new qA(s))}),n}uu(t){this.Ha=t.qs,this.Za=Yt();const n=this.nu(t.documents);return this.applyChanges(n,!0)}cu(){return Ho.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const jp="SyncEngine";class Sx{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class wx{constructor(t){this.key=t,this.lu=!1}}class Rx{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.hu={},this.Pu=new ka(d=>uA(d),zf),this.Tu=new Map,this.Iu=new Set,this.du=new xe(Ct.comparator),this.Eu=new Map,this.Au=new xp,this.Ru={},this.Vu=new Map,this.mu=Fo.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function Mx(r,t,n=!0){const s=WA(r);let o;const u=s.Pu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.cu()):o=await $A(s,t,n,!0),o}async function xx(r,t){const n=WA(r);await $A(n,t,!0,!1)}async function $A(r,t,n,s){const o=await GM(r.localStore,gi(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let d;return s&&(d=await Vx(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&kA(r.remoteStore,o),d}async function Vx(r,t,n,s,o){r.gu=(A,E,R)=>async function(k,N,X,$){let et=N.view.nu(X);et.Ds&&(et=await L1(k.localStore,N.query,!1).then(({documents:I})=>N.view.nu(I,et)));const ot=$&&$.targetChanges.get(N.targetId),st=$&&$.targetMismatches.get(N.targetId)!=null,ht=N.view.applyChanges(et,k.isPrimaryClient,ot,st);return F1(k,N.targetId,ht._u),ht.snapshot}(r,A,E,R);const u=await L1(r.localStore,t,!0),f=new Tx(t,u.qs),d=f.nu(u.documents),m=Iu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(d,r.isPrimaryClient,m);F1(r,n,g._u);const y=new Sx(t,n,f);return r.Pu.set(t,y),r.Tu.has(n)?r.Tu.get(n).push(t):r.Tu.set(n,[t]),g.snapshot}async function Cx(r,t,n){const s=jt(r),o=s.Pu.get(t),u=s.Tu.get(o.targetId);if(u.length>1)return s.Tu.set(o.targetId,u.filter(f=>!zf(f,t))),void s.Pu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await zm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Lp(s.remoteStore,o.targetId),qm(s,o.targetId)}).catch(Xo)):(qm(s,o.targetId),await zm(s.localStore,o.targetId,!0))}async function Ix(r,t){const n=jt(r),s=n.Pu.get(t),o=n.Tu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Lp(n.remoteStore,s.targetId))}async function Lx(r,t,n){const s=jx(r);try{const o=await function(f,d){const m=jt(f),g=be.now(),y=d.reduce((R,B)=>R.add(B.key),Yt());let A,E;return m.persistence.runTransaction("Locally write mutations","readwrite",R=>{let B=rs(),k=Yt();return m.Os.getEntries(R,y).next(N=>{B=N,B.forEach((X,$)=>{$.isValidDocument()||(k=k.add(X))})}).next(()=>m.localDocuments.getOverlayedDocuments(R,B)).next(N=>{A=N;const X=[];for(const $ of d){const et=GR($,A.get($.key).overlayedDocument);et!=null&&X.push(new ra($.key,et,nA(et.value.mapValue),yi.exists(!0)))}return m.mutationQueue.addMutationBatch(R,g,X,d)}).next(N=>{E=N;const X=N.applyToLocalDocumentSet(A,k);return m.documentOverlayCache.saveOverlays(R,N.batchId,X)})}).then(()=>({batchId:E.batchId,changes:hA(A)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),function(f,d,m){let g=f.Ru[f.currentUser.toKey()];g||(g=new xe(qt)),g=g.insert(d,m),f.Ru[f.currentUser.toKey()]=g}(s,o.batchId,n),await Nu(s,o.changes),await Yf(s.remoteStore)}catch(o){const u=Bp(o,"Failed to persist write");n.reject(u)}}async function QA(r,t){const n=jt(r);try{const s=await FM(n.localStore,t);t.targetChanges.forEach((o,u)=>{const f=n.Eu.get(u);f&&(ae(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.lu=!0:o.modifiedDocuments.size>0?ae(f.lu,14607):o.removedDocuments.size>0&&(ae(f.lu,42227),f.lu=!1))}),await Nu(n,s,t)}catch(s){await Xo(s)}}function z1(r,t,n){const s=jt(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Pu.forEach((u,f)=>{const d=f.view.va(t);d.snapshot&&o.push(d.snapshot)}),function(f,d){const m=jt(f);m.onlineState=d;let g=!1;m.queries.forEach((y,A)=>{for(const E of A.wa)E.va(d)&&(g=!0)}),g&&kp(m)}(s.eventManager,t),o.length&&s.hu.J_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function Nx(r,t,n){const s=jt(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Eu.get(t),u=o&&o.key;if(u){let f=new xe(Ct.comparator);f=f.insert(u,Nn.newNoDocument(u,Bt.min()));const d=Yt().add(u),m=new Gf(Bt.min(),new Map,new xe(qt),f,d);await QA(s,m),s.du=s.du.remove(u),s.Eu.delete(t),Up(s)}else await zm(s.localStore,t,!1).then(()=>qm(s,t,n)).catch(Xo)}async function Px(r,t){const n=jt(r),s=t.batch.batchId;try{const o=await zM(n.localStore,t);XA(n,s,null),YA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Nu(n,o)}catch(o){await Xo(o)}}async function Ox(r,t,n){const s=jt(r);try{const o=await function(f,d){const m=jt(f);return m.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let y;return m.mutationQueue.lookupMutationBatch(g,d).next(A=>(ae(A!==null,37113),y=A.keys(),m.mutationQueue.removeMutationBatch(g,A))).next(()=>m.mutationQueue.performConsistencyCheck(g)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(g,y,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y)).next(()=>m.localDocuments.getDocuments(g,y))})}(s.localStore,t);XA(s,t,n),YA(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Nu(s,o)}catch(o){await Xo(o)}}function YA(r,t){(r.Vu.get(t)||[]).forEach(n=>{n.resolve()}),r.Vu.delete(t)}function XA(r,t,n){const s=jt(r);let o=s.Ru[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Ru[s.currentUser.toKey()]=o}}function qm(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Tu.get(t))r.Pu.delete(s),n&&r.hu.pu(s,n);r.Tu.delete(t),r.isPrimaryClient&&r.Au.zr(t).forEach(s=>{r.Au.containsKey(s)||KA(r,s)})}function KA(r,t){r.Iu.delete(t.path.canonicalString());const n=r.du.get(t);n!==null&&(Lp(r.remoteStore,n),r.du=r.du.remove(t),r.Eu.delete(n),Up(r))}function F1(r,t,n){for(const s of n)s instanceof qA?(r.Au.addReference(s.key,t),Dx(r,s)):s instanceof GA?(At(jp,"Document no longer in limbo: "+s.key),r.Au.removeReference(s.key,t),r.Au.containsKey(s.key)||KA(r,s.key)):Nt(19791,{yu:s})}function Dx(r,t){const n=t.key,s=n.path.canonicalString();r.du.get(n)||r.Iu.has(s)||(At(jp,"New document in limbo: "+n),r.Iu.add(s),Up(r))}function Up(r){for(;r.Iu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Iu.values().next().value;r.Iu.delete(t);const n=new Ct(Me.fromString(t)),s=r.mu.next();r.Eu.set(s,new wx(n)),r.du=r.du.insert(n,s),kA(r.remoteStore,new Us(gi(Tp(n.path)),s,"TargetPurposeLimboResolution",Bf.ue))}}async function Nu(r,t,n){const s=jt(r),o=[],u=[],f=[];s.Pu.isEmpty()||(s.Pu.forEach((d,m)=>{f.push(s.gu(m,t,n).then(g=>{var y;if((g||n)&&s.isPrimaryClient){const A=g?!g.fromCache:(y=n==null?void 0:n.targetChanges.get(m.targetId))===null||y===void 0?void 0:y.current;s.sharedClientState.updateQueryState(m.targetId,A?"current":"not-current")}if(g){o.push(g);const A=Cp.Es(m.targetId,g);u.push(A)}}))}),await Promise.all(f),s.hu.J_(o),await async function(m,g){const y=jt(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>ct.forEach(g,E=>ct.forEach(E.Is,R=>y.persistence.referenceDelegate.addReference(A,E.targetId,R)).next(()=>ct.forEach(E.ds,R=>y.persistence.referenceDelegate.removeReference(A,E.targetId,R)))))}catch(A){if(!Ko(A))throw A;At(Ip,"Failed to update sequence numbers: "+A)}for(const A of g){const E=A.targetId;if(!A.fromCache){const R=y.Fs.get(E),B=R.snapshotVersion,k=R.withLastLimboFreeSnapshotVersion(B);y.Fs=y.Fs.insert(E,k)}}}(s.localStore,u))}async function Bx(r,t){const n=jt(r);if(!n.currentUser.isEqual(t)){At(jp,"User change. New user:",t.toKey());const s=await PA(n.localStore,t);n.currentUser=t,function(u,f){u.Vu.forEach(d=>{d.forEach(m=>{m.reject(new xt(ft.CANCELLED,f))})}),u.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Nu(n,s.Bs)}}function kx(r,t){const n=jt(r),s=n.Eu.get(t);if(s&&s.lu)return Yt().add(s.key);{let o=Yt();const u=n.Tu.get(t);if(!u)return o;for(const f of u){const d=n.Pu.get(f);o=o.unionWith(d.view.tu)}return o}}function WA(r){const t=jt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=QA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=kx.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Nx.bind(null,t),t.hu.J_=Ax.bind(null,t.eventManager),t.hu.pu=bx.bind(null,t.eventManager),t}function jx(r){const t=jt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Px.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Ox.bind(null,t),t}class Vf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=$f(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)}Cu(t,n){return null}Fu(t,n){return null}vu(t){return UM(this.persistence,new BM,t.initialUser,this.serializer)}Du(t){return new NA(Vp.Vi,this.serializer)}bu(t){return new QM}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vf.provider={build:()=>new Vf};class Ux extends Vf{constructor(t){super(),this.cacheSizeBytes=t}Cu(t,n){ae(this.persistence.referenceDelegate instanceof Mf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new EM(s,t.asyncQueue,n)}Du(t){const n=this.cacheSizeBytes!==void 0?Wn.withCacheSize(this.cacheSizeBytes):Wn.DEFAULT;return new NA(s=>Mf.Vi(s,n),this.serializer)}}class Gm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>z1(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Bx.bind(null,this.syncEngine),await px(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new yx}()}createDatastore(t){const n=$f(t.databaseInfo.databaseId),s=function(u){return new ZM(u)}(t.databaseInfo);return function(u,f,d,m){return new nx(u,f,d,m)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,o,u,f,d){return new ix(s,o,u,f,d)}(this.localStore,this.datastore,t.asyncQueue,n=>z1(this.syncEngine,n,0),function(){return O1.C()?new O1:new YM}())}createSyncEngine(t,n){return function(o,u,f,d,m,g,y){const A=new Rx(o,u,f,d,m,g);return y&&(A.fu=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(o){const u=jt(o);At(Da,"RemoteStore shutting down."),u.Ia.add(5),await Lu(u),u.Ea.shutdown(),u.Aa.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Gm.provider={build:()=>new Gm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.xu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.xu(this.observer.error,t):ns("Uncaught Error in snapshot listener:",t.toString()))}Ou(){this.muted=!0}xu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs="FirestoreClient";class Fx{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=In.UNAUTHENTICATED,this.clientId=gp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{At(Zs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(At(Zs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Na;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Bp(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function pm(r,t){r.asyncQueue.verifyOperationInProgress(),At(Zs,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await PA(t.localStore,o),s=o)}),t.persistence.setDatabaseDeletedListener(()=>{$s("Terminating Firestore due to IndexedDb database deletion"),r.terminate().then(()=>{At("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(o=>{$s("Terminating Firestore due to IndexedDb database deletion failed",o)})}),r._offlineComponents=t}async function H1(r,t){r.asyncQueue.verifyOperationInProgress();const n=await Hx(r);At(Zs,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener(s=>B1(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>B1(t.remoteStore,o)),r._onlineComponents=t}async function Hx(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){At(Zs,"Using user provided OfflineComponentProvider");try{await pm(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(o){return o.name==="FirebaseError"?o.code===ft.FAILED_PRECONDITION||o.code===ft.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;$s("Error using user provided cache. Falling back to memory cache: "+n),await pm(r,new Vf)}}else At(Zs,"Using default OfflineComponentProvider"),await pm(r,new Ux(void 0));return r._offlineComponents}async function ZA(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(At(Zs,"Using user provided OnlineComponentProvider"),await H1(r,r._uninitializedComponentsProvider._online)):(At(Zs,"Using default OnlineComponentProvider"),await H1(r,new Gm))),r._onlineComponents}function qx(r){return ZA(r).then(t=>t.syncEngine)}async function q1(r){const t=await ZA(r),n=t.eventManager;return n.onListen=Mx.bind(null,t.syncEngine),n.onUnlisten=Cx.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=xx.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Ix.bind(null,t.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JA(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb="firestore.googleapis.com",$1=!0;class Q1{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new xt(ft.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=tb,this.ssl=$1}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:$1;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=LA;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<AM)throw new xt(ft.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}iR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=JA((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new xt(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new xt(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new xt(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class zp{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Q1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xt(ft.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new xt(ft.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Q1(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Yw;switch(s.type){case"firstParty":return new Zw(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new xt(ft.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=G1.get(n);s&&(At("ComponentProvider","Removing Datastore"),G1.delete(n),s.terminate())}(this),Promise.resolve()}}function eb(r,t,n,s={}){var o;r=qs(r,zp);const u=dp(t),f=r._getSettings(),d=Object.assign(Object.assign({},f),{emulatorOptions:r._getEmulatorOptions()}),m=`${t}:${n}`;u&&(TS(`https://${m}`),MS("Firestore",!0)),f.host!==tb&&f.host!==m&&$s("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},f),{host:m,ssl:u,emulatorOptions:s});if(!gf(g,d)&&(r._setSettings(g),s.mockUserToken)){let y,A;if(typeof s.mockUserToken=="string")y=s.mockUserToken,A=In.MOCK_USER;else{y=SS(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const E=s.mockUserToken.sub||s.mockUserToken.user_id;if(!E)throw new xt(ft.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new In(E)}r._authCredentials=new Xw(new q_(y,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Xf(this.firestore,t,this._query)}}class tn{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Tu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new tn(this.firestore,t,this._key)}toJSON(){return{type:tn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(Vu(n,tn._jsonSchema))return new tn(t,s||null,new Ct(Me.fromString(n.referencePath)))}}tn._jsonSchemaVersion="firestore/documentReference/1.0",tn._jsonSchema={type:qe("string",tn._jsonSchemaVersion),referencePath:qe("string")};class Tu extends Xf{constructor(t,n,s){super(t,n,Tp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new tn(this.firestore,null,new Ct(t))}withConverter(t){return new Tu(this.firestore,t,this._path)}}function du(r,t,...n){if(r=Gs(r),arguments.length===1&&(t=gp.newId()),rR("doc","path",t),r instanceof zp){const s=Me.fromString(t,...n);return a1(s),new tn(r,null,new Ct(s))}{if(!(r instanceof tn||r instanceof Tu))throw new xt(ft.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Me.fromString(t,...n));return a1(s),new tn(r.firestore,r instanceof Tu?r.converter:null,new Ct(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1="AsyncQueue";class X1{constructor(t=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new DA(this,"async_queue_retry"),this.oc=()=>{const s=mm();s&&At(Y1,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=t;const n=mm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.ac(),this.uc(t)}enterRestrictedMode(t){if(!this.Xu){this.Xu=!0,this.rc=t||!1;const n=mm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(t){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new Na;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Zu.push(t),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(t){if(!Ko(t))throw t;At(Y1,"Operation failed with retryable error: "+t)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(t){const n=this._c.then(()=>(this.nc=!0,t().catch(s=>{throw this.tc=s,this.nc=!1,ns("INTERNAL UNHANDLED ERROR: ",K1(s)),s}).then(s=>(this.nc=!1,s))));return this._c=n,n}enqueueAfterDelay(t,n,s){this.ac(),this.sc.indexOf(t)>-1&&(n=0);const o=Dp.createAndSchedule(this,t,n,s,u=>this.lc(u));return this.ec.push(o),o}ac(){this.tc&&Nt(47125,{hc:K1(this.tc)})}verifyOperationInProgress(){}async Pc(){let t;do t=this._c,await t;while(t!==this._c)}Tc(t){for(const n of this.ec)if(n.timerId===t)return!0;return!1}Ic(t){return this.Pc().then(()=>{this.ec.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Pc()})}dc(t){this.sc.push(t)}lc(t){const n=this.ec.indexOf(t);this.ec.splice(n,1)}}function K1(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(r){return function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(r,["next","error","complete"])}class Su extends zp{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new X1,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new X1(t),this._firestoreClient=void 0,await t}}}function Gx(r,t){const n=typeof r=="object"?r:Bw(),s=typeof r=="string"?r:Af,o=Lw(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=bS("firestore");u&&eb(o,...u)}return o}function nb(r){if(r._terminated)throw new xt(ft.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||$x(r),r._firestoreClient}function $x(r){var t,n,s;const o=r._freezeSettings(),u=function(d,m,g,y){return new pR(d,m,g,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,JA(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new Fx(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(d){const m=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(m),_online:m}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Lr(An.fromBase64String(t))}catch(n){throw new xt(ft.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Lr(An.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Lr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Vu(t,Lr._jsonSchema))return Lr.fromBase64String(t.bytes)}}Lr._jsonSchemaVersion="firestore/bytes/1.0",Lr._jsonSchema={type:qe("string",Lr._jsonSchemaVersion),bytes:qe("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new xt(ft.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _n(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new xt(ft.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new xt(ft.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return qt(this._lat,t._lat)||qt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:_i._jsonSchemaVersion}}static fromJSON(t){if(Vu(t,_i._jsonSchema))return new _i(t.latitude,t.longitude)}}_i._jsonSchemaVersion="firestore/geoPoint/1.0",_i._jsonSchema={type:qe("string",_i._jsonSchemaVersion),latitude:qe("number"),longitude:qe("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,t._values)}toJSON(){return{type:Ai._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Vu(t,Ai._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new Ai(t.vectorValues);throw new xt(ft.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ai._jsonSchemaVersion="firestore/vectorValue/1.0",Ai._jsonSchema={type:qe("string",Ai._jsonSchemaVersion),vectorValues:qe("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx=/^__.*__$/;class Yx{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new ra(t,this.data,this.fieldMask,n,this.fieldTransforms):new Cu(t,this.data,n,this.fieldTransforms)}}class rb{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new ra(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function ib(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Nt(40011,{Ec:r})}}class Hp{constructor(t,n,s,o,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ac(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(t){return new Hp(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.Rc({path:s,mc:!1});return o.fc(t),o}gc(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(t){return this.Rc({path:void 0,mc:!0})}wc(t){return Cf(t,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let t=0;t<this.path.length;t++)this.fc(this.path.get(t))}fc(t){if(t.length===0)throw this.wc("Document fields must not be empty");if(ib(this.Ec)&&Qx.test(t))throw this.wc('Document fields cannot begin and end with "__"')}}class Xx{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||$f(t)}Dc(t,n,s,o=!1){return new Hp({Ec:t,methodName:n,bc:s,path:_n.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sb(r){const t=r._freezeSettings(),n=$f(r._databaseId);return new Xx(r._databaseId,!!t.ignoreUndefinedProperties,n)}function Kx(r,t,n,s,o,u={}){const f=r.Dc(u.merge||u.mergeFields?2:0,t,n,o);qp("Data must be an object, but it was:",f,s);const d=ab(s,f);let m,g;if(u.merge)m=new dr(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const y=[];for(const A of u.mergeFields){const E=$m(t,A,n);if(!f.contains(E))throw new xt(ft.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);lb(y,E)||y.push(E)}m=new dr(y),g=f.fieldTransforms.filter(A=>m.covers(A.field))}else m=null,g=f.fieldTransforms;return new Yx(new Zn(d),m,g)}class Wf extends Fp{_toFieldTransform(t){if(t.Ec!==2)throw t.Ec===1?t.wc(`${this._methodName}() can only appear at the top level of your update data`):t.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Wf}}function Wx(r,t,n,s){const o=r.Dc(1,t,n);qp("Data must be an object, but it was:",o,s);const u=[],f=Zn.empty();na(s,(m,g)=>{const y=Gp(t,m,n);g=Gs(g);const A=o.gc(y);if(g instanceof Wf)u.push(y);else{const E=Zf(g,A);E!=null&&(u.push(y),f.set(y,E))}});const d=new dr(u);return new rb(f,d,o.fieldTransforms)}function Zx(r,t,n,s,o,u){const f=r.Dc(1,t,n),d=[$m(t,s,n)],m=[o];if(u.length%2!=0)throw new xt(ft.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<u.length;E+=2)d.push($m(t,u[E])),m.push(u[E+1]);const g=[],y=Zn.empty();for(let E=d.length-1;E>=0;--E)if(!lb(g,d[E])){const R=d[E];let B=m[E];B=Gs(B);const k=f.gc(R);if(B instanceof Wf)g.push(R);else{const N=Zf(B,k);N!=null&&(g.push(R),y.set(R,N))}}const A=new dr(g);return new rb(y,A,f.fieldTransforms)}function Zf(r,t){if(ob(r=Gs(r)))return qp("Unsupported field value:",t,r),ab(r,t);if(r instanceof Fp)return function(s,o){if(!ib(o.Ec))throw o.wc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.mc&&t.Ec!==4)throw t.wc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const d of s){let m=Zf(d,o.yc(f));m==null&&(m={nullValue:"NULL_VALUE"}),u.push(m),f++}return{arrayValue:{values:u}}}(r,t)}return function(s,o){if((s=Gs(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return jR(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=be.fromDate(s);return{timestampValue:Rf(o.serializer,u)}}if(s instanceof be){const u=new be(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Rf(o.serializer,u)}}if(s instanceof _i)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Lr)return{bytesValue:wA(o.serializer,s._byteString)};if(s instanceof tn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.wc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Mp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ai)return function(f,d){return{mapValue:{fields:{[tA]:{stringValue:eA},[bf]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw d.wc("VectorValues must only contain numeric values.");return Sp(d.serializer,g)})}}}}}}(s,o);throw o.wc(`Unsupported field value: ${yp(s)}`)}(r,t)}function ab(r,t){const n={};return Y_(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):na(r,(s,o)=>{const u=Zf(o,t.Vc(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function ob(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof be||r instanceof _i||r instanceof Lr||r instanceof tn||r instanceof Fp||r instanceof Ai)}function qp(r,t,n){if(!ob(n)||!$_(n)){const s=yp(n);throw s==="an object"?t.wc(r+" a custom object"):t.wc(r+" "+s)}}function $m(r,t,n){if((t=Gs(t))instanceof Kf)return t._internalPath;if(typeof t=="string")return Gp(r,t);throw Cf("Field path arguments must be of type string or ",r,!1,void 0,n)}const Jx=new RegExp("[~\\*/\\[\\]]");function Gp(r,t,n){if(t.search(Jx)>=0)throw Cf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Kf(...t.split("."))._internalPath}catch{throw Cf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Cf(r,t,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let d=`Function ${t}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(u||f)&&(m+=" (found",u&&(m+=` in field ${s}`),f&&(m+=` in document ${o}`),m+=")"),new xt(ft.INVALID_ARGUMENT,d+r+m)}function lb(r,t){return r.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new tV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(cb("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class tV extends ub{data(){return super.data()}}function cb(r,t){return typeof t=="string"?Gp(r,t):t instanceof Kf?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eV(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new xt(ft.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class nV{convertValue(t,n="none"){switch(Ks(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Be(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Xs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Nt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return na(t,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(t){var n,s,o;const u=(o=(s=(n=t.fields)===null||n===void 0?void 0:n[bf].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>Be(f.doubleValue));return new Ai(u)}convertGeoPoint(t){return new _i(Be(t.latitude),Be(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=jf(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(vu(t));default:return null}}convertTimestamp(t){const n=Ys(t);return new be(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=Me.fromString(t);ae(IA(s),9688,{name:t});const o=new _u(s.get(1),s.get(3)),u=new Ct(s.popFirst(5));return o.isEqual(n)||ns(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rV(r,t,n){let s;return s=r?r.toFirestore(t):t,s}class nu{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Pa extends ub{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new ff(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(cb("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new xt(ft.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Pa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Pa._jsonSchemaVersion="firestore/documentSnapshot/1.0",Pa._jsonSchema={type:qe("string",Pa._jsonSchemaVersion),bundleSource:qe("string","DocumentSnapshot"),bundleName:qe("string"),bundle:qe("string")};class ff extends Pa{data(t={}){return super.data(t)}}class Do{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new nu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(s=>{t.call(n,new ff(this._firestore,this._userDataWriter,s.key,s,new nu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new xt(ft.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(d=>{const m=new ff(o._firestore,o._userDataWriter,d.doc.key,d.doc,new nu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>u||d.type!==3).map(d=>{const m=new ff(o._firestore,o._userDataWriter,d.doc.key,d.doc,new nu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,y=-1;return d.type!==0&&(g=f.indexOf(d.doc.key),f=f.delete(d.doc.key)),d.type!==1&&(f=f.add(d.doc),y=f.indexOf(d.doc.key)),{type:iV(d.type),doc:m,oldIndex:g,newIndex:y}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new xt(ft.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Do._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=gp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function iV(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Nt(61501,{type:r})}}Do._jsonSchemaVersion="firestore/querySnapshot/1.0",Do._jsonSchema={type:qe("string",Do._jsonSchemaVersion),bundleSource:qe("string","QuerySnapshot"),bundleName:qe("string"),bundle:qe("string")};class fb extends nV{constructor(t){super(),this.firestore=t}convertBytes(t){return new Lr(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new tn(this.firestore,null,n)}}function sV(r,t,n){r=qs(r,tn);const s=qs(r.firestore,Su),o=rV(r.converter,t);return hb(s,[Kx(sb(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,yi.none())])}function Qm(r,t,n,...s){r=qs(r,tn);const o=qs(r.firestore,Su),u=sb(o);let f;return f=typeof(t=Gs(t))=="string"||t instanceof Kf?Zx(u,"updateDoc",r._key,t,n,s):Wx(u,"updateDoc",r._key,t),hb(o,[f.toMutation(r._key,yi.exists(!0))])}function aV(r,...t){var n,s,o;r=Gs(r);let u={includeMetadataChanges:!1,source:"default"},f=0;typeof t[f]!="object"||W1(t[f])||(u=t[f++]);const d={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(W1(t[f])){const A=t[f];t[f]=(n=A.next)===null||n===void 0?void 0:n.bind(A),t[f+1]=(s=A.error)===null||s===void 0?void 0:s.bind(A),t[f+2]=(o=A.complete)===null||o===void 0?void 0:o.bind(A)}let m,g,y;if(r instanceof tn)g=qs(r.firestore,Su),y=Tp(r._key.path),m={next:A=>{t[f]&&t[f](oV(g,r,A))},error:t[f+1],complete:t[f+2]};else{const A=qs(r,Xf);g=qs(A.firestore,Su),y=A._query;const E=new fb(g);m={next:R=>{t[f]&&t[f](new Do(g,E,A,R))},error:t[f+1],complete:t[f+2]},eV(r._query)}return function(E,R,B,k){const N=new zx(k),X=new Ex(R,N,B);return E.asyncQueue.enqueueAndForget(async()=>vx(await q1(E),X)),()=>{N.Ou(),E.asyncQueue.enqueueAndForget(async()=>_x(await q1(E),X))}}(nb(g),y,d,m)}function hb(r,t){return function(s,o){const u=new Na;return s.asyncQueue.enqueueAndForget(async()=>Lx(await qx(s),o,u)),u.promise}(nb(r),t)}function oV(r,t,n){const s=n.docs.get(t._key),o=new fb(r);return new Pa(r,o,t._key,s,new nu(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(o){Yo=o})(Dw),vf(new pu("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),d=new Su(new Kw(s.getProvider("auth-internal")),new Jw(f,s.getProvider("app-check-internal")),function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new xt(ft.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _u(g.options.projectId,y)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),d._setSettings(u),d},"PUBLIC").setMultipleInstances(!0)),Po(e1,n1,t),Po(e1,n1,"esm2017")})();var lV="firebase",uV="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Po(lV,uV,"app");const cV={apiKey:"AIzaSyAqQVlAns151ipS4zVz9EQlb7AaJdo63o0",authDomain:"pulsedom-2131a.firebaseapp.com",projectId:"pulsedom-2131a",storageBucket:"pulsedom-2131a.firebasestorage.app",messagingSenderId:"1068092725649",appId:"1:1068092725649:web:82623f144183d36cb02230",measurementId:"G-5CYXRNSX0F"},fV=P_(cV),Bo=Gx(fV);location.hostname==="localhost"&&eb(Bo,"localhost",8080);function db(r,t,n,s){return M.useEffect(()=>{if(!r)return;const f=du(Bo,"cases",r),d=aV(f,m=>{if(console.log("[useCasesSync] snap.data:",m.data&&m.data()),!m.exists())return;const g=m.data(),y=new Ir(g.simOptions);t(y),s&&g.buffer&&s(g.buffer)});return()=>d()},[r,t,s]),{updateRemoteCases:async f=>{if(console.log("[updateRemoteCases] Firestore write",f.getRaw()),!r)return;const d=du(Bo,"cases",r);try{await Qm(d,{simOptions:f.getRaw()}),console.log("[updateRemoteCases] Firestore write success")}catch(m){console.log("[updateRemoteCases] Firestore write error",m)}},pushBufferToFirestore:async()=>{if(!r||!n)return;const f=du(Bo,"cases",r),d={};for(const[m,g]of Object.entries(n.current))d[m]=g.toArray?g.toArray():g;await Qm(f,{buffer:d})}}}var ru={exports:{}};ru.exports;var Z1;function hV(){return Z1||(Z1=1,function(r,t){var n=200,s="__lodash_hash_undefined__",o=1,u=2,f=9007199254740991,d="[object Arguments]",m="[object Array]",g="[object AsyncFunction]",y="[object Boolean]",A="[object Date]",E="[object Error]",R="[object Function]",B="[object GeneratorFunction]",k="[object Map]",N="[object Number]",X="[object Null]",$="[object Object]",et="[object Promise]",ot="[object Proxy]",st="[object RegExp]",ht="[object Set]",I="[object String]",S="[object Symbol]",V="[object Undefined]",D="[object WeakMap]",j="[object ArrayBuffer]",U="[object DataView]",C="[object Float32Array]",Ot="[object Float64Array]",Et="[object Int8Array]",q="[object Int16Array]",at="[object Int32Array]",Z="[object Uint8Array]",Rt="[object Uint8ClampedArray]",P="[object Uint16Array]",rt="[object Uint32Array]",mt=/[\\^$.*+?()[\]{}|]/g,lt=/^\[object .+?Constructor\]$/,gt=/^(?:0|[1-9]\d*)$/,yt={};yt[C]=yt[Ot]=yt[Et]=yt[q]=yt[at]=yt[Z]=yt[Rt]=yt[P]=yt[rt]=!0,yt[d]=yt[m]=yt[j]=yt[y]=yt[U]=yt[A]=yt[E]=yt[R]=yt[k]=yt[N]=yt[$]=yt[st]=yt[ht]=yt[I]=yt[D]=!1;var Vt=typeof Qc=="object"&&Qc&&Qc.Object===Object&&Qc,kt=typeof self=="object"&&self&&self.Object===Object&&self,dt=Vt||kt||Function("return this")(),Ut=t&&!t.nodeType&&t,me=Ut&&!0&&r&&!r.nodeType&&r,Se=me&&me.exports===Ut,pe=Se&&Vt.process,bn=function(){try{return pe&&pe.binding&&pe.binding("util")}catch{}}(),Jn=bn&&bn.isTypedArray;function Mi(x,F){for(var tt=-1,vt=x==null?0:x.length,ee=0,Dt=[];++tt<vt;){var oe=x[tt];F(oe,tt,x)&&(Dt[ee++]=oe)}return Dt}function as(x,F){for(var tt=-1,vt=F.length,ee=x.length;++tt<vt;)x[ee+tt]=F[tt];return x}function En(x,F){for(var tt=-1,vt=x==null?0:x.length;++tt<vt;)if(F(x[tt],tt,x))return!0;return!1}function ia(x,F){for(var tt=-1,vt=Array(x);++tt<x;)vt[tt]=F(tt);return vt}function pr(x){return function(F){return x(F)}}function os(x,F){return x.has(F)}function xi(x,F){return x==null?void 0:x[F]}function nl(x){var F=-1,tt=Array(x.size);return x.forEach(function(vt,ee){tt[++F]=[ee,vt]}),tt}function ls(x,F){return function(tt){return x(F(tt))}}function sa(x){var F=-1,tt=Array(x.size);return x.forEach(function(vt){tt[++F]=vt}),tt}var za=Array.prototype,Ee=Function.prototype,Xt=Object.prototype,ln=dt["__core-js_shared__"],Ge=Ee.toString,Pn=Xt.hasOwnProperty,Fa=function(){var x=/[^.]+$/.exec(ln&&ln.keys&&ln.keys.IE_PROTO||"");return x?"Symbol(src)_1."+x:""}(),Xr=Xt.toString,Vi=RegExp("^"+Ge.call(Pn).replace(mt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Kr=Se?dt.Buffer:void 0,Tn=dt.Symbol,Ci=dt.Uint8Array,Wr=Xt.propertyIsEnumerable,aa=za.splice,tr=Tn?Tn.toStringTag:void 0,us=Object.getOwnPropertySymbols,Nr=Kr?Kr.isBuffer:void 0,Pr=ls(Object.keys,Object),Ii=Hn(dt,"DataView"),Sn=Hn(dt,"Map"),Li=Hn(dt,"Promise"),gr=Hn(dt,"Set"),Zr=Hn(dt,"WeakMap"),zn=Hn(Object,"create"),Ha=dn(Ii),ye=dn(Sn),Pe=dn(Li),Ve=dn(gr),Fn=dn(Zr),cs=Tn?Tn.prototype:void 0,oa=cs?cs.valueOf:void 0;function wn(x){var F=-1,tt=x==null?0:x.length;for(this.clear();++F<tt;){var vt=x[F];this.set(vt[0],vt[1])}}function qa(){this.__data__=zn?zn(null):{},this.size=0}function Ni(x){var F=this.has(x)&&delete this.__data__[x];return this.size-=F?1:0,F}function Jr(x){var F=this.__data__;if(zn){var tt=F[x];return tt===s?void 0:tt}return Pn.call(F,x)?F[x]:void 0}function Or(x){var F=this.__data__;return zn?F[x]!==void 0:Pn.call(F,x)}function yr(x,F){var tt=this.__data__;return this.size+=this.has(x)?0:1,tt[x]=zn&&F===void 0?s:F,this}wn.prototype.clear=qa,wn.prototype.delete=Ni,wn.prototype.get=Jr,wn.prototype.has=Or,wn.prototype.set=yr;function ke(x){var F=-1,tt=x==null?0:x.length;for(this.clear();++F<tt;){var vt=x[F];this.set(vt[0],vt[1])}}function un(){this.__data__=[],this.size=0}function we(x){var F=this.__data__,tt=ei(F,x);if(tt<0)return!1;var vt=F.length-1;return tt==vt?F.pop():aa.call(F,tt,1),--this.size,!0}function la(x){var F=this.__data__,tt=ei(F,x);return tt<0?void 0:F[tt][1]}function fs(x){return ei(this.__data__,x)>-1}function er(x,F){var tt=this.__data__,vt=ei(tt,x);return vt<0?(++this.size,tt.push([x,F])):tt[vt][1]=F,this}ke.prototype.clear=un,ke.prototype.delete=we,ke.prototype.get=la,ke.prototype.has=fs,ke.prototype.set=er;function cn(x){var F=-1,tt=x==null?0:x.length;for(this.clear();++F<tt;){var vt=x[F];this.set(vt[0],vt[1])}}function Ga(){this.size=0,this.__data__={hash:new wn,map:new(Sn||ke),string:new wn}}function $a(x){var F=hn(this,x).delete(x);return this.size-=F?1:0,F}function Pi(x){return hn(this,x).get(x)}function Qa(x){return hn(this,x).has(x)}function ti(x,F){var tt=hn(this,x),vt=tt.size;return tt.set(x,F),this.size+=tt.size==vt?0:1,this}cn.prototype.clear=Ga,cn.prototype.delete=$a,cn.prototype.get=Pi,cn.prototype.has=Qa,cn.prototype.set=ti;function On(x){var F=-1,tt=x==null?0:x.length;for(this.__data__=new cn;++F<tt;)this.add(x[F])}function $e(x){return this.__data__.set(x,s),this}function Oi(x){return this.__data__.has(x)}On.prototype.add=On.prototype.push=$e,On.prototype.has=Oi;function nr(x){var F=this.__data__=new ke(x);this.size=F.size}function Dr(){this.__data__=new ke,this.size=0}function hs(x){var F=this.__data__,tt=F.delete(x);return this.size=F.size,tt}function ds(x){return this.__data__.get(x)}function ua(x){return this.__data__.has(x)}function ms(x,F){var tt=this.__data__;if(tt instanceof ke){var vt=tt.__data__;if(!Sn||vt.length<n-1)return vt.push([x,F]),this.size=++tt.size,this;tt=this.__data__=new cn(vt)}return tt.set(x,F),this.size=tt.size,this}nr.prototype.clear=Dr,nr.prototype.delete=hs,nr.prototype.get=ds,nr.prototype.has=ua,nr.prototype.set=ms;function fn(x,F){var tt=Bn(x),vt=!tt&&fa(x),ee=!tt&&!vt&&Ur(x),Dt=!tt&&!vt&&!ee&&Ar(x),oe=tt||vt||ee||Dt,Ae=oe?ia(x.length,String):[],ce=Ae.length;for(var re in x)Pn.call(x,re)&&!(oe&&(re=="length"||ee&&(re=="offset"||re=="parent")||Dt&&(re=="buffer"||re=="byteLength"||re=="byteOffset")||sl(re,ce)))&&Ae.push(re);return Ae}function ei(x,F){for(var tt=x.length;tt--;)if(_r(x[tt][0],F))return tt;return-1}function rl(x,F,tt){var vt=F(x);return Bn(x)?vt:as(vt,tt(x))}function vr(x){return x==null?x===void 0?V:X:tr&&tr in Object(x)?Ya(x):Gn(x)}function ps(x){return $n(x)&&vr(x)==d}function ni(x,F,tt,vt,ee){return x===F?!0:x==null||F==null||!$n(x)&&!$n(F)?x!==x&&F!==F:il(x,F,tt,vt,ni,ee)}function il(x,F,tt,vt,ee,Dt){var oe=Bn(x),Ae=Bn(F),ce=oe?m:qn(x),re=Ae?m:qn(F);ce=ce==d?$:ce,re=re==d?$:re;var ve=ce==$,Rn=re==$,je=ce==re;if(je&&Ur(x)){if(!Ur(F))return!1;oe=!0,ve=!1}if(je&&!ve)return Dt||(Dt=new nr),oe||Ar(x)?Br(x,F,tt,vt,ee,Dt):kr(x,F,ce,tt,vt,ee,Dt);if(!(tt&o)){var Ue=ve&&Pn.call(x,"__wrapped__"),Qe=Rn&&Pn.call(F,"__wrapped__");if(Ue||Qe){var Qn=Ue?x.value():x,Mn=Qe?F.value():F;return Dt||(Dt=new nr),ee(Qn,Mn,tt,vt,Dt)}}return je?(Dt||(Dt=new nr),se(x,F,tt,vt,ee,Dt)):!1}function Ce(x){if(!ir(x)||gs(x))return!1;var F=kn(x)?Vi:lt;return F.test(dn(x))}function Dn(x){return $n(x)&&ii(x.length)&&!!yt[vr(x)]}function Di(x){if(!jr(x))return Pr(x);var F=[];for(var tt in Object(x))Pn.call(x,tt)&&tt!="constructor"&&F.push(tt);return F}function Br(x,F,tt,vt,ee,Dt){var oe=tt&o,Ae=x.length,ce=F.length;if(Ae!=ce&&!(oe&&ce>Ae))return!1;var re=Dt.get(x);if(re&&Dt.get(F))return re==F;var ve=-1,Rn=!0,je=tt&u?new On:void 0;for(Dt.set(x,F),Dt.set(F,x);++ve<Ae;){var Ue=x[ve],Qe=F[ve];if(vt)var Qn=oe?vt(Qe,Ue,ve,F,x,Dt):vt(Ue,Qe,ve,x,F,Dt);if(Qn!==void 0){if(Qn)continue;Rn=!1;break}if(je){if(!En(F,function(Mn,Tr){if(!os(je,Tr)&&(Ue===Mn||ee(Ue,Mn,tt,vt,Dt)))return je.push(Tr)})){Rn=!1;break}}else if(!(Ue===Qe||ee(Ue,Qe,tt,vt,Dt))){Rn=!1;break}}return Dt.delete(x),Dt.delete(F),Rn}function kr(x,F,tt,vt,ee,Dt,oe){switch(tt){case U:if(x.byteLength!=F.byteLength||x.byteOffset!=F.byteOffset)return!1;x=x.buffer,F=F.buffer;case j:return!(x.byteLength!=F.byteLength||!Dt(new Ci(x),new Ci(F)));case y:case A:case N:return _r(+x,+F);case E:return x.name==F.name&&x.message==F.message;case st:case I:return x==F+"";case k:var Ae=nl;case ht:var ce=vt&o;if(Ae||(Ae=sa),x.size!=F.size&&!ce)return!1;var re=oe.get(x);if(re)return re==F;vt|=u,oe.set(x,F);var ve=Br(Ae(x),Ae(F),vt,ee,Dt,oe);return oe.delete(x),ve;case S:if(oa)return oa.call(x)==oa.call(F)}return!1}function se(x,F,tt,vt,ee,Dt){var oe=tt&o,Ae=ri(x),ce=Ae.length,re=ri(F),ve=re.length;if(ce!=ve&&!oe)return!1;for(var Rn=ce;Rn--;){var je=Ae[Rn];if(!(oe?je in F:Pn.call(F,je)))return!1}var Ue=Dt.get(x);if(Ue&&Dt.get(F))return Ue==F;var Qe=!0;Dt.set(x,F),Dt.set(F,x);for(var Qn=oe;++Rn<ce;){je=Ae[Rn];var Mn=x[je],Tr=F[je];if(vt)var Bi=oe?vt(Tr,Mn,je,F,x,Dt):vt(Mn,Tr,je,x,F,Dt);if(!(Bi===void 0?Mn===Tr||ee(Mn,Tr,tt,vt,Dt):Bi)){Qe=!1;break}Qn||(Qn=je=="constructor")}if(Qe&&!Qn){var ys=x.constructor,si=F.constructor;ys!=si&&"constructor"in x&&"constructor"in F&&!(typeof ys=="function"&&ys instanceof ys&&typeof si=="function"&&si instanceof si)&&(Qe=!1)}return Dt.delete(x),Dt.delete(F),Qe}function ri(x){return rl(x,ha,ca)}function hn(x,F){var tt=x.__data__;return al(F)?tt[typeof F=="string"?"string":"hash"]:tt.map}function Hn(x,F){var tt=xi(x,F);return Ce(tt)?tt:void 0}function Ya(x){var F=Pn.call(x,tr),tt=x[tr];try{x[tr]=void 0;var vt=!0}catch{}var ee=Xr.call(x);return vt&&(F?x[tr]=tt:delete x[tr]),ee}var ca=us?function(x){return x==null?[]:(x=Object(x),Mi(us(x),function(F){return Wr.call(x,F)}))}:br,qn=vr;(Ii&&qn(new Ii(new ArrayBuffer(1)))!=U||Sn&&qn(new Sn)!=k||Li&&qn(Li.resolve())!=et||gr&&qn(new gr)!=ht||Zr&&qn(new Zr)!=D)&&(qn=function(x){var F=vr(x),tt=F==$?x.constructor:void 0,vt=tt?dn(tt):"";if(vt)switch(vt){case Ha:return U;case ye:return k;case Pe:return et;case Ve:return ht;case Fn:return D}return F});function sl(x,F){return F=F??f,!!F&&(typeof x=="number"||gt.test(x))&&x>-1&&x%1==0&&x<F}function al(x){var F=typeof x;return F=="string"||F=="number"||F=="symbol"||F=="boolean"?x!=="__proto__":x===null}function gs(x){return!!Fa&&Fa in x}function jr(x){var F=x&&x.constructor,tt=typeof F=="function"&&F.prototype||Xt;return x===tt}function Gn(x){return Xr.call(x)}function dn(x){if(x!=null){try{return Ge.call(x)}catch{}try{return x+""}catch{}}return""}function _r(x,F){return x===F||x!==x&&F!==F}var fa=ps(function(){return arguments}())?ps:function(x){return $n(x)&&Pn.call(x,"callee")&&!Wr.call(x,"callee")},Bn=Array.isArray;function Xa(x){return x!=null&&ii(x.length)&&!kn(x)}var Ur=Nr||Er;function rr(x,F){return ni(x,F)}function kn(x){if(!ir(x))return!1;var F=vr(x);return F==R||F==B||F==g||F==ot}function ii(x){return typeof x=="number"&&x>-1&&x%1==0&&x<=f}function ir(x){var F=typeof x;return x!=null&&(F=="object"||F=="function")}function $n(x){return x!=null&&typeof x=="object"}var Ar=Jn?pr(Jn):Dn;function ha(x){return Xa(x)?fn(x):Di(x)}function br(){return[]}function Er(){return!1}r.exports=rr}(ru,ru.exports)),ru.exports}var dV=hV();const J1=ap(dV);class wu{constructor(t=2e3){_t(this,"buffer");_t(this,"sizeLimit");this.buffer=[],this.sizeLimit=t}push(t){this.buffer.push(t),this.buffer.length>this.sizeLimit&&this.buffer.shift()}getArray(){return this.buffer}toArray(){return Array.from(this.buffer)}size(){return this.buffer.length}fromArray(t){this.buffer=Array.isArray(t)?t.slice():[]}static fromArray(t){const n=new wu;return n.fromArray(t),n}static fromBufferMap(t){const n={};for(const s in t)Array.isArray(t[s])&&(n[s]=wu.fromArray(t[s]));return n}}const mb=M.createContext(void 0),mV=({children:r})=>{const t=new URLSearchParams(window.location.search),n=t.get("case")||"demo",s=t.get("mode")||"demo",o=n==="demo",u=[...Object.keys(__),"spo2","art","etco2"],f=M.useRef(Object.fromEntries(u.map(A=>[A,new wu]))),[d,m]=M.useState(null);db(n,()=>{},f,A=>{s!=="server"&&m(wu.fromBufferMap(A))});const g=async()=>{if(o||s!=="server"||!f.current)return;const A=du(Bo,"cases",n),E={};for(const[R,B]of Object.entries(f.current))E[R]=B.toArray();await Qm(A,{buffer:E})};M.useEffect(()=>{if(o||s!=="server")return;const A=setInterval(()=>{g()},1e3);return()=>clearInterval(A)},[s,n,o]);const y={bufferRef:f,remoteBuffer:d,pushBufferToFirestore:g};return L.jsx(mb.Provider,{value:y,children:r})},pV=()=>{const r=M.useContext(mb);if(!r)throw new Error("useBufferContext must be used within BufferProvider");return r},pb=M.createContext(void 0),gV=({children:r})=>{const t=new URLSearchParams(window.location.search),n=t.get("case")||"demo",s=n==="demo",[o,u]=M.useState(()=>{const dt=t.get("sim");return(dt?qT(dt):null)??new Ir(Dv())}),f=M.useRef(o);M.useEffect(()=>{f.current=o},[o]);const[d,m]=M.useState(-1),[g,y]=M.useState(!0),A=M.useRef(null),[E,R]=M.useState(null),[B,k]=M.useState(!1),N=M.useRef(!1),[X,$]=M.useState(!1),et=M.useRef(!1),ot=M.useRef(null),{alarmLevel:st,alarmMessages:ht}=R_(o,d),I=()=>mf(ot.current,st),{bufferRef:S,remoteBuffer:V,pushBufferToFirestore:D}=pV(),j=M.useRef(new uS({respRate:o.respRate??12,etco2:o.etco2??38})),[U,C]=M.useState(()=>{const Ut=new URLSearchParams(window.location.search).get("mode");return Ut==="demo"||Ut==="server"||Ut==="edit"||Ut==="view"?Ut:"demo"}),[Ot,Et]=M.useState(null),[q,at]=M.useState(s);M.useEffect(()=>{const dt=A.current??(A.current=fp.createDefaultEngine());Uv(o,dt)},[q]),M.useEffect(()=>{if(!q){console.log("RhythmEngine useEffect: isCaseReady==false");return}if(!s&&U!=="server"){console.log("RhythmEngine useEffect: engine=null"),Et(null);return}j.current.update({respRate:o.respRate,etco2:o.etco2});const dt=new KT({graph:A.current,bufferRef:S,audioCtx:E,isBeepOn:()=>N.current,getVitals:()=>{const pe=f.current.getRaw();return{spo2:Number(pe.spo2??-1),nibp_sys:Number(pe.nibp_sys??120),nibp_dia:Number(pe.nibp_dia??70),etco2:Number(pe.etco2??38),pi:Number(pe.pi??2)}},onHrUpdate:m,breathEngine:j.current});Et(dt),dt.setOnHrUpdate(m),A.current&&A.current.setDebugLevel(0,6e3);let Ut;const me=pe=>{lt.current&&dt.step(pe/1e3),Ut=requestAnimationFrame(me)};console.log(`🚀 PULSEDOM Version: ${up}`),Ut=requestAnimationFrame(me);const Se=setInterval(()=>{D()},1e3);return()=>{cancelAnimationFrame(Ut),clearInterval(Se)}},[q]);const{updateRemoteCases:Z}=db(n,dt=>{q&&J1(dt.getRaw(),f.current.getRaw())||(u(dt),at(!0))}),Rt=()=>{const dt=new Ir(Dv());P(dt)},P=dt=>{if(J1(dt.getRaw(),f.current.getRaw()))return;const Ut=dt.sysBp-f.current.sysBp;Ut!==0&&(dt.diaBp=f.current.diaBp+Ut/3*2),dt.diaBp<0&&(dt.diaBp=0),dt.diaBp>dt.sysBp&&(dt.diaBp=dt.sysBp),u(dt),f.current=dt;const me=A.current;me&&Uv(dt,me),!s&&Z&&(console.log("[updateSimOptions] updateRemoteCases writing to Firestore:",dt.getRaw()),Z(dt).catch(Se=>{console.log("[updateSimOptions] updateRemoteCases error:",Se)})),j.current.update({respRate:dt.respRate,etco2:dt.etco2})},rt=()=>{const dt=!B;if(dt&&!E){const Ut=aS();R(Ut),Ot==null||Ot.setAudioContext(Ut)}N.current=dt,k(dt)},mt=()=>{const dt=!X;et.current=dt,$(dt),dt||mf(ot.current,st)},lt=M.useRef(!0),[gt,yt]=M.useState(!0);M.useEffect(()=>{lt.current=gt},[gt]),M.useEffect(()=>{const dt=Ut=>{Ut.key==="Escape"&&yt(!1)};return window.addEventListener("keydown",dt),()=>window.removeEventListener("keydown",dt)},[]);const Vt=async()=>{if(console.log("[Sharecase]",s,n,o.getRaw()),s){const dt=cS(6),Ut=du(Bo,"cases",dt);console.log("[Sharecase] New case created (before setDoc):",dt);try{await sV(Ut,{simOptions:o.getRaw(),expiresAt:new Date(Date.now()+1e3*60*60*6)}),console.log("[Sharecase] setDoc success:",dt),window.location.search=`?case=${dt}&mode=server`}catch(me){console.log("[Sharecase] setDoc error:",me)}}else window.alert(`Case shared!
URL: ${window.location.origin}/pulsedom/?case=${n}&mode=server`)},kt={isCaseReady:q,bufferRef:S,alarmAudioRef:ot,hr:d,setHr:m,isEditorVisible:g,setEditorVisible:y,simOptions:o,updateSimOptions:P,isBeepOn:B,isAlarmOn:X,toggleBeep:rt,toggleAlarm:mt,alarmLevel:st,alarmMessages:ht,stopAlarm:I,breathEngine:j.current,resetSimOptions:Rt,shareCase:Vt,mode:U,setMode:C,remoteBuffer:V};return L.jsx(pb.Provider,{value:kt,children:r})},Ym=()=>{const r=M.useContext(pb);if(!r)throw new Error("useAppState must be used within AppStateProvider");return r};/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yV=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),vV=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase()),t_=r=>{const t=vV(r);return t.charAt(0).toUpperCase()+t.slice(1)},gb=(...r)=>r.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _V={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AV=M.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...d},m)=>M.createElement("svg",{ref:m,..._V,width:t,height:t,stroke:r,strokeWidth:s?Number(n)*24/Number(t):n,className:gb("lucide",o),...d},[...f.map(([g,y])=>M.createElement(g,y)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wi=(r,t)=>{const n=M.forwardRef(({className:s,...o},u)=>M.createElement(AV,{ref:u,iconNode:t,className:gb(`lucide-${yV(t_(r))}`,`lucide-${r}`,s),...o}));return n.displayName=t_(r),n};/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bV=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]],yb=wi("bell-off",bV);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EV=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],TV=wi("bell",EV);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SV=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],wV=wi("chevron-down",SV);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RV=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],MV=wi("log-in",RV);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xV=[["path",{d:"M10 7.75a.75.75 0 0 1 1.142-.638l3.664 2.249a.75.75 0 0 1 0 1.278l-3.664 2.25a.75.75 0 0 1-1.142-.64z",key:"1pctta"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",key:"x3v2xh"}]],VV=wi("monitor-play",xV);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CV=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m8 9 3 3-3 3",key:"12hl5m"}]],IV=wi("panel-right-close",CV);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LV=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m10 15-3-3 3-3",key:"1pgupc"}]],NV=wi("panel-right-open",LV);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PV=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],OV=wi("share-2",PV);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DV=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],BV=wi("volume-2",DV);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kV=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],jV=wi("volume-x",kV),di=({label:r,value:t,min:n,max:s,step:o,unit:u="",digits:f=2,onChange:d,colorClass:m})=>{const[g,y]=M.useState(!1),[A,E]=M.useState(t);M.useEffect(()=>{E(t)},[t]);const R=()=>{const k=Math.min(s,Math.max(n,A));d(k),y(!1)},B=()=>{y(!1),E(t)};return L.jsxs("div",{className:"mb-0",children:[L.jsxs("div",{className:"flex justify-between items-center",children:[L.jsx("label",{className:"text-xs font-medium text-gray-700",children:r}),g?L.jsx("input",{type:"number",value:A,onChange:k=>E(parseFloat(k.target.value)),onBlur:R,onKeyDown:k=>{k.key==="Enter"&&R(),k.key==="Escape"&&B()},min:n,max:s,step:o,className:"w-20 text-right border px-1 rounded text-xs [appearance:textfield]",autoFocus:!0}):L.jsxs("span",{className:"text-xs text-gray-500 cursor-pointer select-none",onDoubleClick:()=>y(!0),title:"Double-click to edit",children:[Number.isFinite(t)?t.toFixed(f):"-"," ",u]})]}),L.jsx("input",{type:"range",className:`w-full accent-current ${m??""}`,value:t,min:n,max:s,step:o,onChange:k=>d(parseFloat(k.target.value))})]})};function qr(r,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(r==null||r(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function e_(r,t){if(typeof r=="function")return r(t);r!=null&&(r.current=t)}function Ua(...r){return t=>{let n=!1;const s=r.map(o=>{const u=e_(o,t);return!n&&typeof u=="function"&&(n=!0),u});if(n)return()=>{for(let o=0;o<s.length;o++){const u=s[o];typeof u=="function"?u():e_(r[o],null)}}}}function Gr(...r){return M.useCallback(Ua(...r),r)}function Pu(r,t=[]){let n=[];function s(u,f){const d=M.createContext(f),m=n.length;n=[...n,f];const g=A=>{var X;const{scope:E,children:R,...B}=A,k=((X=E==null?void 0:E[r])==null?void 0:X[m])||d,N=M.useMemo(()=>B,Object.values(B));return L.jsx(k.Provider,{value:N,children:R})};g.displayName=u+"Provider";function y(A,E){var k;const R=((k=E==null?void 0:E[r])==null?void 0:k[m])||d,B=M.useContext(R);if(B)return B;if(f!==void 0)return f;throw new Error(`\`${A}\` must be used within \`${u}\``)}return[g,y]}const o=()=>{const u=n.map(f=>M.createContext(f));return function(d){const m=(d==null?void 0:d[r])||u;return M.useMemo(()=>({[`__scope${r}`]:{...d,[r]:m}}),[d,m])}};return o.scopeName=r,[s,UV(o,...t)]}function UV(...r){const t=r[0];if(r.length===1)return t;const n=()=>{const s=r.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(u){const f=s.reduce((d,{useScope:m,scopeName:g})=>{const A=m(u)[`__scope${g}`];return{...d,...A}},{});return M.useMemo(()=>({[`__scope${t.scopeName}`]:f}),[f])}};return n.scopeName=t.scopeName,n}var vb=y_();function zV(r){const t=FV(r),n=M.forwardRef((s,o)=>{const{children:u,...f}=s,d=M.Children.toArray(u),m=d.find(qV);if(m){const g=m.props.children,y=d.map(A=>A===m?M.Children.count(g)>1?M.Children.only(null):M.isValidElement(g)?g.props.children:null:A);return L.jsx(t,{...f,ref:o,children:M.isValidElement(g)?M.cloneElement(g,void 0,y):null})}return L.jsx(t,{...f,ref:o,children:u})});return n.displayName=`${r}.Slot`,n}function FV(r){const t=M.forwardRef((n,s)=>{const{children:o,...u}=n;if(M.isValidElement(o)){const f=$V(o),d=GV(u,o.props);return o.type!==M.Fragment&&(d.ref=s?Ua(s,f):f),M.cloneElement(o,d)}return M.Children.count(o)>1?M.Children.only(null):null});return t.displayName=`${r}.SlotClone`,t}var HV=Symbol("radix.slottable");function qV(r){return M.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===HV}function GV(r,t){const n={...t};for(const s in t){const o=r[s],u=t[s];/^on[A-Z]/.test(s)?o&&u?n[s]=(...d)=>{const m=u(...d);return o(...d),m}:o&&(n[s]=o):s==="style"?n[s]={...o,...u}:s==="className"&&(n[s]=[o,u].filter(Boolean).join(" "))}return{...r,...n}}function $V(r){var s,o;let t=(s=Object.getOwnPropertyDescriptor(r.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?r.ref:(t=(o=Object.getOwnPropertyDescriptor(r,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?r.props.ref:r.props.ref||r.ref)}var QV=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],_b=QV.reduce((r,t)=>{const n=zV(`Primitive.${t}`),s=M.forwardRef((o,u)=>{const{asChild:f,...d}=o,m=f?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),L.jsx(m,{...d,ref:u})});return s.displayName=`Primitive.${t}`,{...r,[t]:s}},{});function YV(r,t){r&&vb.flushSync(()=>r.dispatchEvent(t))}function Jf(r){const t=M.useRef(r);return M.useEffect(()=>{t.current=r}),M.useMemo(()=>(...n)=>{var s;return(s=t.current)==null?void 0:s.call(t,...n)},[])}function XV(r,t=globalThis==null?void 0:globalThis.document){const n=Jf(r);M.useEffect(()=>{const s=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var KV="DismissableLayer",Xm="dismissableLayer.update",WV="dismissableLayer.pointerDownOutside",ZV="dismissableLayer.focusOutside",n_,Ab=M.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),bb=M.forwardRef((r,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:u,onInteractOutside:f,onDismiss:d,...m}=r,g=M.useContext(Ab),[y,A]=M.useState(null),E=(y==null?void 0:y.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,R]=M.useState({}),B=Gr(t,I=>A(I)),k=Array.from(g.layers),[N]=[...g.layersWithOutsidePointerEventsDisabled].slice(-1),X=k.indexOf(N),$=y?k.indexOf(y):-1,et=g.layersWithOutsidePointerEventsDisabled.size>0,ot=$>=X,st=eC(I=>{const S=I.target,V=[...g.branches].some(D=>D.contains(S));!ot||V||(o==null||o(I),f==null||f(I),I.defaultPrevented||d==null||d())},E),ht=nC(I=>{const S=I.target;[...g.branches].some(D=>D.contains(S))||(u==null||u(I),f==null||f(I),I.defaultPrevented||d==null||d())},E);return XV(I=>{$===g.layers.size-1&&(s==null||s(I),!I.defaultPrevented&&d&&(I.preventDefault(),d()))},E),M.useEffect(()=>{if(y)return n&&(g.layersWithOutsidePointerEventsDisabled.size===0&&(n_=E.body.style.pointerEvents,E.body.style.pointerEvents="none"),g.layersWithOutsidePointerEventsDisabled.add(y)),g.layers.add(y),r_(),()=>{n&&g.layersWithOutsidePointerEventsDisabled.size===1&&(E.body.style.pointerEvents=n_)}},[y,E,n,g]),M.useEffect(()=>()=>{y&&(g.layers.delete(y),g.layersWithOutsidePointerEventsDisabled.delete(y),r_())},[y,g]),M.useEffect(()=>{const I=()=>R({});return document.addEventListener(Xm,I),()=>document.removeEventListener(Xm,I)},[]),L.jsx(_b.div,{...m,ref:B,style:{pointerEvents:et?ot?"auto":"none":void 0,...r.style},onFocusCapture:qr(r.onFocusCapture,ht.onFocusCapture),onBlurCapture:qr(r.onBlurCapture,ht.onBlurCapture),onPointerDownCapture:qr(r.onPointerDownCapture,st.onPointerDownCapture)})});bb.displayName=KV;var JV="DismissableLayerBranch",tC=M.forwardRef((r,t)=>{const n=M.useContext(Ab),s=M.useRef(null),o=Gr(t,s);return M.useEffect(()=>{const u=s.current;if(u)return n.branches.add(u),()=>{n.branches.delete(u)}},[n.branches]),L.jsx(_b.div,{...r,ref:o})});tC.displayName=JV;function eC(r,t=globalThis==null?void 0:globalThis.document){const n=Jf(r),s=M.useRef(!1),o=M.useRef(()=>{});return M.useEffect(()=>{const u=d=>{if(d.target&&!s.current){let m=function(){Eb(WV,n,g,{discrete:!0})};const g={originalEvent:d};d.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=m,t.addEventListener("click",o.current,{once:!0})):m()}else t.removeEventListener("click",o.current);s.current=!1},f=window.setTimeout(()=>{t.addEventListener("pointerdown",u)},0);return()=>{window.clearTimeout(f),t.removeEventListener("pointerdown",u),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function nC(r,t=globalThis==null?void 0:globalThis.document){const n=Jf(r),s=M.useRef(!1);return M.useEffect(()=>{const o=u=>{u.target&&!s.current&&Eb(ZV,n,{originalEvent:u},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function r_(){const r=new CustomEvent(Xm);document.dispatchEvent(r)}function Eb(r,t,n,{discrete:s}){const o=n.originalEvent.target,u=new CustomEvent(r,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(r,t,{once:!0}),s?YV(o,u):o.dispatchEvent(u)}var Js=globalThis!=null&&globalThis.document?M.useLayoutEffect:()=>{},rC=g_[" useId ".trim().toString()]||(()=>{}),iC=0;function $p(r){const[t,n]=M.useState(rC());return Js(()=>{n(s=>s??String(iC++))},[r]),t?`radix-${t}`:""}const sC=["top","right","bottom","left"],ta=Math.min,hr=Math.max,If=Math.round,ef=Math.floor,bi=r=>({x:r,y:r}),aC={left:"right",right:"left",bottom:"top",top:"bottom"},oC={start:"end",end:"start"};function Km(r,t,n){return hr(r,ta(t,n))}function is(r,t){return typeof r=="function"?r(t):r}function ss(r){return r.split("-")[0]}function Zo(r){return r.split("-")[1]}function Qp(r){return r==="x"?"y":"x"}function Yp(r){return r==="y"?"height":"width"}function ts(r){return["top","bottom"].includes(ss(r))?"y":"x"}function Xp(r){return Qp(ts(r))}function lC(r,t,n){n===void 0&&(n=!1);const s=Zo(r),o=Xp(r),u=Yp(o);let f=o==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[u]>t.floating[u]&&(f=Lf(f)),[f,Lf(f)]}function uC(r){const t=Lf(r);return[Wm(r),t,Wm(t)]}function Wm(r){return r.replace(/start|end/g,t=>oC[t])}function cC(r,t,n){const s=["left","right"],o=["right","left"],u=["top","bottom"],f=["bottom","top"];switch(r){case"top":case"bottom":return n?t?o:s:t?s:o;case"left":case"right":return t?u:f;default:return[]}}function fC(r,t,n,s){const o=Zo(r);let u=cC(ss(r),n==="start",s);return o&&(u=u.map(f=>f+"-"+o),t&&(u=u.concat(u.map(Wm)))),u}function Lf(r){return r.replace(/left|right|bottom|top/g,t=>aC[t])}function hC(r){return{top:0,right:0,bottom:0,left:0,...r}}function Tb(r){return typeof r!="number"?hC(r):{top:r,right:r,bottom:r,left:r}}function Nf(r){const{x:t,y:n,width:s,height:o}=r;return{width:s,height:o,top:n,left:t,right:t+s,bottom:n+o,x:t,y:n}}function i_(r,t,n){let{reference:s,floating:o}=r;const u=ts(t),f=Xp(t),d=Yp(f),m=ss(t),g=u==="y",y=s.x+s.width/2-o.width/2,A=s.y+s.height/2-o.height/2,E=s[d]/2-o[d]/2;let R;switch(m){case"top":R={x:y,y:s.y-o.height};break;case"bottom":R={x:y,y:s.y+s.height};break;case"right":R={x:s.x+s.width,y:A};break;case"left":R={x:s.x-o.width,y:A};break;default:R={x:s.x,y:s.y}}switch(Zo(t)){case"start":R[f]-=E*(n&&g?-1:1);break;case"end":R[f]+=E*(n&&g?-1:1);break}return R}const dC=async(r,t,n)=>{const{placement:s="bottom",strategy:o="absolute",middleware:u=[],platform:f}=n,d=u.filter(Boolean),m=await(f.isRTL==null?void 0:f.isRTL(t));let g=await f.getElementRects({reference:r,floating:t,strategy:o}),{x:y,y:A}=i_(g,s,m),E=s,R={},B=0;for(let k=0;k<d.length;k++){const{name:N,fn:X}=d[k],{x:$,y:et,data:ot,reset:st}=await X({x:y,y:A,initialPlacement:s,placement:E,strategy:o,middlewareData:R,rects:g,platform:f,elements:{reference:r,floating:t}});y=$??y,A=et??A,R={...R,[N]:{...R[N],...ot}},st&&B<=50&&(B++,typeof st=="object"&&(st.placement&&(E=st.placement),st.rects&&(g=st.rects===!0?await f.getElementRects({reference:r,floating:t,strategy:o}):st.rects),{x:y,y:A}=i_(g,E,m)),k=-1)}return{x:y,y:A,placement:E,strategy:o,middlewareData:R}};async function Ru(r,t){var n;t===void 0&&(t={});const{x:s,y:o,platform:u,rects:f,elements:d,strategy:m}=r,{boundary:g="clippingAncestors",rootBoundary:y="viewport",elementContext:A="floating",altBoundary:E=!1,padding:R=0}=is(t,r),B=Tb(R),N=d[E?A==="floating"?"reference":"floating":A],X=Nf(await u.getClippingRect({element:(n=await(u.isElement==null?void 0:u.isElement(N)))==null||n?N:N.contextElement||await(u.getDocumentElement==null?void 0:u.getDocumentElement(d.floating)),boundary:g,rootBoundary:y,strategy:m})),$=A==="floating"?{x:s,y:o,width:f.floating.width,height:f.floating.height}:f.reference,et=await(u.getOffsetParent==null?void 0:u.getOffsetParent(d.floating)),ot=await(u.isElement==null?void 0:u.isElement(et))?await(u.getScale==null?void 0:u.getScale(et))||{x:1,y:1}:{x:1,y:1},st=Nf(u.convertOffsetParentRelativeRectToViewportRelativeRect?await u.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:$,offsetParent:et,strategy:m}):$);return{top:(X.top-st.top+B.top)/ot.y,bottom:(st.bottom-X.bottom+B.bottom)/ot.y,left:(X.left-st.left+B.left)/ot.x,right:(st.right-X.right+B.right)/ot.x}}const mC=r=>({name:"arrow",options:r,async fn(t){const{x:n,y:s,placement:o,rects:u,platform:f,elements:d,middlewareData:m}=t,{element:g,padding:y=0}=is(r,t)||{};if(g==null)return{};const A=Tb(y),E={x:n,y:s},R=Xp(o),B=Yp(R),k=await f.getDimensions(g),N=R==="y",X=N?"top":"left",$=N?"bottom":"right",et=N?"clientHeight":"clientWidth",ot=u.reference[B]+u.reference[R]-E[R]-u.floating[B],st=E[R]-u.reference[R],ht=await(f.getOffsetParent==null?void 0:f.getOffsetParent(g));let I=ht?ht[et]:0;(!I||!await(f.isElement==null?void 0:f.isElement(ht)))&&(I=d.floating[et]||u.floating[B]);const S=ot/2-st/2,V=I/2-k[B]/2-1,D=ta(A[X],V),j=ta(A[$],V),U=D,C=I-k[B]-j,Ot=I/2-k[B]/2+S,Et=Km(U,Ot,C),q=!m.arrow&&Zo(o)!=null&&Ot!==Et&&u.reference[B]/2-(Ot<U?D:j)-k[B]/2<0,at=q?Ot<U?Ot-U:Ot-C:0;return{[R]:E[R]+at,data:{[R]:Et,centerOffset:Ot-Et-at,...q&&{alignmentOffset:at}},reset:q}}}),pC=function(r){return r===void 0&&(r={}),{name:"flip",options:r,async fn(t){var n,s;const{placement:o,middlewareData:u,rects:f,initialPlacement:d,platform:m,elements:g}=t,{mainAxis:y=!0,crossAxis:A=!0,fallbackPlacements:E,fallbackStrategy:R="bestFit",fallbackAxisSideDirection:B="none",flipAlignment:k=!0,...N}=is(r,t);if((n=u.arrow)!=null&&n.alignmentOffset)return{};const X=ss(o),$=ts(d),et=ss(d)===d,ot=await(m.isRTL==null?void 0:m.isRTL(g.floating)),st=E||(et||!k?[Lf(d)]:uC(d)),ht=B!=="none";!E&&ht&&st.push(...fC(d,k,B,ot));const I=[d,...st],S=await Ru(t,N),V=[];let D=((s=u.flip)==null?void 0:s.overflows)||[];if(y&&V.push(S[X]),A){const Et=lC(o,f,ot);V.push(S[Et[0]],S[Et[1]])}if(D=[...D,{placement:o,overflows:V}],!V.every(Et=>Et<=0)){var j,U;const Et=(((j=u.flip)==null?void 0:j.index)||0)+1,q=I[Et];if(q){var C;const Z=A==="alignment"?$!==ts(q):!1,Rt=((C=D[0])==null?void 0:C.overflows[0])>0;if(!Z||Rt)return{data:{index:Et,overflows:D},reset:{placement:q}}}let at=(U=D.filter(Z=>Z.overflows[0]<=0).sort((Z,Rt)=>Z.overflows[1]-Rt.overflows[1])[0])==null?void 0:U.placement;if(!at)switch(R){case"bestFit":{var Ot;const Z=(Ot=D.filter(Rt=>{if(ht){const P=ts(Rt.placement);return P===$||P==="y"}return!0}).map(Rt=>[Rt.placement,Rt.overflows.filter(P=>P>0).reduce((P,rt)=>P+rt,0)]).sort((Rt,P)=>Rt[1]-P[1])[0])==null?void 0:Ot[0];Z&&(at=Z);break}case"initialPlacement":at=d;break}if(o!==at)return{reset:{placement:at}}}return{}}}};function s_(r,t){return{top:r.top-t.height,right:r.right-t.width,bottom:r.bottom-t.height,left:r.left-t.width}}function a_(r){return sC.some(t=>r[t]>=0)}const gC=function(r){return r===void 0&&(r={}),{name:"hide",options:r,async fn(t){const{rects:n}=t,{strategy:s="referenceHidden",...o}=is(r,t);switch(s){case"referenceHidden":{const u=await Ru(t,{...o,elementContext:"reference"}),f=s_(u,n.reference);return{data:{referenceHiddenOffsets:f,referenceHidden:a_(f)}}}case"escaped":{const u=await Ru(t,{...o,altBoundary:!0}),f=s_(u,n.floating);return{data:{escapedOffsets:f,escaped:a_(f)}}}default:return{}}}}};async function yC(r,t){const{placement:n,platform:s,elements:o}=r,u=await(s.isRTL==null?void 0:s.isRTL(o.floating)),f=ss(n),d=Zo(n),m=ts(n)==="y",g=["left","top"].includes(f)?-1:1,y=u&&m?-1:1,A=is(t,r);let{mainAxis:E,crossAxis:R,alignmentAxis:B}=typeof A=="number"?{mainAxis:A,crossAxis:0,alignmentAxis:null}:{mainAxis:A.mainAxis||0,crossAxis:A.crossAxis||0,alignmentAxis:A.alignmentAxis};return d&&typeof B=="number"&&(R=d==="end"?B*-1:B),m?{x:R*y,y:E*g}:{x:E*g,y:R*y}}const vC=function(r){return r===void 0&&(r=0),{name:"offset",options:r,async fn(t){var n,s;const{x:o,y:u,placement:f,middlewareData:d}=t,m=await yC(t,r);return f===((n=d.offset)==null?void 0:n.placement)&&(s=d.arrow)!=null&&s.alignmentOffset?{}:{x:o+m.x,y:u+m.y,data:{...m,placement:f}}}}},_C=function(r){return r===void 0&&(r={}),{name:"shift",options:r,async fn(t){const{x:n,y:s,placement:o}=t,{mainAxis:u=!0,crossAxis:f=!1,limiter:d={fn:N=>{let{x:X,y:$}=N;return{x:X,y:$}}},...m}=is(r,t),g={x:n,y:s},y=await Ru(t,m),A=ts(ss(o)),E=Qp(A);let R=g[E],B=g[A];if(u){const N=E==="y"?"top":"left",X=E==="y"?"bottom":"right",$=R+y[N],et=R-y[X];R=Km($,R,et)}if(f){const N=A==="y"?"top":"left",X=A==="y"?"bottom":"right",$=B+y[N],et=B-y[X];B=Km($,B,et)}const k=d.fn({...t,[E]:R,[A]:B});return{...k,data:{x:k.x-n,y:k.y-s,enabled:{[E]:u,[A]:f}}}}}},AC=function(r){return r===void 0&&(r={}),{options:r,fn(t){const{x:n,y:s,placement:o,rects:u,middlewareData:f}=t,{offset:d=0,mainAxis:m=!0,crossAxis:g=!0}=is(r,t),y={x:n,y:s},A=ts(o),E=Qp(A);let R=y[E],B=y[A];const k=is(d,t),N=typeof k=="number"?{mainAxis:k,crossAxis:0}:{mainAxis:0,crossAxis:0,...k};if(m){const et=E==="y"?"height":"width",ot=u.reference[E]-u.floating[et]+N.mainAxis,st=u.reference[E]+u.reference[et]-N.mainAxis;R<ot?R=ot:R>st&&(R=st)}if(g){var X,$;const et=E==="y"?"width":"height",ot=["top","left"].includes(ss(o)),st=u.reference[A]-u.floating[et]+(ot&&((X=f.offset)==null?void 0:X[A])||0)+(ot?0:N.crossAxis),ht=u.reference[A]+u.reference[et]+(ot?0:(($=f.offset)==null?void 0:$[A])||0)-(ot?N.crossAxis:0);B<st?B=st:B>ht&&(B=ht)}return{[E]:R,[A]:B}}}},bC=function(r){return r===void 0&&(r={}),{name:"size",options:r,async fn(t){var n,s;const{placement:o,rects:u,platform:f,elements:d}=t,{apply:m=()=>{},...g}=is(r,t),y=await Ru(t,g),A=ss(o),E=Zo(o),R=ts(o)==="y",{width:B,height:k}=u.floating;let N,X;A==="top"||A==="bottom"?(N=A,X=E===(await(f.isRTL==null?void 0:f.isRTL(d.floating))?"start":"end")?"left":"right"):(X=A,N=E==="end"?"top":"bottom");const $=k-y.top-y.bottom,et=B-y.left-y.right,ot=ta(k-y[N],$),st=ta(B-y[X],et),ht=!t.middlewareData.shift;let I=ot,S=st;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(S=et),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(I=$),ht&&!E){const D=hr(y.left,0),j=hr(y.right,0),U=hr(y.top,0),C=hr(y.bottom,0);R?S=B-2*(D!==0||j!==0?D+j:hr(y.left,y.right)):I=k-2*(U!==0||C!==0?U+C:hr(y.top,y.bottom))}await m({...t,availableWidth:S,availableHeight:I});const V=await f.getDimensions(d.floating);return B!==V.width||k!==V.height?{reset:{rects:!0}}:{}}}};function th(){return typeof window<"u"}function Jo(r){return Sb(r)?(r.nodeName||"").toLowerCase():"#document"}function mr(r){var t;return(r==null||(t=r.ownerDocument)==null?void 0:t.defaultView)||window}function Ri(r){var t;return(t=(Sb(r)?r.ownerDocument:r.document)||window.document)==null?void 0:t.documentElement}function Sb(r){return th()?r instanceof Node||r instanceof mr(r).Node:!1}function $r(r){return th()?r instanceof Element||r instanceof mr(r).Element:!1}function Si(r){return th()?r instanceof HTMLElement||r instanceof mr(r).HTMLElement:!1}function o_(r){return!th()||typeof ShadowRoot>"u"?!1:r instanceof ShadowRoot||r instanceof mr(r).ShadowRoot}function Ou(r){const{overflow:t,overflowX:n,overflowY:s,display:o}=Qr(r);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!["inline","contents"].includes(o)}function EC(r){return["table","td","th"].includes(Jo(r))}function eh(r){return[":popover-open",":modal"].some(t=>{try{return r.matches(t)}catch{return!1}})}function Kp(r){const t=Wp(),n=$r(r)?Qr(r):r;return["transform","translate","scale","rotate","perspective"].some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(s=>(n.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(n.contain||"").includes(s))}function TC(r){let t=ea(r);for(;Si(t)&&!qo(t);){if(Kp(t))return t;if(eh(t))return null;t=ea(t)}return null}function Wp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function qo(r){return["html","body","#document"].includes(Jo(r))}function Qr(r){return mr(r).getComputedStyle(r)}function nh(r){return $r(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:{scrollLeft:r.scrollX,scrollTop:r.scrollY}}function ea(r){if(Jo(r)==="html")return r;const t=r.assignedSlot||r.parentNode||o_(r)&&r.host||Ri(r);return o_(t)?t.host:t}function wb(r){const t=ea(r);return qo(t)?r.ownerDocument?r.ownerDocument.body:r.body:Si(t)&&Ou(t)?t:wb(t)}function Mu(r,t,n){var s;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=wb(r),u=o===((s=r.ownerDocument)==null?void 0:s.body),f=mr(o);if(u){const d=Zm(f);return t.concat(f,f.visualViewport||[],Ou(o)?o:[],d&&n?Mu(d):[])}return t.concat(o,Mu(o,[],n))}function Zm(r){return r.parent&&Object.getPrototypeOf(r.parent)?r.frameElement:null}function Rb(r){const t=Qr(r);let n=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const o=Si(r),u=o?r.offsetWidth:n,f=o?r.offsetHeight:s,d=If(n)!==u||If(s)!==f;return d&&(n=u,s=f),{width:n,height:s,$:d}}function Zp(r){return $r(r)?r:r.contextElement}function ko(r){const t=Zp(r);if(!Si(t))return bi(1);const n=t.getBoundingClientRect(),{width:s,height:o,$:u}=Rb(t);let f=(u?If(n.width):n.width)/s,d=(u?If(n.height):n.height)/o;return(!f||!Number.isFinite(f))&&(f=1),(!d||!Number.isFinite(d))&&(d=1),{x:f,y:d}}const SC=bi(0);function Mb(r){const t=mr(r);return!Wp()||!t.visualViewport?SC:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function wC(r,t,n){return t===void 0&&(t=!1),!n||t&&n!==mr(r)?!1:t}function Ba(r,t,n,s){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=r.getBoundingClientRect(),u=Zp(r);let f=bi(1);t&&(s?$r(s)&&(f=ko(s)):f=ko(r));const d=wC(u,n,s)?Mb(u):bi(0);let m=(o.left+d.x)/f.x,g=(o.top+d.y)/f.y,y=o.width/f.x,A=o.height/f.y;if(u){const E=mr(u),R=s&&$r(s)?mr(s):s;let B=E,k=Zm(B);for(;k&&s&&R!==B;){const N=ko(k),X=k.getBoundingClientRect(),$=Qr(k),et=X.left+(k.clientLeft+parseFloat($.paddingLeft))*N.x,ot=X.top+(k.clientTop+parseFloat($.paddingTop))*N.y;m*=N.x,g*=N.y,y*=N.x,A*=N.y,m+=et,g+=ot,B=mr(k),k=Zm(B)}}return Nf({width:y,height:A,x:m,y:g})}function Jp(r,t){const n=nh(r).scrollLeft;return t?t.left+n:Ba(Ri(r)).left+n}function xb(r,t,n){n===void 0&&(n=!1);const s=r.getBoundingClientRect(),o=s.left+t.scrollLeft-(n?0:Jp(r,s)),u=s.top+t.scrollTop;return{x:o,y:u}}function RC(r){let{elements:t,rect:n,offsetParent:s,strategy:o}=r;const u=o==="fixed",f=Ri(s),d=t?eh(t.floating):!1;if(s===f||d&&u)return n;let m={scrollLeft:0,scrollTop:0},g=bi(1);const y=bi(0),A=Si(s);if((A||!A&&!u)&&((Jo(s)!=="body"||Ou(f))&&(m=nh(s)),Si(s))){const R=Ba(s);g=ko(s),y.x=R.x+s.clientLeft,y.y=R.y+s.clientTop}const E=f&&!A&&!u?xb(f,m,!0):bi(0);return{width:n.width*g.x,height:n.height*g.y,x:n.x*g.x-m.scrollLeft*g.x+y.x+E.x,y:n.y*g.y-m.scrollTop*g.y+y.y+E.y}}function MC(r){return Array.from(r.getClientRects())}function xC(r){const t=Ri(r),n=nh(r),s=r.ownerDocument.body,o=hr(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),u=hr(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let f=-n.scrollLeft+Jp(r);const d=-n.scrollTop;return Qr(s).direction==="rtl"&&(f+=hr(t.clientWidth,s.clientWidth)-o),{width:o,height:u,x:f,y:d}}function VC(r,t){const n=mr(r),s=Ri(r),o=n.visualViewport;let u=s.clientWidth,f=s.clientHeight,d=0,m=0;if(o){u=o.width,f=o.height;const g=Wp();(!g||g&&t==="fixed")&&(d=o.offsetLeft,m=o.offsetTop)}return{width:u,height:f,x:d,y:m}}function CC(r,t){const n=Ba(r,!0,t==="fixed"),s=n.top+r.clientTop,o=n.left+r.clientLeft,u=Si(r)?ko(r):bi(1),f=r.clientWidth*u.x,d=r.clientHeight*u.y,m=o*u.x,g=s*u.y;return{width:f,height:d,x:m,y:g}}function l_(r,t,n){let s;if(t==="viewport")s=VC(r,n);else if(t==="document")s=xC(Ri(r));else if($r(t))s=CC(t,n);else{const o=Mb(r);s={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return Nf(s)}function Vb(r,t){const n=ea(r);return n===t||!$r(n)||qo(n)?!1:Qr(n).position==="fixed"||Vb(n,t)}function IC(r,t){const n=t.get(r);if(n)return n;let s=Mu(r,[],!1).filter(d=>$r(d)&&Jo(d)!=="body"),o=null;const u=Qr(r).position==="fixed";let f=u?ea(r):r;for(;$r(f)&&!qo(f);){const d=Qr(f),m=Kp(f);!m&&d.position==="fixed"&&(o=null),(u?!m&&!o:!m&&d.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||Ou(f)&&!m&&Vb(r,f))?s=s.filter(y=>y!==f):o=d,f=ea(f)}return t.set(r,s),s}function LC(r){let{element:t,boundary:n,rootBoundary:s,strategy:o}=r;const f=[...n==="clippingAncestors"?eh(t)?[]:IC(t,this._c):[].concat(n),s],d=f[0],m=f.reduce((g,y)=>{const A=l_(t,y,o);return g.top=hr(A.top,g.top),g.right=ta(A.right,g.right),g.bottom=ta(A.bottom,g.bottom),g.left=hr(A.left,g.left),g},l_(t,d,o));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function NC(r){const{width:t,height:n}=Rb(r);return{width:t,height:n}}function PC(r,t,n){const s=Si(t),o=Ri(t),u=n==="fixed",f=Ba(r,!0,u,t);let d={scrollLeft:0,scrollTop:0};const m=bi(0);function g(){m.x=Jp(o)}if(s||!s&&!u)if((Jo(t)!=="body"||Ou(o))&&(d=nh(t)),s){const R=Ba(t,!0,u,t);m.x=R.x+t.clientLeft,m.y=R.y+t.clientTop}else o&&g();u&&!s&&o&&g();const y=o&&!s&&!u?xb(o,d):bi(0),A=f.left+d.scrollLeft-m.x-y.x,E=f.top+d.scrollTop-m.y-y.y;return{x:A,y:E,width:f.width,height:f.height}}function gm(r){return Qr(r).position==="static"}function u_(r,t){if(!Si(r)||Qr(r).position==="fixed")return null;if(t)return t(r);let n=r.offsetParent;return Ri(r)===n&&(n=n.ownerDocument.body),n}function Cb(r,t){const n=mr(r);if(eh(r))return n;if(!Si(r)){let o=ea(r);for(;o&&!qo(o);){if($r(o)&&!gm(o))return o;o=ea(o)}return n}let s=u_(r,t);for(;s&&EC(s)&&gm(s);)s=u_(s,t);return s&&qo(s)&&gm(s)&&!Kp(s)?n:s||TC(r)||n}const OC=async function(r){const t=this.getOffsetParent||Cb,n=this.getDimensions,s=await n(r.floating);return{reference:PC(r.reference,await t(r.floating),r.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function DC(r){return Qr(r).direction==="rtl"}const BC={convertOffsetParentRelativeRectToViewportRelativeRect:RC,getDocumentElement:Ri,getClippingRect:LC,getOffsetParent:Cb,getElementRects:OC,getClientRects:MC,getDimensions:NC,getScale:ko,isElement:$r,isRTL:DC};function Ib(r,t){return r.x===t.x&&r.y===t.y&&r.width===t.width&&r.height===t.height}function kC(r,t){let n=null,s;const o=Ri(r);function u(){var d;clearTimeout(s),(d=n)==null||d.disconnect(),n=null}function f(d,m){d===void 0&&(d=!1),m===void 0&&(m=1),u();const g=r.getBoundingClientRect(),{left:y,top:A,width:E,height:R}=g;if(d||t(),!E||!R)return;const B=ef(A),k=ef(o.clientWidth-(y+E)),N=ef(o.clientHeight-(A+R)),X=ef(y),et={rootMargin:-B+"px "+-k+"px "+-N+"px "+-X+"px",threshold:hr(0,ta(1,m))||1};let ot=!0;function st(ht){const I=ht[0].intersectionRatio;if(I!==m){if(!ot)return f();I?f(!1,I):s=setTimeout(()=>{f(!1,1e-7)},1e3)}I===1&&!Ib(g,r.getBoundingClientRect())&&f(),ot=!1}try{n=new IntersectionObserver(st,{...et,root:o.ownerDocument})}catch{n=new IntersectionObserver(st,et)}n.observe(r)}return f(!0),u}function jC(r,t,n,s){s===void 0&&(s={});const{ancestorScroll:o=!0,ancestorResize:u=!0,elementResize:f=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:m=!1}=s,g=Zp(r),y=o||u?[...g?Mu(g):[],...Mu(t)]:[];y.forEach(X=>{o&&X.addEventListener("scroll",n,{passive:!0}),u&&X.addEventListener("resize",n)});const A=g&&d?kC(g,n):null;let E=-1,R=null;f&&(R=new ResizeObserver(X=>{let[$]=X;$&&$.target===g&&R&&(R.unobserve(t),cancelAnimationFrame(E),E=requestAnimationFrame(()=>{var et;(et=R)==null||et.observe(t)})),n()}),g&&!m&&R.observe(g),R.observe(t));let B,k=m?Ba(r):null;m&&N();function N(){const X=Ba(r);k&&!Ib(k,X)&&n(),k=X,B=requestAnimationFrame(N)}return n(),()=>{var X;y.forEach($=>{o&&$.removeEventListener("scroll",n),u&&$.removeEventListener("resize",n)}),A==null||A(),(X=R)==null||X.disconnect(),R=null,m&&cancelAnimationFrame(B)}}const UC=vC,zC=_C,FC=pC,HC=bC,qC=gC,c_=mC,GC=AC,$C=(r,t,n)=>{const s=new Map,o={platform:BC,...n},u={...o.platform,_c:s};return dC(r,t,{...o,platform:u})};var hf=typeof document<"u"?M.useLayoutEffect:M.useEffect;function Pf(r,t){if(r===t)return!0;if(typeof r!=typeof t)return!1;if(typeof r=="function"&&r.toString()===t.toString())return!0;let n,s,o;if(r&&t&&typeof r=="object"){if(Array.isArray(r)){if(n=r.length,n!==t.length)return!1;for(s=n;s--!==0;)if(!Pf(r[s],t[s]))return!1;return!0}if(o=Object.keys(r),n=o.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(t,o[s]))return!1;for(s=n;s--!==0;){const u=o[s];if(!(u==="_owner"&&r.$$typeof)&&!Pf(r[u],t[u]))return!1}return!0}return r!==r&&t!==t}function Lb(r){return typeof window>"u"?1:(r.ownerDocument.defaultView||window).devicePixelRatio||1}function f_(r,t){const n=Lb(r);return Math.round(t*n)/n}function ym(r){const t=M.useRef(r);return hf(()=>{t.current=r}),t}function QC(r){r===void 0&&(r={});const{placement:t="bottom",strategy:n="absolute",middleware:s=[],platform:o,elements:{reference:u,floating:f}={},transform:d=!0,whileElementsMounted:m,open:g}=r,[y,A]=M.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[E,R]=M.useState(s);Pf(E,s)||R(s);const[B,k]=M.useState(null),[N,X]=M.useState(null),$=M.useCallback(Z=>{Z!==ht.current&&(ht.current=Z,k(Z))},[]),et=M.useCallback(Z=>{Z!==I.current&&(I.current=Z,X(Z))},[]),ot=u||B,st=f||N,ht=M.useRef(null),I=M.useRef(null),S=M.useRef(y),V=m!=null,D=ym(m),j=ym(o),U=ym(g),C=M.useCallback(()=>{if(!ht.current||!I.current)return;const Z={placement:t,strategy:n,middleware:E};j.current&&(Z.platform=j.current),$C(ht.current,I.current,Z).then(Rt=>{const P={...Rt,isPositioned:U.current!==!1};Ot.current&&!Pf(S.current,P)&&(S.current=P,vb.flushSync(()=>{A(P)}))})},[E,t,n,j,U]);hf(()=>{g===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,A(Z=>({...Z,isPositioned:!1})))},[g]);const Ot=M.useRef(!1);hf(()=>(Ot.current=!0,()=>{Ot.current=!1}),[]),hf(()=>{if(ot&&(ht.current=ot),st&&(I.current=st),ot&&st){if(D.current)return D.current(ot,st,C);C()}},[ot,st,C,D,V]);const Et=M.useMemo(()=>({reference:ht,floating:I,setReference:$,setFloating:et}),[$,et]),q=M.useMemo(()=>({reference:ot,floating:st}),[ot,st]),at=M.useMemo(()=>{const Z={position:n,left:0,top:0};if(!q.floating)return Z;const Rt=f_(q.floating,y.x),P=f_(q.floating,y.y);return d?{...Z,transform:"translate("+Rt+"px, "+P+"px)",...Lb(q.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Rt,top:P}},[n,d,q.floating,y.x,y.y]);return M.useMemo(()=>({...y,update:C,refs:Et,elements:q,floatingStyles:at}),[y,C,Et,q,at])}const YC=r=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:r,fn(n){const{element:s,padding:o}=typeof r=="function"?r(n):r;return s&&t(s)?s.current!=null?c_({element:s.current,padding:o}).fn(n):{}:s?c_({element:s,padding:o}).fn(n):{}}}},XC=(r,t)=>({...UC(r),options:[r,t]}),KC=(r,t)=>({...zC(r),options:[r,t]}),WC=(r,t)=>({...GC(r),options:[r,t]}),ZC=(r,t)=>({...FC(r),options:[r,t]}),JC=(r,t)=>({...HC(r),options:[r,t]}),tI=(r,t)=>({...qC(r),options:[r,t]}),eI=(r,t)=>({...YC(r),options:[r,t]});function nI(r){const t=rI(r),n=M.forwardRef((s,o)=>{const{children:u,...f}=s,d=M.Children.toArray(u),m=d.find(sI);if(m){const g=m.props.children,y=d.map(A=>A===m?M.Children.count(g)>1?M.Children.only(null):M.isValidElement(g)?g.props.children:null:A);return L.jsx(t,{...f,ref:o,children:M.isValidElement(g)?M.cloneElement(g,void 0,y):null})}return L.jsx(t,{...f,ref:o,children:u})});return n.displayName=`${r}.Slot`,n}function rI(r){const t=M.forwardRef((n,s)=>{const{children:o,...u}=n;if(M.isValidElement(o)){const f=oI(o),d=aI(u,o.props);return o.type!==M.Fragment&&(d.ref=s?Ua(s,f):f),M.cloneElement(o,d)}return M.Children.count(o)>1?M.Children.only(null):null});return t.displayName=`${r}.SlotClone`,t}var iI=Symbol("radix.slottable");function sI(r){return M.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===iI}function aI(r,t){const n={...t};for(const s in t){const o=r[s],u=t[s];/^on[A-Z]/.test(s)?o&&u?n[s]=(...d)=>{const m=u(...d);return o(...d),m}:o&&(n[s]=o):s==="style"?n[s]={...o,...u}:s==="className"&&(n[s]=[o,u].filter(Boolean).join(" "))}return{...r,...n}}function oI(r){var s,o;let t=(s=Object.getOwnPropertyDescriptor(r.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?r.ref:(t=(o=Object.getOwnPropertyDescriptor(r,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?r.props.ref:r.props.ref||r.ref)}var lI=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],uI=lI.reduce((r,t)=>{const n=nI(`Primitive.${t}`),s=M.forwardRef((o,u)=>{const{asChild:f,...d}=o,m=f?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),L.jsx(m,{...d,ref:u})});return s.displayName=`Primitive.${t}`,{...r,[t]:s}},{}),cI="Arrow",Nb=M.forwardRef((r,t)=>{const{children:n,width:s=10,height:o=5,...u}=r;return L.jsx(uI.svg,{...u,ref:t,width:s,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:r.asChild?n:L.jsx("polygon",{points:"0,0 30,0 15,10"})})});Nb.displayName=cI;var fI=Nb;function hI(r){const t=dI(r),n=M.forwardRef((s,o)=>{const{children:u,...f}=s,d=M.Children.toArray(u),m=d.find(pI);if(m){const g=m.props.children,y=d.map(A=>A===m?M.Children.count(g)>1?M.Children.only(null):M.isValidElement(g)?g.props.children:null:A);return L.jsx(t,{...f,ref:o,children:M.isValidElement(g)?M.cloneElement(g,void 0,y):null})}return L.jsx(t,{...f,ref:o,children:u})});return n.displayName=`${r}.Slot`,n}function dI(r){const t=M.forwardRef((n,s)=>{const{children:o,...u}=n;if(M.isValidElement(o)){const f=yI(o),d=gI(u,o.props);return o.type!==M.Fragment&&(d.ref=s?Ua(s,f):f),M.cloneElement(o,d)}return M.Children.count(o)>1?M.Children.only(null):null});return t.displayName=`${r}.SlotClone`,t}var mI=Symbol("radix.slottable");function pI(r){return M.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===mI}function gI(r,t){const n={...t};for(const s in t){const o=r[s],u=t[s];/^on[A-Z]/.test(s)?o&&u?n[s]=(...d)=>{const m=u(...d);return o(...d),m}:o&&(n[s]=o):s==="style"?n[s]={...o,...u}:s==="className"&&(n[s]=[o,u].filter(Boolean).join(" "))}return{...r,...n}}function yI(r){var s,o;let t=(s=Object.getOwnPropertyDescriptor(r.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?r.ref:(t=(o=Object.getOwnPropertyDescriptor(r,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?r.props.ref:r.props.ref||r.ref)}var vI=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Pb=vI.reduce((r,t)=>{const n=hI(`Primitive.${t}`),s=M.forwardRef((o,u)=>{const{asChild:f,...d}=o,m=f?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),L.jsx(m,{...d,ref:u})});return s.displayName=`Primitive.${t}`,{...r,[t]:s}},{});function _I(r){const[t,n]=M.useState(void 0);return Js(()=>{if(r){n({width:r.offsetWidth,height:r.offsetHeight});const s=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const u=o[0];let f,d;if("borderBoxSize"in u){const m=u.borderBoxSize,g=Array.isArray(m)?m[0]:m;f=g.inlineSize,d=g.blockSize}else f=r.offsetWidth,d=r.offsetHeight;n({width:f,height:d})});return s.observe(r,{box:"border-box"}),()=>s.unobserve(r)}else n(void 0)},[r]),t}var tg="Popper",[Ob,Db]=Pu(tg),[AI,Bb]=Ob(tg),kb=r=>{const{__scopePopper:t,children:n}=r,[s,o]=M.useState(null);return L.jsx(AI,{scope:t,anchor:s,onAnchorChange:o,children:n})};kb.displayName=tg;var jb="PopperAnchor",Ub=M.forwardRef((r,t)=>{const{__scopePopper:n,virtualRef:s,...o}=r,u=Bb(jb,n),f=M.useRef(null),d=Gr(t,f);return M.useEffect(()=>{u.onAnchorChange((s==null?void 0:s.current)||f.current)}),s?null:L.jsx(Pb.div,{...o,ref:d})});Ub.displayName=jb;var eg="PopperContent",[bI,EI]=Ob(eg),zb=M.forwardRef((r,t)=>{var kt,dt,Ut,me,Se,pe;const{__scopePopper:n,side:s="bottom",sideOffset:o=0,align:u="center",alignOffset:f=0,arrowPadding:d=0,avoidCollisions:m=!0,collisionBoundary:g=[],collisionPadding:y=0,sticky:A="partial",hideWhenDetached:E=!1,updatePositionStrategy:R="optimized",onPlaced:B,...k}=r,N=Bb(eg,n),[X,$]=M.useState(null),et=Gr(t,bn=>$(bn)),[ot,st]=M.useState(null),ht=_I(ot),I=(ht==null?void 0:ht.width)??0,S=(ht==null?void 0:ht.height)??0,V=s+(u!=="center"?"-"+u:""),D=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},j=Array.isArray(g)?g:[g],U=j.length>0,C={padding:D,boundary:j.filter(SI),altBoundary:U},{refs:Ot,floatingStyles:Et,placement:q,isPositioned:at,middlewareData:Z}=QC({strategy:"fixed",placement:V,whileElementsMounted:(...bn)=>jC(...bn,{animationFrame:R==="always"}),elements:{reference:N.anchor},middleware:[XC({mainAxis:o+S,alignmentAxis:f}),m&&KC({mainAxis:!0,crossAxis:!1,limiter:A==="partial"?WC():void 0,...C}),m&&ZC({...C}),JC({...C,apply:({elements:bn,rects:Jn,availableWidth:Mi,availableHeight:as})=>{const{width:En,height:ia}=Jn.reference,pr=bn.floating.style;pr.setProperty("--radix-popper-available-width",`${Mi}px`),pr.setProperty("--radix-popper-available-height",`${as}px`),pr.setProperty("--radix-popper-anchor-width",`${En}px`),pr.setProperty("--radix-popper-anchor-height",`${ia}px`)}}),ot&&eI({element:ot,padding:d}),wI({arrowWidth:I,arrowHeight:S}),E&&tI({strategy:"referenceHidden",...C})]}),[Rt,P]=qb(q),rt=Jf(B);Js(()=>{at&&(rt==null||rt())},[at,rt]);const mt=(kt=Z.arrow)==null?void 0:kt.x,lt=(dt=Z.arrow)==null?void 0:dt.y,gt=((Ut=Z.arrow)==null?void 0:Ut.centerOffset)!==0,[yt,Vt]=M.useState();return Js(()=>{X&&Vt(window.getComputedStyle(X).zIndex)},[X]),L.jsx("div",{ref:Ot.setFloating,"data-radix-popper-content-wrapper":"",style:{...Et,transform:at?Et.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:yt,"--radix-popper-transform-origin":[(me=Z.transformOrigin)==null?void 0:me.x,(Se=Z.transformOrigin)==null?void 0:Se.y].join(" "),...((pe=Z.hide)==null?void 0:pe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:r.dir,children:L.jsx(bI,{scope:n,placedSide:Rt,onArrowChange:st,arrowX:mt,arrowY:lt,shouldHideArrow:gt,children:L.jsx(Pb.div,{"data-side":Rt,"data-align":P,...k,ref:et,style:{...k.style,animation:at?void 0:"none"}})})})});zb.displayName=eg;var Fb="PopperArrow",TI={top:"bottom",right:"left",bottom:"top",left:"right"},Hb=M.forwardRef(function(t,n){const{__scopePopper:s,...o}=t,u=EI(Fb,s),f=TI[u.placedSide];return L.jsx("span",{ref:u.onArrowChange,style:{position:"absolute",left:u.arrowX,top:u.arrowY,[f]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[u.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[u.placedSide],visibility:u.shouldHideArrow?"hidden":void 0},children:L.jsx(fI,{...o,ref:n,style:{...o.style,display:"block"}})})});Hb.displayName=Fb;function SI(r){return r!==null}var wI=r=>({name:"transformOrigin",options:r,fn(t){var N,X,$;const{placement:n,rects:s,middlewareData:o}=t,f=((N=o.arrow)==null?void 0:N.centerOffset)!==0,d=f?0:r.arrowWidth,m=f?0:r.arrowHeight,[g,y]=qb(n),A={start:"0%",center:"50%",end:"100%"}[y],E=(((X=o.arrow)==null?void 0:X.x)??0)+d/2,R=((($=o.arrow)==null?void 0:$.y)??0)+m/2;let B="",k="";return g==="bottom"?(B=f?A:`${E}px`,k=`${-m}px`):g==="top"?(B=f?A:`${E}px`,k=`${s.floating.height+m}px`):g==="right"?(B=`${-m}px`,k=f?A:`${R}px`):g==="left"&&(B=`${s.floating.width+m}px`,k=f?A:`${R}px`),{data:{x:B,y:k}}}});function qb(r){const[t,n="center"]=r.split("-");return[t,n]}var RI=kb,MI=Ub,xI=zb,VI=Hb;function CI(r,t){return M.useReducer((n,s)=>t[n][s]??n,r)}var ng=r=>{const{present:t,children:n}=r,s=II(t),o=typeof n=="function"?n({present:s.isPresent}):M.Children.only(n),u=Gr(s.ref,LI(o));return typeof n=="function"||s.isPresent?M.cloneElement(o,{ref:u}):null};ng.displayName="Presence";function II(r){const[t,n]=M.useState(),s=M.useRef(null),o=M.useRef(r),u=M.useRef("none"),f=r?"mounted":"unmounted",[d,m]=CI(f,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return M.useEffect(()=>{const g=nf(s.current);u.current=d==="mounted"?g:"none"},[d]),Js(()=>{const g=s.current,y=o.current;if(y!==r){const E=u.current,R=nf(g);r?m("MOUNT"):R==="none"||(g==null?void 0:g.display)==="none"?m("UNMOUNT"):m(y&&E!==R?"ANIMATION_OUT":"UNMOUNT"),o.current=r}},[r,m]),Js(()=>{if(t){let g;const y=t.ownerDocument.defaultView??window,A=R=>{const k=nf(s.current).includes(R.animationName);if(R.target===t&&k&&(m("ANIMATION_END"),!o.current)){const N=t.style.animationFillMode;t.style.animationFillMode="forwards",g=y.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=N)})}},E=R=>{R.target===t&&(u.current=nf(s.current))};return t.addEventListener("animationstart",E),t.addEventListener("animationcancel",A),t.addEventListener("animationend",A),()=>{y.clearTimeout(g),t.removeEventListener("animationstart",E),t.removeEventListener("animationcancel",A),t.removeEventListener("animationend",A)}}else m("ANIMATION_END")},[t,m]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:M.useCallback(g=>{s.current=g?getComputedStyle(g):null,n(g)},[])}}function nf(r){return(r==null?void 0:r.animationName)||"none"}function LI(r){var s,o;let t=(s=Object.getOwnPropertyDescriptor(r.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?r.ref:(t=(o=Object.getOwnPropertyDescriptor(r,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?r.props.ref:r.props.ref||r.ref)}function NI(r){const t=PI(r),n=M.forwardRef((s,o)=>{const{children:u,...f}=s,d=M.Children.toArray(u),m=d.find(DI);if(m){const g=m.props.children,y=d.map(A=>A===m?M.Children.count(g)>1?M.Children.only(null):M.isValidElement(g)?g.props.children:null:A);return L.jsx(t,{...f,ref:o,children:M.isValidElement(g)?M.cloneElement(g,void 0,y):null})}return L.jsx(t,{...f,ref:o,children:u})});return n.displayName=`${r}.Slot`,n}function PI(r){const t=M.forwardRef((n,s)=>{const{children:o,...u}=n;if(M.isValidElement(o)){const f=kI(o),d=BI(u,o.props);return o.type!==M.Fragment&&(d.ref=s?Ua(s,f):f),M.cloneElement(o,d)}return M.Children.count(o)>1?M.Children.only(null):null});return t.displayName=`${r}.SlotClone`,t}var Gb=Symbol("radix.slottable");function OI(r){const t=({children:n})=>L.jsx(L.Fragment,{children:n});return t.displayName=`${r}.Slottable`,t.__radixId=Gb,t}function DI(r){return M.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===Gb}function BI(r,t){const n={...t};for(const s in t){const o=r[s],u=t[s];/^on[A-Z]/.test(s)?o&&u?n[s]=(...d)=>{const m=u(...d);return o(...d),m}:o&&(n[s]=o):s==="style"?n[s]={...o,...u}:s==="className"&&(n[s]=[o,u].filter(Boolean).join(" "))}return{...r,...n}}function kI(r){var s,o;let t=(s=Object.getOwnPropertyDescriptor(r.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?r.ref:(t=(o=Object.getOwnPropertyDescriptor(r,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?r.props.ref:r.props.ref||r.ref)}var jI=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],UI=jI.reduce((r,t)=>{const n=NI(`Primitive.${t}`),s=M.forwardRef((o,u)=>{const{asChild:f,...d}=o,m=f?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),L.jsx(m,{...d,ref:u})});return s.displayName=`Primitive.${t}`,{...r,[t]:s}},{}),zI=g_[" useInsertionEffect ".trim().toString()]||Js;function rh({prop:r,defaultProp:t,onChange:n=()=>{},caller:s}){const[o,u,f]=FI({defaultProp:t,onChange:n}),d=r!==void 0,m=d?r:o;{const y=M.useRef(r!==void 0);M.useEffect(()=>{const A=y.current;A!==d&&console.warn(`${s} is changing from ${A?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),y.current=d},[d,s])}const g=M.useCallback(y=>{var A;if(d){const E=HI(y)?y(r):y;E!==r&&((A=f.current)==null||A.call(f,E))}else u(y)},[d,r,u,f]);return[m,g]}function FI({defaultProp:r,onChange:t}){const[n,s]=M.useState(r),o=M.useRef(n),u=M.useRef(t);return zI(()=>{u.current=t},[t]),M.useEffect(()=>{var f;o.current!==n&&((f=u.current)==null||f.call(u,n),o.current=n)},[n,o]),[n,s,u]}function HI(r){return typeof r=="function"}function qI(r){const t=GI(r),n=M.forwardRef((s,o)=>{const{children:u,...f}=s,d=M.Children.toArray(u),m=d.find(QI);if(m){const g=m.props.children,y=d.map(A=>A===m?M.Children.count(g)>1?M.Children.only(null):M.isValidElement(g)?g.props.children:null:A);return L.jsx(t,{...f,ref:o,children:M.isValidElement(g)?M.cloneElement(g,void 0,y):null})}return L.jsx(t,{...f,ref:o,children:u})});return n.displayName=`${r}.Slot`,n}function GI(r){const t=M.forwardRef((n,s)=>{const{children:o,...u}=n;if(M.isValidElement(o)){const f=XI(o),d=YI(u,o.props);return o.type!==M.Fragment&&(d.ref=s?Ua(s,f):f),M.cloneElement(o,d)}return M.Children.count(o)>1?M.Children.only(null):null});return t.displayName=`${r}.SlotClone`,t}var $I=Symbol("radix.slottable");function QI(r){return M.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===$I}function YI(r,t){const n={...t};for(const s in t){const o=r[s],u=t[s];/^on[A-Z]/.test(s)?o&&u?n[s]=(...d)=>{const m=u(...d);return o(...d),m}:o&&(n[s]=o):s==="style"?n[s]={...o,...u}:s==="className"&&(n[s]=[o,u].filter(Boolean).join(" "))}return{...r,...n}}function XI(r){var s,o;let t=(s=Object.getOwnPropertyDescriptor(r.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?r.ref:(t=(o=Object.getOwnPropertyDescriptor(r,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?r.props.ref:r.props.ref||r.ref)}var KI=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],WI=KI.reduce((r,t)=>{const n=qI(`Primitive.${t}`),s=M.forwardRef((o,u)=>{const{asChild:f,...d}=o,m=f?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),L.jsx(m,{...d,ref:u})});return s.displayName=`Primitive.${t}`,{...r,[t]:s}},{}),ZI=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),JI="VisuallyHidden",$b=M.forwardRef((r,t)=>L.jsx(WI.span,{...r,ref:t,style:{...ZI,...r.style}}));$b.displayName=JI;var tL=$b,[ih,P3]=Pu("Tooltip",[Db]),sh=Db(),Qb="TooltipProvider",eL=700,Jm="tooltip.open",[nL,rg]=ih(Qb),Yb=r=>{const{__scopeTooltip:t,delayDuration:n=eL,skipDelayDuration:s=300,disableHoverableContent:o=!1,children:u}=r,f=M.useRef(!0),d=M.useRef(!1),m=M.useRef(0);return M.useEffect(()=>{const g=m.current;return()=>window.clearTimeout(g)},[]),L.jsx(nL,{scope:t,isOpenDelayedRef:f,delayDuration:n,onOpen:M.useCallback(()=>{window.clearTimeout(m.current),f.current=!1},[]),onClose:M.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>f.current=!0,s)},[s]),isPointerInTransitRef:d,onPointerInTransitChange:M.useCallback(g=>{d.current=g},[]),disableHoverableContent:o,children:u})};Yb.displayName=Qb;var xu="Tooltip",[rL,ah]=ih(xu),Xb=r=>{const{__scopeTooltip:t,children:n,open:s,defaultOpen:o,onOpenChange:u,disableHoverableContent:f,delayDuration:d}=r,m=rg(xu,r.__scopeTooltip),g=sh(t),[y,A]=M.useState(null),E=$p(),R=M.useRef(0),B=f??m.disableHoverableContent,k=d??m.delayDuration,N=M.useRef(!1),[X,$]=rh({prop:s,defaultProp:o??!1,onChange:I=>{I?(m.onOpen(),document.dispatchEvent(new CustomEvent(Jm))):m.onClose(),u==null||u(I)},caller:xu}),et=M.useMemo(()=>X?N.current?"delayed-open":"instant-open":"closed",[X]),ot=M.useCallback(()=>{window.clearTimeout(R.current),R.current=0,N.current=!1,$(!0)},[$]),st=M.useCallback(()=>{window.clearTimeout(R.current),R.current=0,$(!1)},[$]),ht=M.useCallback(()=>{window.clearTimeout(R.current),R.current=window.setTimeout(()=>{N.current=!0,$(!0),R.current=0},k)},[k,$]);return M.useEffect(()=>()=>{R.current&&(window.clearTimeout(R.current),R.current=0)},[]),L.jsx(RI,{...g,children:L.jsx(rL,{scope:t,contentId:E,open:X,stateAttribute:et,trigger:y,onTriggerChange:A,onTriggerEnter:M.useCallback(()=>{m.isOpenDelayedRef.current?ht():ot()},[m.isOpenDelayedRef,ht,ot]),onTriggerLeave:M.useCallback(()=>{B?st():(window.clearTimeout(R.current),R.current=0)},[st,B]),onOpen:ot,onClose:st,disableHoverableContent:B,children:n})})};Xb.displayName=xu;var tp="TooltipTrigger",Kb=M.forwardRef((r,t)=>{const{__scopeTooltip:n,...s}=r,o=ah(tp,n),u=rg(tp,n),f=sh(n),d=M.useRef(null),m=Gr(t,d,o.onTriggerChange),g=M.useRef(!1),y=M.useRef(!1),A=M.useCallback(()=>g.current=!1,[]);return M.useEffect(()=>()=>document.removeEventListener("pointerup",A),[A]),L.jsx(MI,{asChild:!0,...f,children:L.jsx(UI.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...s,ref:m,onPointerMove:qr(r.onPointerMove,E=>{E.pointerType!=="touch"&&!y.current&&!u.isPointerInTransitRef.current&&(o.onTriggerEnter(),y.current=!0)}),onPointerLeave:qr(r.onPointerLeave,()=>{o.onTriggerLeave(),y.current=!1}),onPointerDown:qr(r.onPointerDown,()=>{o.open&&o.onClose(),g.current=!0,document.addEventListener("pointerup",A,{once:!0})}),onFocus:qr(r.onFocus,()=>{g.current||o.onOpen()}),onBlur:qr(r.onBlur,o.onClose),onClick:qr(r.onClick,o.onClose)})})});Kb.displayName=tp;var iL="TooltipPortal",[O3,sL]=ih(iL,{forceMount:void 0}),Go="TooltipContent",Wb=M.forwardRef((r,t)=>{const n=sL(Go,r.__scopeTooltip),{forceMount:s=n.forceMount,side:o="top",...u}=r,f=ah(Go,r.__scopeTooltip);return L.jsx(ng,{present:s||f.open,children:f.disableHoverableContent?L.jsx(Zb,{side:o,...u,ref:t}):L.jsx(aL,{side:o,...u,ref:t})})}),aL=M.forwardRef((r,t)=>{const n=ah(Go,r.__scopeTooltip),s=rg(Go,r.__scopeTooltip),o=M.useRef(null),u=Gr(t,o),[f,d]=M.useState(null),{trigger:m,onClose:g}=n,y=o.current,{onPointerInTransitChange:A}=s,E=M.useCallback(()=>{d(null),A(!1)},[A]),R=M.useCallback((B,k)=>{const N=B.currentTarget,X={x:B.clientX,y:B.clientY},$=cL(X,N.getBoundingClientRect()),et=fL(X,$),ot=hL(k.getBoundingClientRect()),st=mL([...et,...ot]);d(st),A(!0)},[A]);return M.useEffect(()=>()=>E(),[E]),M.useEffect(()=>{if(m&&y){const B=N=>R(N,y),k=N=>R(N,m);return m.addEventListener("pointerleave",B),y.addEventListener("pointerleave",k),()=>{m.removeEventListener("pointerleave",B),y.removeEventListener("pointerleave",k)}}},[m,y,R,E]),M.useEffect(()=>{if(f){const B=k=>{const N=k.target,X={x:k.clientX,y:k.clientY},$=(m==null?void 0:m.contains(N))||(y==null?void 0:y.contains(N)),et=!dL(X,f);$?E():et&&(E(),g())};return document.addEventListener("pointermove",B),()=>document.removeEventListener("pointermove",B)}},[m,y,f,g,E]),L.jsx(Zb,{...r,ref:u})}),[oL,lL]=ih(xu,{isInside:!1}),uL=OI("TooltipContent"),Zb=M.forwardRef((r,t)=>{const{__scopeTooltip:n,children:s,"aria-label":o,onEscapeKeyDown:u,onPointerDownOutside:f,...d}=r,m=ah(Go,n),g=sh(n),{onClose:y}=m;return M.useEffect(()=>(document.addEventListener(Jm,y),()=>document.removeEventListener(Jm,y)),[y]),M.useEffect(()=>{if(m.trigger){const A=E=>{const R=E.target;R!=null&&R.contains(m.trigger)&&y()};return window.addEventListener("scroll",A,{capture:!0}),()=>window.removeEventListener("scroll",A,{capture:!0})}},[m.trigger,y]),L.jsx(bb,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:A=>A.preventDefault(),onDismiss:y,children:L.jsxs(xI,{"data-state":m.stateAttribute,...g,...d,ref:t,style:{...d.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[L.jsx(uL,{children:s}),L.jsx(oL,{scope:n,isInside:!0,children:L.jsx(tL,{id:m.contentId,role:"tooltip",children:o||s})})]})})});Wb.displayName=Go;var Jb="TooltipArrow",tE=M.forwardRef((r,t)=>{const{__scopeTooltip:n,...s}=r,o=sh(n);return lL(Jb,n).isInside?null:L.jsx(VI,{...o,...s,ref:t})});tE.displayName=Jb;function cL(r,t){const n=Math.abs(t.top-r.y),s=Math.abs(t.bottom-r.y),o=Math.abs(t.right-r.x),u=Math.abs(t.left-r.x);switch(Math.min(n,s,o,u)){case u:return"left";case o:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function fL(r,t,n=5){const s=[];switch(t){case"top":s.push({x:r.x-n,y:r.y+n},{x:r.x+n,y:r.y+n});break;case"bottom":s.push({x:r.x-n,y:r.y-n},{x:r.x+n,y:r.y-n});break;case"left":s.push({x:r.x+n,y:r.y-n},{x:r.x+n,y:r.y+n});break;case"right":s.push({x:r.x-n,y:r.y-n},{x:r.x-n,y:r.y+n});break}return s}function hL(r){const{top:t,right:n,bottom:s,left:o}=r;return[{x:o,y:t},{x:n,y:t},{x:n,y:s},{x:o,y:s}]}function dL(r,t){const{x:n,y:s}=r;let o=!1;for(let u=0,f=t.length-1;u<t.length;f=u++){const d=t[u],m=t[f],g=d.x,y=d.y,A=m.x,E=m.y;y>s!=E>s&&n<(A-g)*(s-y)/(E-y)+g&&(o=!o)}return o}function mL(r){const t=r.slice();return t.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),pL(t)}function pL(r){if(r.length<=1)return r.slice();const t=[];for(let s=0;s<r.length;s++){const o=r[s];for(;t.length>=2;){const u=t[t.length-1],f=t[t.length-2];if((u.x-f.x)*(o.y-f.y)>=(u.y-f.y)*(o.x-f.x))t.pop();else break}t.push(o)}t.pop();const n=[];for(let s=r.length-1;s>=0;s--){const o=r[s];for(;n.length>=2;){const u=n[n.length-1],f=n[n.length-2];if((u.x-f.x)*(o.y-f.y)>=(u.y-f.y)*(o.x-f.x))n.pop();else break}n.push(o)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var eE=Yb,nE=Xb,rE=Kb,iE=Wb,sE=tE;const vm=(r,t)=>t?L.jsxs(nE,{children:[L.jsx(rE,{asChild:!0,children:L.jsx("span",{className:"inline-block cursor-help",children:r})}),L.jsxs(iE,{className:"bg-teal-500 text-white text-sm font-small font-semibold tracking-wide px-2 py-1 rounded-md shadow-md border border-teal-100 max-w-xs break-words z-50",side:"top",sideOffset:8,children:[t,L.jsx(sE,{className:"fill-white"})]})]}):r,gL=({controls:r,values:t,onChange:n})=>{const[s,o]=M.useState(null),[u,f]=M.useState(0),d=(y,A)=>{o(y),f(A)},m=(y,A,E)=>{const R=Math.min(E,Math.max(A,u));n(y,R),o(null)},g=()=>{o(null)};return L.jsx("div",{className:"flex flex-col gap-1 mt-1 text-xs",children:r.map(y=>{switch(y.type){case"slider":{const A=t[y.key],E=s===y.key;return L.jsxs("label",{className:"flex flex-col",children:[L.jsxs("div",{className:"flex justify-between items-center",children:[L.jsx("span",{children:vm(y.label,y.tooltip)}),E?L.jsx("input",{type:"number",value:u,onChange:R=>f(parseFloat(R.target.value)),onBlur:()=>m(y.key,y.min,y.max),onKeyDown:R=>{R.key==="Enter"&&m(y.key,y.min,y.max),R.key==="Escape"&&g()},min:y.min,max:y.max,step:y.step??1,className:"w-20 text-right border px-1 rounded text-xs [appearance:textfield]",autoFocus:!0}):L.jsx("span",{className:"text-gray-500 cursor-pointer select-none",onDoubleClick:()=>d(y.key,A),title:"Double-click to edit",children:A})]}),L.jsx("input",{type:"range",min:y.min,max:y.max,step:y.step??1,className:"accent-blue-700",value:A,onChange:R=>n(y.key,Number(R.target.value))})]},y.key)}case"select":return L.jsxs("label",{className:"flex flex-col",children:[vm(y.label,y.tooltip),L.jsx("select",{value:t[y.key],className:"rounded border border-gray-400 mt-1",onChange:A=>n(y.key,A.target.value),children:y.options.map(A=>L.jsx("option",{value:A.value,children:A.label},A.value))})]},y.key);case"radio":return L.jsxs("div",{className:"flex flex-col",children:[L.jsx("div",{children:vm(y.label,y.tooltip)}),L.jsx("div",{className:"flex gap-1 flex-wrap",children:y.options.map(A=>L.jsxs("label",{className:"flex items-center gap-1",children:[L.jsx("input",{type:"radio",name:y.key,value:A.value,checked:t[y.key]===A.value,onChange:()=>{n(y.key,A.value)}}),A.label]},A.value))})]},y.key)}})})},yL=r=>Object.values(Em).filter(t=>t.group===r).map(t=>t.id),_m=({group:r,current:t,simOptions:n,updateSimOptions:s})=>{const o=yL(r),u=g=>{const y=n.clone();y.setStatus(r,g),s(y)},f=t,d=Em[f],m=f.toLowerCase();return L.jsxs("div",{className:"flex flex-col gap-2",children:[L.jsx("div",{className:"mt-1 flex flex-wrap gap-1 border-t pt-2",children:L.jsx(eE,{children:o.map(g=>{const y=Em[g];return L.jsxs(nE,{children:[L.jsx(rE,{asChild:!0,children:L.jsx("button",{onClick:()=>u(g),className:`px-2 py-1 rounded border text-xs font-medium tracking-wide transition ${t===g?"bg-zinc-300 text-teal-700 border-zinc-400":"hover:bg-zinc-200 border-zinc-400"}`,children:g})}),L.jsxs(iE,{className:"bg-teal-500 text-white text-sm font-small font-semibold tracking-wide px-2 py-1 rounded-md shadow-md border border-teal-100 max-w-xs break-words z-50",side:"top",sideOffset:4,children:[(y==null?void 0:y.label)??"",L.jsx(sE,{className:"fill-black"})]})]},g)})})}),(d==null?void 0:d.uiControls)&&L.jsx(gL,{controls:d.uiControls,values:n.getOptionsForStatus(m),onChange:(g,y)=>{const A=n.clone();A.setExtendedOption(m,g,y),s(A)}})]})};function ep(r){const t=vL(r),n=M.forwardRef((s,o)=>{const{children:u,...f}=s,d=M.Children.toArray(u),m=d.find(AL);if(m){const g=m.props.children,y=d.map(A=>A===m?M.Children.count(g)>1?M.Children.only(null):M.isValidElement(g)?g.props.children:null:A);return L.jsx(t,{...f,ref:o,children:M.isValidElement(g)?M.cloneElement(g,void 0,y):null})}return L.jsx(t,{...f,ref:o,children:u})});return n.displayName=`${r}.Slot`,n}function vL(r){const t=M.forwardRef((n,s)=>{const{children:o,...u}=n;if(M.isValidElement(o)){const f=EL(o),d=bL(u,o.props);return o.type!==M.Fragment&&(d.ref=s?Ua(s,f):f),M.cloneElement(o,d)}return M.Children.count(o)>1?M.Children.only(null):null});return t.displayName=`${r}.SlotClone`,t}var _L=Symbol("radix.slottable");function AL(r){return M.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===_L}function bL(r,t){const n={...t};for(const s in t){const o=r[s],u=t[s];/^on[A-Z]/.test(s)?o&&u?n[s]=(...d)=>{u(...d),o(...d)}:o&&(n[s]=o):s==="style"?n[s]={...o,...u}:s==="className"&&(n[s]=[o,u].filter(Boolean).join(" "))}return{...r,...n}}function EL(r){var s,o;let t=(s=Object.getOwnPropertyDescriptor(r.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?r.ref:(t=(o=Object.getOwnPropertyDescriptor(r,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?r.props.ref:r.props.ref||r.ref)}function TL(r){const t=r+"CollectionProvider",[n,s]=Pu(t),[o,u]=n(t,{collectionRef:{current:null},itemMap:new Map}),f=k=>{const{scope:N,children:X}=k,$=Ne.useRef(null),et=Ne.useRef(new Map).current;return L.jsx(o,{scope:N,itemMap:et,collectionRef:$,children:X})};f.displayName=t;const d=r+"CollectionSlot",m=ep(d),g=Ne.forwardRef((k,N)=>{const{scope:X,children:$}=k,et=u(d,X),ot=Gr(N,et.collectionRef);return L.jsx(m,{ref:ot,children:$})});g.displayName=d;const y=r+"CollectionItemSlot",A="data-radix-collection-item",E=ep(y),R=Ne.forwardRef((k,N)=>{const{scope:X,children:$,...et}=k,ot=Ne.useRef(null),st=Gr(N,ot),ht=u(y,X);return Ne.useEffect(()=>(ht.itemMap.set(ot,{ref:ot,...et}),()=>void ht.itemMap.delete(ot))),L.jsx(E,{[A]:"",ref:st,children:$})});R.displayName=y;function B(k){const N=u(r+"CollectionConsumer",k);return Ne.useCallback(()=>{const $=N.collectionRef.current;if(!$)return[];const et=Array.from($.querySelectorAll(`[${A}]`));return Array.from(N.itemMap.values()).sort((ht,I)=>et.indexOf(ht.ref.current)-et.indexOf(I.ref.current))},[N.collectionRef,N.itemMap])}return[{Provider:f,Slot:g,ItemSlot:R},B,s]}var SL=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Du=SL.reduce((r,t)=>{const n=ep(`Primitive.${t}`),s=M.forwardRef((o,u)=>{const{asChild:f,...d}=o,m=f?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),L.jsx(m,{...d,ref:u})});return s.displayName=`Primitive.${t}`,{...r,[t]:s}},{}),oh="Collapsible",[wL,aE]=Pu(oh),[RL,ig]=wL(oh),oE=M.forwardRef((r,t)=>{const{__scopeCollapsible:n,open:s,defaultOpen:o,disabled:u,onOpenChange:f,...d}=r,[m,g]=rh({prop:s,defaultProp:o??!1,onChange:f,caller:oh});return L.jsx(RL,{scope:n,disabled:u,contentId:$p(),open:m,onOpenToggle:M.useCallback(()=>g(y=>!y),[g]),children:L.jsx(Du.div,{"data-state":ag(m),"data-disabled":u?"":void 0,...d,ref:t})})});oE.displayName=oh;var lE="CollapsibleTrigger",uE=M.forwardRef((r,t)=>{const{__scopeCollapsible:n,...s}=r,o=ig(lE,n);return L.jsx(Du.button,{type:"button","aria-controls":o.contentId,"aria-expanded":o.open||!1,"data-state":ag(o.open),"data-disabled":o.disabled?"":void 0,disabled:o.disabled,...s,ref:t,onClick:qr(r.onClick,o.onOpenToggle)})});uE.displayName=lE;var sg="CollapsibleContent",cE=M.forwardRef((r,t)=>{const{forceMount:n,...s}=r,o=ig(sg,r.__scopeCollapsible);return L.jsx(ng,{present:n||o.open,children:({present:u})=>L.jsx(ML,{...s,ref:t,present:u})})});cE.displayName=sg;var ML=M.forwardRef((r,t)=>{const{__scopeCollapsible:n,present:s,children:o,...u}=r,f=ig(sg,n),[d,m]=M.useState(s),g=M.useRef(null),y=Gr(t,g),A=M.useRef(0),E=A.current,R=M.useRef(0),B=R.current,k=f.open||d,N=M.useRef(k),X=M.useRef(void 0);return M.useEffect(()=>{const $=requestAnimationFrame(()=>N.current=!1);return()=>cancelAnimationFrame($)},[]),Js(()=>{const $=g.current;if($){X.current=X.current||{transitionDuration:$.style.transitionDuration,animationName:$.style.animationName},$.style.transitionDuration="0s",$.style.animationName="none";const et=$.getBoundingClientRect();A.current=et.height,R.current=et.width,N.current||($.style.transitionDuration=X.current.transitionDuration,$.style.animationName=X.current.animationName),m(s)}},[f.open,s]),L.jsx(Du.div,{"data-state":ag(f.open),"data-disabled":f.disabled?"":void 0,id:f.contentId,hidden:!k,...u,ref:y,style:{"--radix-collapsible-content-height":E?`${E}px`:void 0,"--radix-collapsible-content-width":B?`${B}px`:void 0,...r.style},children:k&&o})});function ag(r){return r?"open":"closed"}var xL=oE,VL=uE,CL=cE,IL=M.createContext(void 0);function LL(r){const t=M.useContext(IL);return r||t||"ltr"}var Yr="Accordion",NL=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[og,PL,OL]=TL(Yr),[lh,D3]=Pu(Yr,[OL,aE]),lg=aE(),fE=Ne.forwardRef((r,t)=>{const{type:n,...s}=r,o=s,u=s;return L.jsx(og.Provider,{scope:r.__scopeAccordion,children:n==="multiple"?L.jsx(jL,{...u,ref:t}):L.jsx(kL,{...o,ref:t})})});fE.displayName=Yr;var[hE,DL]=lh(Yr),[dE,BL]=lh(Yr,{collapsible:!1}),kL=Ne.forwardRef((r,t)=>{const{value:n,defaultValue:s,onValueChange:o=()=>{},collapsible:u=!1,...f}=r,[d,m]=rh({prop:n,defaultProp:s??"",onChange:o,caller:Yr});return L.jsx(hE,{scope:r.__scopeAccordion,value:Ne.useMemo(()=>d?[d]:[],[d]),onItemOpen:m,onItemClose:Ne.useCallback(()=>u&&m(""),[u,m]),children:L.jsx(dE,{scope:r.__scopeAccordion,collapsible:u,children:L.jsx(mE,{...f,ref:t})})})}),jL=Ne.forwardRef((r,t)=>{const{value:n,defaultValue:s,onValueChange:o=()=>{},...u}=r,[f,d]=rh({prop:n,defaultProp:s??[],onChange:o,caller:Yr}),m=Ne.useCallback(y=>d((A=[])=>[...A,y]),[d]),g=Ne.useCallback(y=>d((A=[])=>A.filter(E=>E!==y)),[d]);return L.jsx(hE,{scope:r.__scopeAccordion,value:f,onItemOpen:m,onItemClose:g,children:L.jsx(dE,{scope:r.__scopeAccordion,collapsible:!0,children:L.jsx(mE,{...u,ref:t})})})}),[UL,uh]=lh(Yr),mE=Ne.forwardRef((r,t)=>{const{__scopeAccordion:n,disabled:s,dir:o,orientation:u="vertical",...f}=r,d=Ne.useRef(null),m=Gr(d,t),g=PL(n),A=LL(o)==="ltr",E=qr(r.onKeyDown,R=>{var S;if(!NL.includes(R.key))return;const B=R.target,k=g().filter(V=>{var D;return!((D=V.ref.current)!=null&&D.disabled)}),N=k.findIndex(V=>V.ref.current===B),X=k.length;if(N===-1)return;R.preventDefault();let $=N;const et=0,ot=X-1,st=()=>{$=N+1,$>ot&&($=et)},ht=()=>{$=N-1,$<et&&($=ot)};switch(R.key){case"Home":$=et;break;case"End":$=ot;break;case"ArrowRight":u==="horizontal"&&(A?st():ht());break;case"ArrowDown":u==="vertical"&&st();break;case"ArrowLeft":u==="horizontal"&&(A?ht():st());break;case"ArrowUp":u==="vertical"&&ht();break}const I=$%X;(S=k[I].ref.current)==null||S.focus()});return L.jsx(UL,{scope:n,disabled:s,direction:o,orientation:u,children:L.jsx(og.Slot,{scope:n,children:L.jsx(Du.div,{...f,"data-orientation":u,ref:m,onKeyDown:s?void 0:E})})})}),Of="AccordionItem",[zL,ug]=lh(Of),pE=Ne.forwardRef((r,t)=>{const{__scopeAccordion:n,value:s,...o}=r,u=uh(Of,n),f=DL(Of,n),d=lg(n),m=$p(),g=s&&f.value.includes(s)||!1,y=u.disabled||r.disabled;return L.jsx(zL,{scope:n,open:g,disabled:y,triggerId:m,children:L.jsx(xL,{"data-orientation":u.orientation,"data-state":bE(g),...d,...o,ref:t,disabled:y,open:g,onOpenChange:A=>{A?f.onItemOpen(s):f.onItemClose(s)}})})});pE.displayName=Of;var gE="AccordionHeader",yE=Ne.forwardRef((r,t)=>{const{__scopeAccordion:n,...s}=r,o=uh(Yr,n),u=ug(gE,n);return L.jsx(Du.h3,{"data-orientation":o.orientation,"data-state":bE(u.open),"data-disabled":u.disabled?"":void 0,...s,ref:t})});yE.displayName=gE;var np="AccordionTrigger",vE=Ne.forwardRef((r,t)=>{const{__scopeAccordion:n,...s}=r,o=uh(Yr,n),u=ug(np,n),f=BL(np,n),d=lg(n);return L.jsx(og.ItemSlot,{scope:n,children:L.jsx(VL,{"aria-disabled":u.open&&!f.collapsible||void 0,"data-orientation":o.orientation,id:u.triggerId,...d,...s,ref:t})})});vE.displayName=np;var _E="AccordionContent",AE=Ne.forwardRef((r,t)=>{const{__scopeAccordion:n,...s}=r,o=uh(Yr,n),u=ug(_E,n),f=lg(n);return L.jsx(CL,{role:"region","aria-labelledby":u.triggerId,"data-orientation":o.orientation,...f,...s,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...r.style}})});AE.displayName=_E;function bE(r){return r?"open":"closed"}var FL=fE,HL=pE,qL=yE,EE=vE,TE=AE;function SE(r){var t,n,s="";if(typeof r=="string"||typeof r=="number")s+=r;else if(typeof r=="object")if(Array.isArray(r)){var o=r.length;for(t=0;t<o;t++)r[t]&&(n=SE(r[t]))&&(s&&(s+=" "),s+=n)}else for(n in r)r[n]&&(s&&(s+=" "),s+=n);return s}function GL(){for(var r,t,n=0,s="",o=arguments.length;n<o;n++)(r=arguments[n])&&(t=SE(r))&&(s&&(s+=" "),s+=t);return s}const cg="-",$L=r=>{const t=YL(r),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=r;return{getClassGroupId:f=>{const d=f.split(cg);return d[0]===""&&d.length!==1&&d.shift(),wE(d,t)||QL(f)},getConflictingClassGroupIds:(f,d)=>{const m=n[f]||[];return d&&s[f]?[...m,...s[f]]:m}}},wE=(r,t)=>{var f;if(r.length===0)return t.classGroupId;const n=r[0],s=t.nextPart.get(n),o=s?wE(r.slice(1),s):void 0;if(o)return o;if(t.validators.length===0)return;const u=r.join(cg);return(f=t.validators.find(({validator:d})=>d(u)))==null?void 0:f.classGroupId},h_=/^\[(.+)\]$/,QL=r=>{if(h_.test(r)){const t=h_.exec(r)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},YL=r=>{const{theme:t,classGroups:n}=r,s={nextPart:new Map,validators:[]};for(const o in n)rp(n[o],s,o,t);return s},rp=(r,t,n,s)=>{r.forEach(o=>{if(typeof o=="string"){const u=o===""?t:d_(t,o);u.classGroupId=n;return}if(typeof o=="function"){if(XL(o)){rp(o(s),t,n,s);return}t.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([u,f])=>{rp(f,d_(t,u),n,s)})})},d_=(r,t)=>{let n=r;return t.split(cg).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},XL=r=>r.isThemeGetter,KL=r=>{if(r<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,s=new Map;const o=(u,f)=>{n.set(u,f),t++,t>r&&(t=0,s=n,n=new Map)};return{get(u){let f=n.get(u);if(f!==void 0)return f;if((f=s.get(u))!==void 0)return o(u,f),f},set(u,f){n.has(u)?n.set(u,f):o(u,f)}}},ip="!",sp=":",WL=sp.length,ZL=r=>{const{prefix:t,experimentalParseClassName:n}=r;let s=o=>{const u=[];let f=0,d=0,m=0,g;for(let B=0;B<o.length;B++){let k=o[B];if(f===0&&d===0){if(k===sp){u.push(o.slice(m,B)),m=B+WL;continue}if(k==="/"){g=B;continue}}k==="["?f++:k==="]"?f--:k==="("?d++:k===")"&&d--}const y=u.length===0?o:o.substring(m),A=JL(y),E=A!==y,R=g&&g>m?g-m:void 0;return{modifiers:u,hasImportantModifier:E,baseClassName:A,maybePostfixModifierPosition:R}};if(t){const o=t+sp,u=s;s=f=>f.startsWith(o)?u(f.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:f,maybePostfixModifierPosition:void 0}}if(n){const o=s;s=u=>n({className:u,parseClassName:o})}return s},JL=r=>r.endsWith(ip)?r.substring(0,r.length-1):r.startsWith(ip)?r.substring(1):r,t3=r=>{const t=Object.fromEntries(r.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const o=[];let u=[];return s.forEach(f=>{f[0]==="["||t[f]?(o.push(...u.sort(),f),u=[]):u.push(f)}),o.push(...u.sort()),o}},e3=r=>({cache:KL(r.cacheSize),parseClassName:ZL(r),sortModifiers:t3(r),...$L(r)}),n3=/\s+/,r3=(r,t)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:o,sortModifiers:u}=t,f=[],d=r.trim().split(n3);let m="";for(let g=d.length-1;g>=0;g-=1){const y=d[g],{isExternal:A,modifiers:E,hasImportantModifier:R,baseClassName:B,maybePostfixModifierPosition:k}=n(y);if(A){m=y+(m.length>0?" "+m:m);continue}let N=!!k,X=s(N?B.substring(0,k):B);if(!X){if(!N){m=y+(m.length>0?" "+m:m);continue}if(X=s(B),!X){m=y+(m.length>0?" "+m:m);continue}N=!1}const $=u(E).join(":"),et=R?$+ip:$,ot=et+X;if(f.includes(ot))continue;f.push(ot);const st=o(X,N);for(let ht=0;ht<st.length;++ht){const I=st[ht];f.push(et+I)}m=y+(m.length>0?" "+m:m)}return m};function i3(){let r=0,t,n,s="";for(;r<arguments.length;)(t=arguments[r++])&&(n=RE(t))&&(s&&(s+=" "),s+=n);return s}const RE=r=>{if(typeof r=="string")return r;let t,n="";for(let s=0;s<r.length;s++)r[s]&&(t=RE(r[s]))&&(n&&(n+=" "),n+=t);return n};function s3(r,...t){let n,s,o,u=f;function f(m){const g=t.reduce((y,A)=>A(y),r());return n=e3(g),s=n.cache.get,o=n.cache.set,u=d,d(m)}function d(m){const g=s(m);if(g)return g;const y=r3(m,n);return o(m,y),y}return function(){return u(i3.apply(null,arguments))}}const Ze=r=>{const t=n=>n[r]||[];return t.isThemeGetter=!0,t},ME=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,xE=/^\((?:(\w[\w-]*):)?(.+)\)$/i,a3=/^\d+\/\d+$/,o3=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,l3=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,u3=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,c3=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,f3=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Vo=r=>a3.test(r),Ht=r=>!!r&&!Number.isNaN(Number(r)),js=r=>!!r&&Number.isInteger(Number(r)),Am=r=>r.endsWith("%")&&Ht(r.slice(0,-1)),Ji=r=>o3.test(r),h3=()=>!0,d3=r=>l3.test(r)&&!u3.test(r),VE=()=>!1,m3=r=>c3.test(r),p3=r=>f3.test(r),g3=r=>!St(r)&&!wt(r),y3=r=>tl(r,LE,VE),St=r=>ME.test(r),Ca=r=>tl(r,NE,d3),bm=r=>tl(r,E3,Ht),m_=r=>tl(r,CE,VE),v3=r=>tl(r,IE,p3),rf=r=>tl(r,PE,m3),wt=r=>xE.test(r),Zl=r=>el(r,NE),_3=r=>el(r,T3),p_=r=>el(r,CE),A3=r=>el(r,LE),b3=r=>el(r,IE),sf=r=>el(r,PE,!0),tl=(r,t,n)=>{const s=ME.exec(r);return s?s[1]?t(s[1]):n(s[2]):!1},el=(r,t,n=!1)=>{const s=xE.exec(r);return s?s[1]?t(s[1]):n:!1},CE=r=>r==="position"||r==="percentage",IE=r=>r==="image"||r==="url",LE=r=>r==="length"||r==="size"||r==="bg-size",NE=r=>r==="length",E3=r=>r==="number",T3=r=>r==="family-name",PE=r=>r==="shadow",S3=()=>{const r=Ze("color"),t=Ze("font"),n=Ze("text"),s=Ze("font-weight"),o=Ze("tracking"),u=Ze("leading"),f=Ze("breakpoint"),d=Ze("container"),m=Ze("spacing"),g=Ze("radius"),y=Ze("shadow"),A=Ze("inset-shadow"),E=Ze("text-shadow"),R=Ze("drop-shadow"),B=Ze("blur"),k=Ze("perspective"),N=Ze("aspect"),X=Ze("ease"),$=Ze("animate"),et=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ot=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],st=()=>[...ot(),wt,St],ht=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto","contain","none"],S=()=>[wt,St,m],V=()=>[Vo,"full","auto",...S()],D=()=>[js,"none","subgrid",wt,St],j=()=>["auto",{span:["full",js,wt,St]},js,wt,St],U=()=>[js,"auto",wt,St],C=()=>["auto","min","max","fr",wt,St],Ot=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Et=()=>["start","end","center","stretch","center-safe","end-safe"],q=()=>["auto",...S()],at=()=>[Vo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...S()],Z=()=>[r,wt,St],Rt=()=>[...ot(),p_,m_,{position:[wt,St]}],P=()=>["no-repeat",{repeat:["","x","y","space","round"]}],rt=()=>["auto","cover","contain",A3,y3,{size:[wt,St]}],mt=()=>[Am,Zl,Ca],lt=()=>["","none","full",g,wt,St],gt=()=>["",Ht,Zl,Ca],yt=()=>["solid","dashed","dotted","double"],Vt=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],kt=()=>[Ht,Am,p_,m_],dt=()=>["","none",B,wt,St],Ut=()=>["none",Ht,wt,St],me=()=>["none",Ht,wt,St],Se=()=>[Ht,wt,St],pe=()=>[Vo,"full",...S()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ji],breakpoint:[Ji],color:[h3],container:[Ji],"drop-shadow":[Ji],ease:["in","out","in-out"],font:[g3],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ji],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ji],shadow:[Ji],spacing:["px",Ht],text:[Ji],"text-shadow":[Ji],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Vo,St,wt,N]}],container:["container"],columns:[{columns:[Ht,St,wt,d]}],"break-after":[{"break-after":et()}],"break-before":[{"break-before":et()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:st()}],overflow:[{overflow:ht()}],"overflow-x":[{"overflow-x":ht()}],"overflow-y":[{"overflow-y":ht()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:V()}],"inset-x":[{"inset-x":V()}],"inset-y":[{"inset-y":V()}],start:[{start:V()}],end:[{end:V()}],top:[{top:V()}],right:[{right:V()}],bottom:[{bottom:V()}],left:[{left:V()}],visibility:["visible","invisible","collapse"],z:[{z:[js,"auto",wt,St]}],basis:[{basis:[Vo,"full","auto",d,...S()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ht,Vo,"auto","initial","none",St]}],grow:[{grow:["",Ht,wt,St]}],shrink:[{shrink:["",Ht,wt,St]}],order:[{order:[js,"first","last","none",wt,St]}],"grid-cols":[{"grid-cols":D()}],"col-start-end":[{col:j()}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":D()}],"row-start-end":[{row:j()}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":C()}],"auto-rows":[{"auto-rows":C()}],gap:[{gap:S()}],"gap-x":[{"gap-x":S()}],"gap-y":[{"gap-y":S()}],"justify-content":[{justify:[...Ot(),"normal"]}],"justify-items":[{"justify-items":[...Et(),"normal"]}],"justify-self":[{"justify-self":["auto",...Et()]}],"align-content":[{content:["normal",...Ot()]}],"align-items":[{items:[...Et(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Et(),{baseline:["","last"]}]}],"place-content":[{"place-content":Ot()}],"place-items":[{"place-items":[...Et(),"baseline"]}],"place-self":[{"place-self":["auto",...Et()]}],p:[{p:S()}],px:[{px:S()}],py:[{py:S()}],ps:[{ps:S()}],pe:[{pe:S()}],pt:[{pt:S()}],pr:[{pr:S()}],pb:[{pb:S()}],pl:[{pl:S()}],m:[{m:q()}],mx:[{mx:q()}],my:[{my:q()}],ms:[{ms:q()}],me:[{me:q()}],mt:[{mt:q()}],mr:[{mr:q()}],mb:[{mb:q()}],ml:[{ml:q()}],"space-x":[{"space-x":S()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":S()}],"space-y-reverse":["space-y-reverse"],size:[{size:at()}],w:[{w:[d,"screen",...at()]}],"min-w":[{"min-w":[d,"screen","none",...at()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[f]},...at()]}],h:[{h:["screen",...at()]}],"min-h":[{"min-h":["screen","none",...at()]}],"max-h":[{"max-h":["screen",...at()]}],"font-size":[{text:["base",n,Zl,Ca]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,wt,bm]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Am,St]}],"font-family":[{font:[_3,St,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,wt,St]}],"line-clamp":[{"line-clamp":[Ht,"none",wt,bm]}],leading:[{leading:[u,...S()]}],"list-image":[{"list-image":["none",wt,St]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",wt,St]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Z()}],"text-color":[{text:Z()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...yt(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ht,"from-font","auto",wt,Ca]}],"text-decoration-color":[{decoration:Z()}],"underline-offset":[{"underline-offset":[Ht,"auto",wt,St]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",wt,St]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",wt,St]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Rt()}],"bg-repeat":[{bg:P()}],"bg-size":[{bg:rt()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},js,wt,St],radial:["",wt,St],conic:[js,wt,St]},b3,v3]}],"bg-color":[{bg:Z()}],"gradient-from-pos":[{from:mt()}],"gradient-via-pos":[{via:mt()}],"gradient-to-pos":[{to:mt()}],"gradient-from":[{from:Z()}],"gradient-via":[{via:Z()}],"gradient-to":[{to:Z()}],rounded:[{rounded:lt()}],"rounded-s":[{"rounded-s":lt()}],"rounded-e":[{"rounded-e":lt()}],"rounded-t":[{"rounded-t":lt()}],"rounded-r":[{"rounded-r":lt()}],"rounded-b":[{"rounded-b":lt()}],"rounded-l":[{"rounded-l":lt()}],"rounded-ss":[{"rounded-ss":lt()}],"rounded-se":[{"rounded-se":lt()}],"rounded-ee":[{"rounded-ee":lt()}],"rounded-es":[{"rounded-es":lt()}],"rounded-tl":[{"rounded-tl":lt()}],"rounded-tr":[{"rounded-tr":lt()}],"rounded-br":[{"rounded-br":lt()}],"rounded-bl":[{"rounded-bl":lt()}],"border-w":[{border:gt()}],"border-w-x":[{"border-x":gt()}],"border-w-y":[{"border-y":gt()}],"border-w-s":[{"border-s":gt()}],"border-w-e":[{"border-e":gt()}],"border-w-t":[{"border-t":gt()}],"border-w-r":[{"border-r":gt()}],"border-w-b":[{"border-b":gt()}],"border-w-l":[{"border-l":gt()}],"divide-x":[{"divide-x":gt()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":gt()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...yt(),"hidden","none"]}],"divide-style":[{divide:[...yt(),"hidden","none"]}],"border-color":[{border:Z()}],"border-color-x":[{"border-x":Z()}],"border-color-y":[{"border-y":Z()}],"border-color-s":[{"border-s":Z()}],"border-color-e":[{"border-e":Z()}],"border-color-t":[{"border-t":Z()}],"border-color-r":[{"border-r":Z()}],"border-color-b":[{"border-b":Z()}],"border-color-l":[{"border-l":Z()}],"divide-color":[{divide:Z()}],"outline-style":[{outline:[...yt(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ht,wt,St]}],"outline-w":[{outline:["",Ht,Zl,Ca]}],"outline-color":[{outline:Z()}],shadow:[{shadow:["","none",y,sf,rf]}],"shadow-color":[{shadow:Z()}],"inset-shadow":[{"inset-shadow":["none",A,sf,rf]}],"inset-shadow-color":[{"inset-shadow":Z()}],"ring-w":[{ring:gt()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Z()}],"ring-offset-w":[{"ring-offset":[Ht,Ca]}],"ring-offset-color":[{"ring-offset":Z()}],"inset-ring-w":[{"inset-ring":gt()}],"inset-ring-color":[{"inset-ring":Z()}],"text-shadow":[{"text-shadow":["none",E,sf,rf]}],"text-shadow-color":[{"text-shadow":Z()}],opacity:[{opacity:[Ht,wt,St]}],"mix-blend":[{"mix-blend":[...Vt(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Vt()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ht]}],"mask-image-linear-from-pos":[{"mask-linear-from":kt()}],"mask-image-linear-to-pos":[{"mask-linear-to":kt()}],"mask-image-linear-from-color":[{"mask-linear-from":Z()}],"mask-image-linear-to-color":[{"mask-linear-to":Z()}],"mask-image-t-from-pos":[{"mask-t-from":kt()}],"mask-image-t-to-pos":[{"mask-t-to":kt()}],"mask-image-t-from-color":[{"mask-t-from":Z()}],"mask-image-t-to-color":[{"mask-t-to":Z()}],"mask-image-r-from-pos":[{"mask-r-from":kt()}],"mask-image-r-to-pos":[{"mask-r-to":kt()}],"mask-image-r-from-color":[{"mask-r-from":Z()}],"mask-image-r-to-color":[{"mask-r-to":Z()}],"mask-image-b-from-pos":[{"mask-b-from":kt()}],"mask-image-b-to-pos":[{"mask-b-to":kt()}],"mask-image-b-from-color":[{"mask-b-from":Z()}],"mask-image-b-to-color":[{"mask-b-to":Z()}],"mask-image-l-from-pos":[{"mask-l-from":kt()}],"mask-image-l-to-pos":[{"mask-l-to":kt()}],"mask-image-l-from-color":[{"mask-l-from":Z()}],"mask-image-l-to-color":[{"mask-l-to":Z()}],"mask-image-x-from-pos":[{"mask-x-from":kt()}],"mask-image-x-to-pos":[{"mask-x-to":kt()}],"mask-image-x-from-color":[{"mask-x-from":Z()}],"mask-image-x-to-color":[{"mask-x-to":Z()}],"mask-image-y-from-pos":[{"mask-y-from":kt()}],"mask-image-y-to-pos":[{"mask-y-to":kt()}],"mask-image-y-from-color":[{"mask-y-from":Z()}],"mask-image-y-to-color":[{"mask-y-to":Z()}],"mask-image-radial":[{"mask-radial":[wt,St]}],"mask-image-radial-from-pos":[{"mask-radial-from":kt()}],"mask-image-radial-to-pos":[{"mask-radial-to":kt()}],"mask-image-radial-from-color":[{"mask-radial-from":Z()}],"mask-image-radial-to-color":[{"mask-radial-to":Z()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":ot()}],"mask-image-conic-pos":[{"mask-conic":[Ht]}],"mask-image-conic-from-pos":[{"mask-conic-from":kt()}],"mask-image-conic-to-pos":[{"mask-conic-to":kt()}],"mask-image-conic-from-color":[{"mask-conic-from":Z()}],"mask-image-conic-to-color":[{"mask-conic-to":Z()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Rt()}],"mask-repeat":[{mask:P()}],"mask-size":[{mask:rt()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",wt,St]}],filter:[{filter:["","none",wt,St]}],blur:[{blur:dt()}],brightness:[{brightness:[Ht,wt,St]}],contrast:[{contrast:[Ht,wt,St]}],"drop-shadow":[{"drop-shadow":["","none",R,sf,rf]}],"drop-shadow-color":[{"drop-shadow":Z()}],grayscale:[{grayscale:["",Ht,wt,St]}],"hue-rotate":[{"hue-rotate":[Ht,wt,St]}],invert:[{invert:["",Ht,wt,St]}],saturate:[{saturate:[Ht,wt,St]}],sepia:[{sepia:["",Ht,wt,St]}],"backdrop-filter":[{"backdrop-filter":["","none",wt,St]}],"backdrop-blur":[{"backdrop-blur":dt()}],"backdrop-brightness":[{"backdrop-brightness":[Ht,wt,St]}],"backdrop-contrast":[{"backdrop-contrast":[Ht,wt,St]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ht,wt,St]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ht,wt,St]}],"backdrop-invert":[{"backdrop-invert":["",Ht,wt,St]}],"backdrop-opacity":[{"backdrop-opacity":[Ht,wt,St]}],"backdrop-saturate":[{"backdrop-saturate":[Ht,wt,St]}],"backdrop-sepia":[{"backdrop-sepia":["",Ht,wt,St]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":S()}],"border-spacing-x":[{"border-spacing-x":S()}],"border-spacing-y":[{"border-spacing-y":S()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",wt,St]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ht,"initial",wt,St]}],ease:[{ease:["linear","initial",X,wt,St]}],delay:[{delay:[Ht,wt,St]}],animate:[{animate:["none",$,wt,St]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[k,wt,St]}],"perspective-origin":[{"perspective-origin":st()}],rotate:[{rotate:Ut()}],"rotate-x":[{"rotate-x":Ut()}],"rotate-y":[{"rotate-y":Ut()}],"rotate-z":[{"rotate-z":Ut()}],scale:[{scale:me()}],"scale-x":[{"scale-x":me()}],"scale-y":[{"scale-y":me()}],"scale-z":[{"scale-z":me()}],"scale-3d":["scale-3d"],skew:[{skew:Se()}],"skew-x":[{"skew-x":Se()}],"skew-y":[{"skew-y":Se()}],transform:[{transform:[wt,St,"","none","gpu","cpu"]}],"transform-origin":[{origin:st()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:pe()}],"translate-x":[{"translate-x":pe()}],"translate-y":[{"translate-y":pe()}],"translate-z":[{"translate-z":pe()}],"translate-none":["translate-none"],accent:[{accent:Z()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Z()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",wt,St]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",wt,St]}],fill:[{fill:["none",...Z()]}],"stroke-w":[{stroke:[Ht,Zl,Ca,bm]}],stroke:[{stroke:["none",...Z()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},w3=s3(S3);function fg(...r){return w3(GL(r))}const R3=FL,iu=M.forwardRef(({className:r,...t},n)=>L.jsx(HL,{ref:n,className:fg("border-b",r),...t}));iu.displayName="AccordionItem";const su=M.forwardRef(({className:r,children:t,...n},s)=>L.jsx(qL,{className:"flex",children:L.jsxs(EE,{ref:s,className:fg("flex flex-1 items-center justify-between py-1 text-sm font-medium transition-all hover:underline text-left [&[data-state=open]>svg]:rotate-180",r),...n,children:[t,L.jsx(wV,{className:"h-4 w-4 shrink-0 text-muted-foreground transition-transform duration-200"})]})}));su.displayName=EE.displayName;const au=M.forwardRef(({className:r,children:t,...n},s)=>L.jsx(TE,{ref:s,className:"overflow-hidden text-sm data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:L.jsx("div",{className:fg("pb-0 pt-0",r),children:t})}));au.displayName=TE.displayName;const M3=()=>{const{simOptions:r,updateSimOptions:t,isBeepOn:n,isAlarmOn:s,toggleBeep:o,toggleAlarm:u,resetSimOptions:f}=Ym(),{shareCase:d}=Ym(),m=(g,y)=>{const A=new Ir(r);switch(g){case"sinus":A.sinusRate=y;break;case"junction":A.junctionRate=y;break;case"ventricle":A.ventricleRate=y;break;case"respiration":A.respRate=y;break;case"etco2":A.etco2=y;break;case"pi":A.pi=y;break}t(A)};return L.jsxs("div",{className:"space-y-1",children:[L.jsxs("div",{className:"flex w-full items-stretch gap-1",children:[L.jsxs("div",{className:"flex flex-col gap-1 w-[60%]",children:[L.jsxs("button",{className:"h-6 w-full flex items-center gap-1 border border-gray-300 bg-white rounded px-2 text-xs text-gray-800",onClick:o,type:"button",children:[n?L.jsx(BV,{className:"w-3 h-3 text-green-600"}):L.jsx(jV,{className:"w-3 h-3 text-gray-500"}),"SYNC BEEP ",n?"ON":"OFF"]}),L.jsxs("button",{className:"h-6 w-full flex items-center gap-1 border border-gray-300 bg-white rounded px-2 text-xs text-gray-800",onClick:u,type:"button",children:[s?L.jsx(TV,{className:"w-3 h-3 text-yellow-600"}):L.jsx(yb,{className:"w-3 h-3 text-yellow-500"}),"ALARM ",s?"ON":"OFF"]})]}),L.jsxs("button",{className:"hidden md:flex relative w-[40%] h-13 items-center justify-center border border-gray-300 bg-white rounded text-gray-800 px-2 text-xs overflow-hidden",onClick:d,type:"button",children:[L.jsx(VV,{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-12 h-12 text-blue-400 opacity-10 pointer-events-none","aria-hidden":"true"}),L.jsx("span",{className:"relative z-10 text-gray-800 text-xs text-center leading-tight pointer-events-none select-none",children:"START SHARED SESSION"})]}),L.jsxs("button",{className:"flex md:hidden relative w-[40%] h-13 items-center justify-center border border-gray-300 bg-white rounded text-gray-800 px-2 text-xs overflow-hidden",onClick:d,type:"button",children:[L.jsx(MV,{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-12 h-12 text-green-400 opacity-10 pointer-events-none","aria-hidden":"true"}),L.jsx("span",{className:"relative z-10 text-gray-800 text-xs text-center leading-tight pointer-events-none select-none",children:"JOIN SHARED SESSION"})]})]}),L.jsx(di,{label:"SpO₂",value:r.spo2,min:50,max:100,step:1,digits:0,unit:"%",onChange:g=>{const y=new Ir(r);console.log("[UI] SpO₂ changed",g,y.getRaw(),"at",Date.now()),y.spo2=g,t(y)},colorClass:"accent-cyan-600"}),L.jsxs("div",{className:"flex gap-1",children:[L.jsx("div",{className:"flex-[2] min-w-0",children:L.jsx(di,{label:"NIBP",value:r.sysBp,min:0,max:250,step:1,digits:0,unit:"",onChange:g=>{const y=new Ir(r);y.sysBp=g,t(y)},colorClass:"accent-orange-600"})}),L.jsx("div",{className:"flex-[1] min-w-0",children:L.jsx(di,{label:"/",value:r.diaBp,min:0,max:250,step:1,digits:0,unit:"mmHg",onChange:g=>{const y=new Ir(r);y.diaBp=g,t(y)},colorClass:"accent-orange-600"})})]}),L.jsxs(R3,{type:"multiple",className:"w-full space-y-1",children:[L.jsxs(iu,{value:"sinus",children:[L.jsx(su,{children:"Sinus Node"}),L.jsxs(au,{className:"space-y-1 text-sm",children:[L.jsx(di,{label:"Sinus Rate",value:r.sinusRate,min:0,max:200,step:1,digits:0,unit:"bpm",onChange:g=>m("sinus",g),colorClass:"accent-green-500"}),L.jsx(_m,{group:"sinus_status",current:r.getStatus("sinus_status")??"",simOptions:r,updateSimOptions:t})]})]}),L.jsxs(iu,{value:"junction",children:[L.jsx(su,{children:"Junction Node"}),L.jsxs(au,{className:"space-y-1",children:[L.jsx(di,{label:"Junction Rate",value:r.junctionRate,min:0,max:200,step:1,digits:0,unit:"bpm",onChange:g=>m("junction",g),colorClass:"accent-green-500"}),L.jsx(_m,{group:"junction_status",current:r.getStatus("junction_status")??"",simOptions:r,updateSimOptions:t}),L.jsx(_m,{group:"conduction_status",current:r.getStatus("conduction_status")??"",simOptions:r,updateSimOptions:t})]})]}),L.jsxs(iu,{value:"ventricle",children:[L.jsx(su,{children:"Ventricle Node"}),L.jsx(au,{className:"space-y-1",children:L.jsx(di,{label:"Ventricle Rate",value:r.ventricleRate,min:0,max:200,step:1,digits:0,unit:"bpm",onChange:g=>m("ventricle",g),colorClass:"accent-green-500"})})]}),L.jsxs(iu,{value:"respiration",children:[L.jsx(su,{children:"Respiration"}),L.jsxs(au,{className:"space-y-1",children:[L.jsx(di,{label:"SpO₂",value:r.spo2,min:50,max:100,step:1,digits:0,unit:"%",onChange:g=>{const y=new Ir(r);y.spo2=g,t(y)},colorClass:"accent-cyan-600"}),L.jsx(di,{label:"perfusion index",value:r.pi??.2,min:.1,max:4,step:.1,digits:1,unit:"",onChange:g=>m("pi",g),colorClass:"accent-cyan-600"}),L.jsx(di,{label:"Respiration Rate",value:r.respRate??12,min:0,max:60,step:1,digits:0,unit:"bpm",onChange:g=>m("respiration",g),colorClass:"accent-yellow-400"}),L.jsx(di,{label:"ETCO₂",value:r.etco2??38,min:0,max:80,step:1,digits:0,unit:"mmHg",onChange:g=>m("etco2",g),colorClass:"accent-yellow-400"})]})]})]}),L.jsx("button",{className:"abosolute bottom-2 text-xs font-medium tracking-wide px-3 py-1 rounded border border-zinc-400 transition hover:bg-zinc-200",onClick:()=>{const g=HT(r),y=`${window.location.origin}/pulsedom/?sim=${g}`;navigator.clipboard.writeText(y).then(()=>alert("✅ URL copied!")).catch(()=>alert("❌ Failed to copy URL"))},children:L.jsx(OV,{className:"w-6 h-6"})}),L.jsxs("button",{className:"absolute bottom-2 right-20 text-xs font-medium tracking-wide px-3 py-1 rounded border border-zinc-400 transition hover:bg-red-200",onClick:()=>{window.confirm("本当に全員の設定をリセットしますか？")&&(f(),alert("✅ シミュレータをリセットしました！"))},children:[L.jsx("span",{className:"inline-block align-middle mr-2",children:L.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5 inline",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:L.jsx("path",{d:"M21 12A9 9 0 1 1 3 12h3m0 0V9m0 3h3"})})}),"Reset"]})]})},x3=["I","aVR","V1","V4","II","aVL","V2","V5","III","aVF","V3","V6"],V3=()=>{const{bufferRef:r,hr:t,isEditorVisible:n,setEditorVisible:s,simOptions:o,mode:u,remoteBuffer:f}=Ym(),{alarmLevel:d,alarmMessages:m,stopAlarm:g}=R_(o,t),[y,A]=M.useState(!1),E=u==="edit"||u==="view"?{current:f??{}}:r;return L.jsxs("div",{className:"relative min-h-screen bg-gray-50",children:[L.jsx("button",{onClick:()=>s(!n),className:`absolute top-2 ${n?"right-[262px]":"right-2"} w-11 h-11 rounded-full bg-zinc-500 hover:bg-zinc-600 text-white flex items-center justify-center shadow-md z-50`,children:n?L.jsx(IV,{size:20}):L.jsx(NV,{size:20})}),L.jsx("button",{onClick:g,className:`fixed bottom-2 ${n?"right-[262px]":"right-2"} w-11 h-11 bg-yellow-500 hover:bg-yellow-600 rounded-full flex items-center justify-center text-white shadow-lg z-50`,title:"Stop alarm",children:L.jsx(yb,{size:20})}),L.jsx("button",{onClick:()=>A(!y),className:"hidden fixed bottom-4 left-4 bg-teal-500 hover:bg-teal-600 px-4 py-2 rounded-xl font-bold",children:y?"Back to Monitor":"Show 12 Leads"}),L.jsxs("div",{className:"flex min-h-screen",children:[L.jsxs("div",{className:"flex-1 bg-black text-white p-4 bg-gray-800",children:[L.jsx("div",{className:`absolute tracking-tight top-0 left-0 w-full h-12 z-40 flex items-center justify-between text-white font-bold text-base sm:text-lg md:text-xl ${d==="critical"?"bg-red-500":d==="warning"?"bg-yellow-500 text-black":"bg-teal-500 text-white"}`,children:L.jsx("span",{className:"pl-4",children:d==="normal"?`Vital Signs Simulator PULSEDOM ${up}`:(m??[]).sort(R=>R.includes("Critical")?-1:1).map(R=>`[${R}]`).join(" ")})}),L.jsx("div",{className:"flex justify-between items-center mb-4",children:L.jsx("span",{className:"text-xl font-bold",children:"PULSEDOM"})}),!y&&L.jsxs("div",{className:"grid grid-cols-2 gap-1 rounded-none sm:grid-cols-4 md:grid-cols-6 xl:grid-cols-8",children:[L.jsx("div",{className:"h-full col-span-1 sm:order-1 md:order-1",children:L.jsx(Mo,{param:A_,value:t})}),L.jsx("div",{className:"h-full col-span-1 sm:order-2 md:order-2",children:L.jsx(Mo,{param:b_,value:o.spo2})}),L.jsx("div",{className:"h-full col-span-2 sm:order-3 md:order-4",children:L.jsxs("div",{className:"h-full relative flex items-end justify-between bg-black rounded-md",children:[L.jsx("div",{className:"h-full w-1/2",children:L.jsx(Mo,{param:E_,value:o.sysBp})}),L.jsx("div",{className:"h-full w-1/2",children:L.jsx(Mo,{param:T_,value:o.diaBp})})]})}),L.jsx("div",{className:" text-sm text-left col-span-2 sm:order-4 sm:col-span-4 md:order-3 xl:col-span-6",children:L.jsx(Wl,{bufferRef:E,signalKey:"II",label:"Lead II"})}),L.jsx("div",{className:" text-sm text-left col-span-2 sm:order-5 sm:col-span-4 md:order-5 xl:col-span-6",children:L.jsx(Wl,{bufferRef:E,signalKey:"spo2",label:"spo2"})}),L.jsx("div",{className:"h-full col-span-1 sm:order-9 md:order-9",children:L.jsx(Mo,{param:S_,value:o.etco2})}),L.jsx("div",{className:"h-full col-span-1 sm:order-10 md:order-10",children:L.jsx(Mo,{param:w_,value:o.respRate})}),L.jsx("div",{className:" text-sm text-left col-span-2 sm:order-11 sm:col-span-4 md:order-11 xl:col-span-6",children:L.jsx(Wl,{bufferRef:E,signalKey:"etco2",label:"EtCO₂"})})]}),y&&L.jsxs(L.Fragment,{children:[L.jsx("div",{className:"grid grid-cols-4 gap-2 mb-4",children:x3.map(R=>L.jsx(Wl,{bufferRef:r,signalKey:R,label:R},R))}),L.jsx("div",{className:"col-span-4 mb-4",children:L.jsx(Wl,{bufferRef:r,signalKey:"II",label:"Lead II (Long Lead)"})})]})]}),n&&L.jsx("div",{className:`\r
            fixed right-0 top-0 w-[250px] h-full bg-white text-black border-l border-zinc-300 p-4 overflow-y-auto z-40 shadow-xl  \r
          `,children:L.jsx(M3,{})})]})]})};function C3(){return L.jsx(mV,{children:L.jsx(gV,{children:L.jsx(eE,{children:L.jsx(V3,{})})})})}console.log("🔥 [main.tsx] loaded");yT.createRoot(document.getElementById("root")).render(L.jsx(Ne.StrictMode,{children:L.jsx(C3,{})}));
